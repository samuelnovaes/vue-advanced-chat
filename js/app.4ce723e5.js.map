{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/github.svg","webpack:///../src/utils/constants.js","webpack:///../src/utils/media-file.js","webpack:///./src/App.vue?9265","webpack:///./src/firestore/index.js","webpack:///./src/ChatContainer.vue?8604","webpack:///./src/utils/dates.js","webpack:///../src/lib/ChatWindow.vue?8a34","webpack:///../src/lib/RoomsList/RoomsList.vue?987f","webpack:///../src/components/Loader/Loader.vue?2f80","webpack:///../src/components/Loader/Loader.vue","webpack:///../src/components/Loader/Loader.vue?a15e","webpack:///../src/components/Loader/Loader.vue?22ce","webpack:///../src/lib/RoomsList/RoomsSearch/RoomsSearch.vue?8f0f","webpack:///../src/components/SvgIcon/SvgIcon.vue?8a74","webpack:///../src/components/SvgIcon/SvgIcon.vue","webpack:///../src/components/SvgIcon/SvgIcon.vue?a99b","webpack:///../src/components/SvgIcon/SvgIcon.vue?6c79","webpack:///../src/lib/RoomsList/RoomsSearch/RoomsSearch.vue","webpack:///../src/lib/RoomsList/RoomsSearch/RoomsSearch.vue?a59b","webpack:///../src/lib/RoomsList/RoomsSearch/RoomsSearch.vue?846d","webpack:///../src/lib/RoomsList/RoomContent/RoomContent.vue?722a","webpack:///../src/components/FormatMessage/FormatMessage.vue?3ee3","webpack:///../src/utils/format-string.js","webpack:///../src/components/FormatMessage/FormatMessage.vue","webpack:///../src/components/FormatMessage/FormatMessage.vue?a696","webpack:///../src/components/FormatMessage/FormatMessage.vue?50d1","webpack:///../src/utils/typing-text.js","webpack:///../src/lib/RoomsList/RoomContent/RoomContent.vue","webpack:///../src/lib/RoomsList/RoomContent/RoomContent.vue?391e","webpack:///../src/lib/RoomsList/RoomContent/RoomContent.vue?59a6","webpack:///../src/utils/filter-items.js","webpack:///../src/lib/RoomsList/RoomsList.vue","webpack:///../src/utils/mp3-encoder.js","webpack:///../src/lib/RoomsList/RoomsList.vue?cf9f","webpack:///../src/lib/RoomsList/RoomsList.vue?0b2d","webpack:///../src/lib/Room/Room.vue?7450","webpack:///../src/components/EmojiPicker/EmojiPicker.vue?ce0c","webpack:///../src/components/EmojiPicker/EmojiPicker.vue","webpack:///../src/components/EmojiPicker/EmojiPicker.vue?eac6","webpack:///../src/components/EmojiPicker/EmojiPicker.vue?c1ea","webpack:///../src/lib/Room/RoomHeader/RoomHeader.vue?2901","webpack:///../src/lib/Room/RoomHeader/RoomHeader.vue","webpack:///../src/lib/Room/RoomHeader/RoomHeader.vue?1349","webpack:///../src/lib/Room/RoomHeader/RoomHeader.vue?2cdd","webpack:///../src/lib/Room/RoomMessageReply/RoomMessageReply.vue?a254","webpack:///../src/lib/Message/AudioPlayer/AudioPlayer.vue?7e9c","webpack:///../src/lib/Message/AudioControl/AudioControl.vue?a80d","webpack:///../src/lib/Message/AudioControl/AudioControl.vue","webpack:///../src/lib/Message/AudioControl/AudioControl.vue?3acb","webpack:///../src/lib/Message/AudioControl/AudioControl.vue?f42a","webpack:///../src/lib/Message/AudioPlayer/AudioPlayer.vue","webpack:///../src/lib/Message/AudioPlayer/AudioPlayer.vue?bd89","webpack:///../src/lib/Message/AudioPlayer/AudioPlayer.vue?cb9f","webpack:///../src/lib/Room/RoomMessageReply/RoomMessageReply.vue","webpack:///../src/lib/Room/RoomMessageReply/RoomMessageReply.vue?6d21","webpack:///../src/lib/Room/RoomMessageReply/RoomMessageReply.vue?da32","webpack:///../src/lib/Room/RoomUsersTag/RoomUsersTag.vue?4ff7","webpack:///../src/lib/Room/RoomUsersTag/RoomUsersTag.vue","webpack:///../src/lib/Room/RoomUsersTag/RoomUsersTag.vue?7ed8","webpack:///../src/lib/Room/RoomUsersTag/RoomUsersTag.vue?4347","webpack:///../src/lib/Room/RoomEmojis/RoomEmojis.vue?a32e","webpack:///../src/lib/Room/RoomEmojis/RoomEmojis.vue","webpack:///../src/lib/Room/RoomEmojis/RoomEmojis.vue?9730","webpack:///../src/lib/Room/RoomEmojis/RoomEmojis.vue?9a00","webpack:///../src/lib/Message/Message.vue?318c","webpack:///../src/lib/Message/MessageReply/MessageReply.vue?2d1d","webpack:///../src/lib/Message/MessageReply/MessageReply.vue","webpack:///../src/lib/Message/MessageReply/MessageReply.vue?00ac","webpack:///../src/lib/Message/MessageReply/MessageReply.vue?39ca","webpack:///../src/lib/Message/MessageImage/MessageImage.vue?1a31","webpack:///../src/lib/Message/MessageImage/MessageImage.vue","webpack:///../src/lib/Message/MessageImage/MessageImage.vue?1768","webpack:///../src/lib/Message/MessageImage/MessageImage.vue?8894","webpack:///../src/lib/Message/MessageActions/MessageActions.vue?957b","webpack:///../src/lib/Message/MessageActions/MessageActions.vue","webpack:///../src/lib/Message/MessageActions/MessageActions.vue?97b9","webpack:///../src/lib/Message/MessageActions/MessageActions.vue?923b","webpack:///../src/lib/Message/MessageReactions/MessageReactions.vue?8d26","webpack:///../src/lib/Message/MessageReactions/MessageReactions.vue","webpack:///../src/lib/Message/MessageReactions/MessageReactions.vue?55c0","webpack:///../src/lib/Message/MessageReactions/MessageReactions.vue?d21c","webpack:///../src/lib/Message/Message.vue","webpack:///../src/lib/Message/Message.vue?6fee","webpack:///../src/lib/Message/Message.vue?169b","webpack:///../src/utils/recorder.js","webpack:///../src/lib/Room/Room.vue","webpack:///../src/lib/Room/Room.vue?d6bc","webpack:///../src/lib/Room/Room.vue?3508","webpack:///../src/locales/index.js","webpack:///../src/themes/index.js","webpack:///../src/lib/ChatWindow.vue","webpack:///../src/lib/ChatWindow.vue?13a7","webpack:///../src/lib/ChatWindow.vue?eb0f","webpack:///src/ChatContainer.vue","webpack:///./src/ChatContainer.vue?e975","webpack:///./src/ChatContainer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?f446","webpack:///../src/utils/mobile-detection.js","webpack:///../src/utils/data-validation.js","webpack:///../src/lib/ChatWindow.vue?af72","webpack:///./src/assets/logo.png","webpack:///./src/ChatContainer.vue?de36"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","IMAGE_TYPES","VIDEO_TYPES","AUDIO_TYPES","checkMediaType","types","file","type","some","toLowerCase","includes","isImageFile","isVideoFile","isAudioFile","_vm","this","_h","$createElement","_c","_self","staticClass","class","isDevice","theme","_v","_e","directives","rawName","expression","on","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","currentUserId","multiple","_l","user","_id","domProps","_s","username","_m","attrs","showDemoOptions","staticRenderFns","config","JSON","parse","process","app","initializeApp","firebase","db","firestore","storageRef","storage","ref","usersRef","collection","roomsRef","messagesRef","roomId","doc","filesRef","child","deleteDbField","FieldValue","serverTimestamp","preventDefault","createRoom","composing","addRoomUsername","disableForm","addNewRoom","addRoomUser","invitedUsername","inviteRoomId","deleteRoomUser","removeUserId","removeRoomId","screenHeight","styles","loadedRooms","loadingRooms","messages","messagesLoaded","roomsLoaded","roomActions","menuActions","roomMessage","fetchMoreRooms","fetchMessages","sendMessage","editMessage","deleteMessage","openFile","openUserTag","addRoom","menuActionHandler","sendMessageReaction","typingMessage","$emit","opened","parseTimestamp","timestamp","format","date","seconds","Date","zeroPad","getHours","getMinutes","month","year","day","Intl","DateTimeFormat","num","pad","String","padStart","isSameDay","d1","d2","getFullYear","getMonth","getDate","style","height","cssVars","singleRoom","orderedRooms","room","showSearch","showAddRoom","showRoomsList","textFormatting","linkOptions","isMobile","fetchRoom","loadingMoreRooms","roomActionHandler","scopedSlots","_u","fn","_t","rooms","loadFirstRoom","messageActions","showSendIcon","showFiles","showAudio","showEmojis","showReactionEmojis","showNewMessagesDivider","showFooter","$listeners","acceptedFiles","toggleRoomsList","roomInfo","messageActionHandler","textareaActionHandler","textMessages","searchRoom","ROOMS_EMPTY","fRoom","selectedRoomId","openRoom","loadMoreRooms","slot","infinite","component","showSearchBar","SEARCH","size","svgId","svgItem","path","path2","userStatus","roomName","lastMessage","new","typingUsers","distributed","seen","deleted","isAudio","formattedDuration","getLastMessage","users","unreadCount","stopPropagation","roomMenuOpened","action","title","singleLine","message","url","tag","bold","italic","strike","underline","inline","multiline","reply","href","openTag","image","formattedContent","linkify","require","text","doLinkify","json","compileToJSON","html","compileToHTML","concat","linkifyResult","typeMarkdown","pseudoMarkdown","end","allowed_chars","str","minIndexOf","minIndexOfKey","links","find","minIndexFromLink","indexOf","keys","forEach","startingValue","io","strLeft","substr","strLink","strRight","char","replace","match","RegExp","start","content","item","parseContent","it","array","arr","spaces","status","state","IS_TYPING","join","items","prop","startsWith","v","formatString","string","normalize","lamejs","ROOM_EMPTY","onContainerScroll","loadingMessages","MESSAGES_EMPTY","CONVERSATION_STARTED","loadMoreMessages","editedMessage","$refs","roomFooter","newMessages","emojisList","hideOptions","onMessageAdded","idx","scrollToBottom","scrollMessagesCount","messageReply","resetMessage","filteredEmojis","selectEmoji","filteredUsersTag","selectUserTag","imageFile","videoFile","stopRecorder","recordedTime","toggleRecorder","resetMediaFile","onMediaLoad","audio","mediaDimensions","width","TYPE_MESSAGE","onChangeInput","_k","keyCode","escapeTextarea","ctrlKey","shiftKey","altKey","metaKey","emojiOpened","addEmoji","launchFilePicker","staticStyle","onFileChange","files","isMessageEmpty","search","append","clickEvent","events","click","emojiReaction","openEmoji","emojis","insert","emojiPickerHeight","top","positionTop","emojiPickerTop","right","emojiPickerRight","display","emojiGroup","category","emoji","emojiName","menuOpened","bottom","$parent","playback","progress","onUpdateProgress","playerUniqId","audioSource","onMouseDown","percentage","isMouseDown","left","newMessage","NEW_MESSAGES","roomUsers","senderId","avatar","messageOffset","isMessageHover","onHoverMessage","onLeaveMessage","replyMessage","MESSAGE_DELETED","imageHover","progressTime","hoverAudioProgress","edited","roomFooterRef","messageHover","hoverMessageId","optionsOpened","replyUsername","imageResponsive","isImageLoading","imageBackground","isImage","filteredMessageActions","isMessageActions","isMessageReactions","openOptions","proxy","menuOptionsTop","reaction","float","getEmojiByName","_","missing","Mp3Encoder","Error","bitRate","sampleRate","dataBuffer","encoder","arrayBuffer","maxSamples","samples","_convertBuffer","remaining","subarray","buffer","encodeBuffer","Int8Array","flush","blob","Blob","id","now","URL","createObjectURL","input","output","Math","max","min","Float32Array","out","Int16Array","_floatTo16BitPCM","beforeRecording","pauseRecording","afterRecording","micFailed","encoderOptions","bufferSize","records","isPause","isRecording","duration","volume","_duration","constraints","video","channelCount","echoCancellation","navigator","mediaDevices","getUserMedia","then","_micCaptured","_micError","lameEncoder","stream","getTracks","track","stop","disconnect","processor","context","close","record","finish","AudioContext","webkitAudioContext","createMediaStreamSource","createScriptProcessor","onaudioprocess","ev","sample","inputBuffer","getChannelData","sum","encode","parseFloat","currentTime","toFixed","sqrt","connect","destination","error","IS_ONLINE","LAST_SEEN","defaultThemeStyles","light","general","color","backgroundInput","colorPlaceholder","colorCaret","colorSpinner","borderStyle","backgroundScrollIcon","container","border","borderRadius","boxShadow","header","background","colorRoomName","colorRoomInfo","footer","borderStyleInput","borderInputSelected","backgroundReply","backgroundTagActive","sidemenu","backgroundHover","backgroundActive","colorActive","borderColorSearch","dropdown","backgroundMe","colorStarted","backgroundDeleted","colorDeleted","colorUsername","colorTimestamp","backgroundDate","colorDate","backgroundSystem","colorSystem","backgroundMedia","colorReplyUsername","colorReply","colorTag","backgroundImage","colorNewMessages","backgroundScrollCounter","colorScrollCounter","backgroundReaction","borderStyleReaction","backgroundReactionHover","borderStyleReactionHover","colorReactionCounter","backgroundReactionMe","borderStyleReactionMe","backgroundReactionHoverMe","borderStyleReactionHoverMe","colorReactionCounterMe","backgroundAudioRecord","backgroundAudioLine","backgroundAudioProgress","backgroundAudioProgressSelector","markdown","colorMulti","colorMessage","colorStateOnline","colorStateOffline","backgroundCounterBadge","colorCounterBadge","icons","add","toggle","menu","closeImage","paperclip","closeOutline","send","sendDisabled","document","pencil","checkmark","checkmarkSeen","eye","dropdownMessage","dropdownMessageBackground","dropdownRoom","dropdownScroll","microphone","audioPlay","audioPause","audioCancel","audioConfirm","dark","cssThemeVars","Vue","productionTip","render","h","App","$mount","detectMobile","userAgent","getUserAgent","userAgentPart","test","vendor","opera","iOSDevice","platform","roomsValidation","obj","roomsValidate","validate","props","every","validType","isArray","checkObjectValid","partcipantsValidation","participantsValidate","messagesValidation","messagesValidate","undefined"],"mappings":"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AQoB,e,uBAGrC,SAAUC,GACTpc,KAAKqZ,WAAarZ,KAAKqZ,UAAU+C,O,QCiOnC,a,GAAA,gB,GAAA,U,GACA,a,GAAA,e,GAAA,YAEA,iBACA,MACA,kBACA,WACA,YACA,gBACA,oDAIA,IACA,YACA,YACA,oBACA,SACA,UACA,eACA,cACA,oBACA,gBACA,cACA,YAGA,YACA,6BAGA,OACA,iDACA,uCACA,sCACA,yCACA,oCACA,+BACA,0CACA,yCACA,kCACA,uCACA,0CACA,qCACA,wCACA,wCACA,qCACA,qCACA,sCACA,8CACA,kDACA,sCACA,wCACA,0CACA,sCACA,wCACA,sCACA,6CAGA,KA/CA,WAgDA,OACA,WACA,iBACA,kBACA,mBACA,mBACA,uBACA,UACA,eACA,eACA,qBACA,cACA,eACA,eACA,cACA,sBACA,eACA,oBACA,kBACA,oBACA,oBACA,4BACA,yBACA,6BACA,eACA,eAIA,UACA,WADA,WAEA,iEACA,mEAEA,KALA,WAKA,WACA,uEAEA,eARA,WASA,OACA,mBACA,uBACA,uBACA,mBAGA,WAhBA,WAiBA,OACA,wCACA,sCAKA,OAHA,IACA,yBAEA,GAEA,oBA1BA,WA2BA,kDAEA,eA7BA,WA8BA,wCAEA,aAhCA,WAiCA,yEAIA,OACA,QADA,SACA,GACA,iCAEA,gBAJA,SAIA,GACA,EACA,yBAEA,gDACA,yBAGA,MACA,aACA,QAFA,SAEA,MACA,kCACA,uBAIA,aACA,aACA,QAFA,SAEA,GACA,qCAGA,SA1BA,SA0BA,gBACA,yBAEA,2BACA,QACA,8BAEA,oBACA,UACA,cAKA,mFACA,qBAGA,oBACA,4BAGA,2DAEA,eAlDA,SAkDA,GACA,6BACA,oDAIA,QA1KA,WA0KA,WACA,oBACA,WAEA,yCACA,QACA,gBACA,4CACA,GACA,yBACA,oDAEA,iBAIA,wBACA,2BAEA,IAGA,gEACA,2BAEA,wBACA,2BAGA,+DACA,oBACA,8DAIA,cA7MA,WA8MA,qBAGA,SACA,cADA,WACA,WACA,wBACA,mBACA,2BACA,8BAEA,mBACA,8BACA,qDAGA,4CACA,yBAGA,mBACA,gCACA,YACA,gBAEA,8BACA,IAEA,IAEA,uBACA,iCACA,8BAKA,eAjCA,YAiCA,yCACA,+BAEA,wBAEA,uBAEA,8CAIA,6BAFA,oBAKA,gBACA,8BAKA,kBArDA,SAqDA,GAGA,GAFA,oBAEA,UAEA,qCACA,mCACA,kDAEA,iBA9DA,SA8DA,GACA,gCAGA,SACA,gDAMA,8BACA,0CAFA,CAOA,sEAEA,kCAEA,MACA,KACA,8BACA,+BAEA,IAGA,+BACA,6BAEA,GACA,8BACA,eAYA,2BAXA,CACA,6BACA,EACA,6BAEA,QACA,qBACA,SACA,8BAMA,gBA/GA,SA+GA,GACA,gDAEA,IACA,wCACA,IAGA,QACA,MACA,wBACA,8BAEA,IAGA,kCAEA,aAjIA,SAiIA,cACA,MAEA,mCACA,kDAEA,mEAEA,YAzIA,SAyIA,SACA,4BADA,EACA,WADA,EACA,YAEA,aACA,2BACA,EACA,6CAEA,2BACA,sBAEA,mBApJA,SAoJA,cACA,yBACA,gBACA,WACA,GACA,GACA,uDAEA,cA5JA,SA4JA,SACA,4BADA,EACA,WADA,EACA,YAEA,kCACA,GACA,IAEA,aACA,yBACA,WACA,EACA,6CAEA,8FAEA,yBACA,+BACA,sBAEA,gBA/KA,WAgLA,uBACA,yBACA,kCAEA,YApLA,WAqLA,wCACA,aAEA,sBACA,4CACA,4CAGA,eA7LA,WA8LA,kDACA,sDACA,qBAEA,aAlMA,WAsMA,WAHA,EAGA,wDAFA,EAEA,wDADA,EACA,wDAKA,GAJA,GACA,kCAGA,EAKA,OAJA,eACA,gBACA,uCACA,oDAIA,yBACA,uBACA,yBACA,gBACA,sBACA,uBACA,eACA,0BACA,oBACA,oBACA,oBACA,kCACA,qDAEA,eAjOA,WAkOA,0BACA,oBACA,oBACA,6BACA,eACA,sBAEA,kBAzOA,WA0OA,6BACA,iDAEA,cA7OA,SA6OA,cACA,SACA,6BACA,mCAEA,0BACA,uBACA,0CACA,sBACA,uBAEA,gCAIA,2BA5PA,WA6PA,2DAEA,YA/PA,WAgQA,2BAEA,gBAEA,2CACA,uBACA,YADA,mBAEA,MAFA,kBAMA,wBACA,4CACA,2BACA,iCACA,aACA,eACA,+BACA,iCAIA,2BACA,UACA,eACA,+BACA,iCAIA,wBAEA,iBAhSA,SAgSA,cACA,qBACA,qBAIA,YACA,WACA,2BAEA,oCACA,oBAGA,kBACA,0BACA,4BAGA,aAGA,qBAtTA,YAsTA,2BACA,eACA,mBACA,4BACA,kBACA,2BACA,oBACA,sCACA,QACA,mEAGA,oBAlUA,SAkUA,GACA,uCAEA,aArUA,SAqUA,GACA,oBACA,sBAEA,YAzUA,SAyUA,cACA,oBACA,wCACA,iBAEA,eACA,0BACA,kDACA,gBACA,0BACA,qDAGA,wBAEA,gBAxVA,SAwVA,OACA,gDACA,cAEA,eA5VA,WA4VA,WACA,uBACA,8BACA,qCACA,mDACA,2EACA,KAEA,8BACA,4BACA,yBACA,sBACA,4CACA,KACA,eA1WA,WA2WA,iCAEA,MAEA,aACA,yBACA,gCACA,iBAEA,iBACA,yCAEA,SAvXA,SAuXA,GACA,qBACA,wBAEA,iBA3XA,WA4XA,yBACA,yBAEA,aA/XA,SA+XA,8KACA,gBACA,mBAEA,OACA,yBALA,SAMA,8CANA,OAMA,EANA,OAOA,0BAEA,QACA,OACA,2BACA,YACA,YACA,gCACA,YAGA,WACA,cACA,YACA,cACA,qDAEA,iBAGA,qDA3BA,+CA6BA,aA5ZA,WA+ZA,OAFA,oBAEA,QACA,qBACA,oBACA,oBACA,4BAGA,UAtaA,WAuaA,oBACA,mCAEA,eA1aA,SA0aA,cAGA,GAFA,mBAEA,0BAGA,IACA,qBAEA,+BAEA,WACA,YACA,kCACA,iBACA,oBACA,iBACA,SACA,sCAGA,kCACA,mBACA,SACA,2DApBA,yDAwBA,aAtcA,WAscA,WACA,6BACA,IACA,qBACA,kCACA,SACA,wDAIA,SAhdA,YAgdA,2BACA,8CAEA,YAndA,SAmdA,GACA,+BAEA,sBAtdA,WAudA,sDCzgCsX,MCOlX,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBA,IACdxS,YAAa,WACboG,WAAY,mBACZiF,aAAc,eACdS,gBAAiB,2BACjBvF,eAAgB,cAChBC,qBAAsB,2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CA,6CAIA,QAtJA,WAsJA,WACA,wBACA,8CACA,sCAIA,SACA,iBADA,WAEA,2DAEA,gBAJA,WAKA,uCACA,8BACA,6DAEA,UATA,YASA,aACA,YACA,+BACA,wCAEA,eAdA,WAeA,gCAEA,SAjBA,WAkBA,mCAEA,QApBA,WAqBA,wBAEA,cAvBA,SAuBA,GACA,yDAEA,YA1BA,SA0BA,GACA,8FAEA,YA7BA,SA6BA,GACA,8FAEA,cAhCA,SAgCA,GACA,kEAEA,SAnCA,YAmCA,2BACA,8CAEA,YAtCA,YAsCA,aACA,sCAEA,kBAzCA,SAyCA,GACA,kCACA,SACA,2BAGA,kBA/CA,YA+CA,0BACA,kCACA,SACA,YAGA,qBArDA,SAqDA,GACA,qEACA,GADA,IAEA,4BAGA,oBA3DA,SA2DA,GACA,oEACA,GADA,IAEA,4BAGA,cAjEA,SAiEA,GACA,6BACA,UACA,2BAGA,sBAvEA,SAuEA,GACA,sCACA,UACA,6BChU6W,MCQzW,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,QCqEf,IACA,YACA,eAGA,2CAEA,KAPA,WAQA,OACA,gBACA,SACA,UACA,gBACA,cACA,eACA,gBACA,YACA,2BACA,oBACA,kBACA,mBACA,YACA,kBACA,eACA,mBACA,iBACA,kBACA,aACA,sBACA,eACA,gBACA,mBACA,kBACA,mBACA,kBACA,gBACA,eACA,aACA,wCACA,wCACA,yCAEA,aACA,wCACA,wCACA,yCAEA,0CAKA,QApDA,WAqDA,kBACA,+BAGA,UAzDA,WA0DA,mBAGA,UACA,YADA,WAEA,kDAEA,aAJA,WAKA,oEAIA,SACA,WADA,WAEA,qBACA,gCACA,wBACA,cACA,oBACA,qBACA,mBACA,uDACA,uBACA,sBAGA,cAdA,WAeA,iBACA,uBACA,wBACA,sBACA,kDACA,mBAGA,WAvBA,WAwBA,kBACA,uBAGA,eA5BA,WA4BA,4KACA,yBADA,yCACA,kBADA,cAGA,IACA,gDACA,8BACA,sBAEA,6CARA,SAUA,QAVA,cAUA,EAVA,OAaA,6CAEA,wCACA,qCAEA,KACA,uBACA,oCACA,o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","file":"js/app.4ce723e5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue-advanced-chat/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/github.07883e93.svg\";","export const IMAGE_TYPES = ['png', 'jpg', 'jpeg', 'webp', 'svg', 'gif']\nexport const VIDEO_TYPES = ['mp4', 'video/ogg', 'webm', 'quicktime']\nexport const AUDIO_TYPES = ['mp3', 'audio/ogg', 'wav', 'mpeg']\n","import { IMAGE_TYPES, VIDEO_TYPES, AUDIO_TYPES } from './constants'\n\nfunction checkMediaType(types, file) {\n\tif (!file || !file.type) return\n\treturn types.some(t => file.type.toLowerCase().includes(t))\n}\n\nexport function isImageFile(file) {\n\treturn checkMediaType(IMAGE_TYPES, file)\n}\n\nexport function isVideoFile(file) {\n\treturn checkMediaType(VIDEO_TYPES, file)\n}\n\nexport function isAudioFile(file) {\n\treturn checkMediaType(AUDIO_TYPES, file)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"app-container\",class:{ 'app-mobile': _vm.isDevice, 'app-mobile-dark': _vm.theme === 'dark' }},[(_vm.showOptions)?_c('span',{staticClass:\"user-logged\",class:{ 'user-logged-dark': _vm.theme === 'dark' }},[_vm._v(\" Logged as \")]):_vm._e(),(_vm.showOptions)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentUserId),expression:\"currentUserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentUserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.users),function(user){return _c('option',{key:user._id,domProps:{\"value\":user._id}},[_vm._v(\" \"+_vm._s(user.username)+\" \")])}),0):_vm._e(),(_vm.showOptions)?_c('div',{staticClass:\"button-theme\"},[_c('button',{staticClass:\"button-light\",on:{\"click\":function($event){_vm.theme = 'light'}}},[_vm._v(\"Light\")]),_c('button',{staticClass:\"button-dark\",on:{\"click\":function($event){_vm.theme = 'dark'}}},[_vm._v(\"Dark\")]),_vm._m(0)]):_vm._e(),(_vm.showChat)?_c('chat-container',{attrs:{\"currentUserId\":_vm.currentUserId,\"theme\":_vm.theme,\"isDevice\":_vm.isDevice},on:{\"show-demo-options\":function($event){_vm.showDemoOptions = $event}}}):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"button-github\"},[_c('a',{attrs:{\"href\":\"https://github.com/antoine92190/vue-advanced-chat\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/github.svg\")}})])])}]\n\nexport { render, staticRenderFns }","import app from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/database'\nimport 'firebase/storage'\n\nconst config =\n\tprocess.env.NODE_ENV === 'development'\n\t\t? JSON.parse(process.env.VUE_APP_FIREBASE_CONFIG)\n\t\t: JSON.parse(process.env.VUE_APP_FIREBASE_CONFIG_PUBLIC)\n\napp.initializeApp(config)\n\nexport const firebase = app\nexport const db = app.firestore()\nexport const storageRef = app.storage().ref()\n\nexport const usersRef = db.collection('users')\nexport const roomsRef = db.collection('chatRooms')\nexport const messagesRef = roomId => roomsRef.doc(roomId).collection('messages')\n\nexport const filesRef = storageRef.child('files')\n\nexport const dbTimestamp = firebase.firestore.FieldValue.serverTimestamp()\nexport const deleteDbField = firebase.firestore.FieldValue.delete()\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"window-container\",class:{ 'window-mobile': _vm.isDevice }},[(_vm.addNewRoom)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createRoom($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addRoomUsername),expression:\"addRoomUsername\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Add username\"},domProps:{\"value\":(_vm.addRoomUsername)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addRoomUsername=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.addRoomUsername}},[_vm._v(\" Create Room \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.addNewRoom = false}}},[_vm._v(\" Cancel \")])]):_vm._e(),(_vm.inviteRoomId)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addRoomUser($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.invitedUsername),expression:\"invitedUsername\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Add username\"},domProps:{\"value\":(_vm.invitedUsername)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.invitedUsername=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.invitedUsername}},[_vm._v(\" Add User \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.inviteRoomId = null}}},[_vm._v(\" Cancel \")])]):_vm._e(),(_vm.removeRoomId)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.deleteRoomUser($event)}}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.removeUserId),expression:\"removeUserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.removeUserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"default\":\"\",\"value\":\"\"}},[_vm._v(\"Select User\")]),_vm._l((_vm.removeUsers),function(user){return _c('option',{key:user._id,domProps:{\"value\":user._id}},[_vm._v(\" \"+_vm._s(user.username)+\" \")])})],2),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.removeUserId}},[_vm._v(\" Remove User \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.removeRoomId = null}}},[_vm._v(\" Cancel \")])]):_vm._e(),_c('chat-window',{attrs:{\"height\":_vm.screenHeight,\"theme\":_vm.theme,\"styles\":_vm.styles,\"current-user-id\":_vm.currentUserId,\"room-id\":_vm.roomId,\"rooms\":_vm.loadedRooms,\"loading-rooms\":_vm.loadingRooms,\"messages\":_vm.messages,\"messages-loaded\":_vm.messagesLoaded,\"rooms-loaded\":_vm.roomsLoaded,\"room-actions\":_vm.roomActions,\"menu-actions\":_vm.menuActions,\"room-message\":_vm.roomMessage},on:{\"fetch-more-rooms\":_vm.fetchMoreRooms,\"fetch-messages\":_vm.fetchMessages,\"send-message\":_vm.sendMessage,\"edit-message\":_vm.editMessage,\"delete-message\":_vm.deleteMessage,\"open-file\":_vm.openFile,\"open-user-tag\":_vm.openUserTag,\"add-room\":_vm.addRoom,\"room-action-handler\":_vm.menuActionHandler,\"menu-action-handler\":_vm.menuActionHandler,\"send-message-reaction\":_vm.sendMessageReaction,\"typing-message\":_vm.typingMessage,\"toggle-rooms-list\":function($event){return _vm.$emit('show-demo-options', $event.opened)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const parseTimestamp = (timestamp, format = '') => {\n\tif (!timestamp) return\n\n\tconst date = timestamp.seconds\n\t\t? new Date(timestamp.seconds * 1000)\n\t\t: timestamp\n\n\tif (format === 'HH:mm') {\n\t\treturn `${zeroPad(date.getHours(), 2)}:${zeroPad(date.getMinutes(), 2)}`\n\t} else if (format === 'DD MMMM YYYY') {\n\t\tconst options = { month: 'long', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t} else if (format === 'DD/MM/YY') {\n\t\tconst options = { month: 'numeric', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t} else if (format === 'DD MMMM, HH:mm') {\n\t\tconst options = { month: 'long', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(\n\t\t\tdate\n\t\t)}, ${zeroPad(date.getHours(), 2)}:${zeroPad(date.getMinutes(), 2)}`\n\t}\n\n\treturn date\n}\n\nconst zeroPad = (num, pad) => {\n\treturn String(num).padStart(pad, '0')\n}\n\nexport const isSameDay = (d1, d2) => {\n\treturn (\n\t\td1.getFullYear() === d2.getFullYear() &&\n\t\td1.getMonth() === d2.getMonth() &&\n\t\td1.getDate() === d2.getDate()\n\t)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-card-window\",style:([{ height: _vm.height }, _vm.cssVars])},[_c('div',{staticClass:\"vac-chat-container\"},[(!_vm.singleRoom)?_c('rooms-list',{attrs:{\"current-user-id\":_vm.currentUserId,\"rooms\":_vm.orderedRooms,\"loading-rooms\":_vm.loadingRooms,\"rooms-loaded\":_vm.roomsLoaded,\"room\":_vm.room,\"room-actions\":_vm.roomActions,\"text-messages\":_vm.t,\"show-search\":_vm.showSearch,\"show-add-room\":_vm.showAddRoom,\"show-rooms-list\":_vm.showRoomsList,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"is-mobile\":_vm.isMobile},on:{\"fetch-room\":_vm.fetchRoom,\"fetch-more-rooms\":_vm.fetchMoreRooms,\"loading-more-rooms\":function($event){_vm.loadingMoreRooms = $event},\"add-room\":_vm.addRoom,\"room-action-handler\":_vm.roomActionHandler},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):_vm._e(),_c('room',{attrs:{\"current-user-id\":_vm.currentUserId,\"rooms\":_vm.rooms,\"room-id\":_vm.room.roomId || '',\"load-first-room\":_vm.loadFirstRoom,\"messages\":_vm.messages,\"room-message\":_vm.roomMessage,\"messages-loaded\":_vm.messagesLoaded,\"menu-actions\":_vm.menuActions,\"message-actions\":_vm.messageActions,\"show-send-icon\":_vm.showSendIcon,\"show-files\":_vm.showFiles,\"show-audio\":_vm.showAudio,\"show-emojis\":_vm.showEmojis,\"show-reaction-emojis\":_vm.showReactionEmojis,\"show-new-messages-divider\":_vm.showNewMessagesDivider,\"show-footer\":_vm.showFooter,\"text-messages\":_vm.t,\"single-room\":_vm.singleRoom,\"show-rooms-list\":_vm.showRoomsList,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"is-mobile\":_vm.isMobile,\"loading-rooms\":_vm.loadingRooms,\"room-info\":_vm.$listeners['room-info'],\"textarea-action\":_vm.$listeners['textarea-action-handler'],\"accepted-files\":_vm.acceptedFiles},on:{\"toggle-rooms-list\":_vm.toggleRoomsList,\"room-info\":_vm.roomInfo,\"fetch-messages\":_vm.fetchMessages,\"send-message\":_vm.sendMessage,\"edit-message\":_vm.editMessage,\"delete-message\":_vm.deleteMessage,\"open-file\":_vm.openFile,\"open-user-tag\":_vm.openUserTag,\"menu-action-handler\":_vm.menuActionHandler,\"message-action-handler\":_vm.messageActionHandler,\"send-message-reaction\":_vm.sendMessageReaction,\"typing-message\":_vm.typingMessage,\"textarea-action-handler\":_vm.textareaActionHandler},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRoomsList),expression:\"showRoomsList\"}],staticClass:\"vac-rooms-container vac-app-border-r\",class:{ 'vac-rooms-container-full': _vm.isMobile }},[_vm._t(\"rooms-header\"),_vm._t(\"rooms-list-search\",[_c('rooms-search',{attrs:{\"rooms\":_vm.rooms,\"loading-rooms\":_vm.loadingRooms,\"text-messages\":_vm.textMessages,\"show-search\":_vm.showSearch,\"show-add-room\":_vm.showAddRoom},on:{\"search-room\":_vm.searchRoom,\"add-room\":function($event){return _vm.$emit('add-room')}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})]),_c('loader',{attrs:{\"show\":_vm.loadingRooms}}),(!_vm.loadingRooms && !_vm.rooms.length)?_c('div',{staticClass:\"vac-rooms-empty\"},[_vm._t(\"rooms-empty\",[_vm._v(\" \"+_vm._s(_vm.textMessages.ROOMS_EMPTY)+\" \")])],2):_vm._e(),(!_vm.loadingRooms)?_c('div',{staticClass:\"vac-room-list\"},[_vm._l((_vm.filteredRooms),function(fRoom){return _c('div',{key:fRoom.roomId,staticClass:\"vac-room-item\",class:{ 'vac-room-selected': _vm.selectedRoomId === fRoom.roomId },attrs:{\"id\":fRoom.roomId},on:{\"click\":function($event){return _vm.openRoom(fRoom)}}},[_c('room-content',{attrs:{\"current-user-id\":_vm.currentUserId,\"room\":fRoom,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"text-messages\":_vm.textMessages,\"room-actions\":_vm.roomActions},on:{\"room-action-handler\":function($event){return _vm.$emit('room-action-handler', $event)}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)}),_c('transition',{attrs:{\"name\":\"vac-fade-message\"}},[(_vm.rooms.length && !_vm.loadingRooms)?_c('infinite-loading',{attrs:{\"force-use-infinite-wrapper\":\".vac-room-list\",\"web-component-name\":\"vue-advanced-chat\",\"spinner\":\"spiral\"},on:{\"infinite\":_vm.loadMoreRooms}},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('loader',{attrs:{\"show\":true,\"infinite\":true}})],1),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"}),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"})]):_vm._e()],1)],2):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-fade-spinner\",\"appear\":\"\"}},[(_vm.show)?_c('div',{staticClass:\"vac-loader-wrapper\",class:{\n\t\t\t'vac-container-center': !_vm.infinite,\n\t\t\t'vac-container-top': _vm.infinite\n\t\t}},[_c('div',{attrs:{\"id\":\"vac-circle\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"vac-fade-spinner\" appear>\n\t\t<div\n\t\t\tv-if=\"show\"\n\t\t\tclass=\"vac-loader-wrapper\"\n\t\t\t:class=\"{\n\t\t\t\t'vac-container-center': !infinite,\n\t\t\t\t'vac-container-top': infinite\n\t\t\t}\"\n\t\t>\n\t\t\t<div id=\"vac-circle\" />\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'Loader',\n\n\tprops: {\n\t\tshow: { type: Boolean, default: false },\n\t\tinfinite: { type: Boolean, default: false }\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loader.vue?vue&type=template&id=72c38546&\"\nimport script from \"./Loader.vue?vue&type=script&lang=js&\"\nexport * from \"./Loader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n\t\t'vac-box-search': _vm.showSearchBar,\n\t\t'vac-box-empty': !_vm.showSearchBar\n\t}},[(_vm.showSearch)?[(!_vm.loadingRooms && _vm.rooms.length)?_c('div',{staticClass:\"vac-icon-search\"},[_vm._t(\"search-icon\",[_c('svg-icon',{attrs:{\"name\":\"search\"}})])],2):_vm._e(),(!_vm.loadingRooms && _vm.rooms.length)?_c('input',{staticClass:\"vac-input\",attrs:{\"type\":\"search\",\"placeholder\":_vm.textMessages.SEARCH,\"autocomplete\":\"off\"},on:{\"input\":function($event){return _vm.$emit('search-room', $event)}}}):_vm._e()]:_vm._e(),(_vm.showAddRoom)?_c('div',{staticClass:\"vac-svg-button vac-add-icon\",on:{\"click\":function($event){return _vm.$emit('add-room')}}},[_vm._t(\"add-icon\",[_c('svg-icon',{attrs:{\"name\":\"add\"}})])],2):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"version\":\"1.1\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":(\"0 0 \" + _vm.size + \" \" + _vm.size)}},[_c('path',{attrs:{\"id\":_vm.svgId,\"d\":_vm.svgItem[_vm.name].path}}),(_vm.svgItem[_vm.name].path2)?_c('path',{attrs:{\"id\":_vm.svgId,\"d\":_vm.svgItem[_vm.name].path2}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\tversion=\"1.1\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\t:viewBox=\"`0 0 ${size} ${size}`\"\n\t>\n\t\t<path :id=\"svgId\" :d=\"svgItem[name].path\" />\n\t\t<path v-if=\"svgItem[name].path2\" :id=\"svgId\" :d=\"svgItem[name].path2\" />\n\t</svg>\n</template>\n\n<script>\nexport default {\n\tname: 'SvgIcon',\n\n\tprops: {\n\t\tname: { type: String, default: null },\n\t\tparam: { type: String, default: null }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsvgItem: {\n\t\t\t\tsearch: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z'\n\t\t\t\t},\n\t\t\t\tadd: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z'\n\t\t\t\t},\n\t\t\t\ttoggle: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z'\n\t\t\t\t},\n\n\t\t\t\tmenu: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z'\n\t\t\t\t},\n\t\t\t\tclose: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z'\n\t\t\t\t},\n\t\t\t\tfile: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z'\n\t\t\t\t},\n\t\t\t\tpaperclip: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z'\n\t\t\t\t},\n\t\t\t\t'close-outline': {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z'\n\t\t\t\t},\n\t\t\t\tsend: {\n\t\t\t\t\tpath: 'M2,21L23,12L2,3V10L17,12L2,14V21Z'\n\t\t\t\t},\n\t\t\t\temoji: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z'\n\t\t\t\t},\n\t\t\t\tdocument: {\n\t\t\t\t\tpath: 'M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z'\n\t\t\t\t},\n\t\t\t\tpencil: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z'\n\t\t\t\t},\n\t\t\t\tcheckmark: {\n\t\t\t\t\tpath: 'M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z'\n\t\t\t\t},\n\t\t\t\t'double-checkmark': {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z'\n\t\t\t\t},\n\t\t\t\teye: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z'\n\t\t\t\t},\n\t\t\t\tdropdown: {\n\t\t\t\t\tpath: 'M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z'\n\t\t\t\t},\n\t\t\t\tdeleted: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z'\n\t\t\t\t},\n\t\t\t\tmicrophone: {\n\t\t\t\t\tsize: 'large',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z'\n\t\t\t\t},\n\t\t\t\t'audio-play': {\n\t\t\t\t\tsize: 'medium',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z'\n\t\t\t\t},\n\t\t\t\t'audio-pause': {\n\t\t\t\t\tsize: 'medium',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z',\n\t\t\t\t\tpath2:\n\t\t\t\t\t\t'M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tsvgId() {\n\t\t\tconst param = this.param ? '-' + this.param : ''\n\t\t\treturn `vac-icon-${this.name}${param}`\n\t\t},\n\t\tsize() {\n\t\t\tconst item = this.svgItem[this.name]\n\n\t\t\tif (item.size === 'large') return 512\n\t\t\telse if (item.size === 'medium') return 48\n\t\t\telse return 24\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SvgIcon.vue?vue&type=template&id=e01c0bf4&\"\nimport script from \"./SvgIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./SvgIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div\n\t\t:class=\"{\n\t\t\t'vac-box-search': showSearchBar,\n\t\t\t'vac-box-empty': !showSearchBar\n\t\t}\"\n\t>\n\t\t<template v-if=\"showSearch\">\n\t\t\t<div v-if=\"!loadingRooms && rooms.length\" class=\"vac-icon-search\">\n\t\t\t\t<slot name=\"search-icon\">\n\t\t\t\t\t<svg-icon name=\"search\" />\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\tv-if=\"!loadingRooms && rooms.length\"\n\t\t\t\ttype=\"search\"\n\t\t\t\t:placeholder=\"textMessages.SEARCH\"\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\tclass=\"vac-input\"\n\t\t\t\t@input=\"$emit('search-room', $event)\"\n\t\t\t/>\n\t\t</template>\n\t\t<div\n\t\t\tv-if=\"showAddRoom\"\n\t\t\tclass=\"vac-svg-button vac-add-icon\"\n\t\t\t@click=\"$emit('add-room')\"\n\t\t>\n\t\t\t<slot name=\"add-icon\">\n\t\t\t\t<svg-icon name=\"add\" />\n\t\t\t</slot>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\n\nexport default {\n\tname: 'RoomsSearch',\n\tcomponents: { SvgIcon },\n\n\tprops: {\n\t\ttextMessages: { type: Object, required: true },\n\t\tshowSearch: { type: Boolean, required: true },\n\t\tshowAddRoom: { type: Boolean, required: true },\n\t\trooms: { type: Array, required: true },\n\t\tloadingRooms: { type: Boolean, required: true }\n\t},\n\n\tcomputed: {\n\t\tshowSearchBar() {\n\t\t\treturn this.showSearch || this.showAddRoom\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomsSearch.vue?vue&type=template&id=5ac1fb0f&\"\nimport script from \"./RoomsSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomsSearch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-room-container\"},[_vm._t(\"room-list-item\",[(_vm.room.avatar)?_c('div',{staticClass:\"vac-avatar\",style:({ 'background-image': (\"url('\" + (_vm.room.avatar) + \"')\") })}):_vm._e(),_c('div',{staticClass:\"vac-name-container vac-text-ellipsis\"},[_c('div',{staticClass:\"vac-title-container\"},[(_vm.userStatus)?_c('div',{staticClass:\"vac-state-circle\",class:{ 'vac-state-online': _vm.userStatus === 'online' }}):_vm._e(),_c('div',{staticClass:\"vac-room-name vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.room.roomName)+\" \")]),(_vm.room.lastMessage)?_c('div',{staticClass:\"vac-text-date\"},[_vm._v(\" \"+_vm._s(_vm.room.lastMessage.timestamp)+\" \")]):_vm._e()]),_c('div',{staticClass:\"vac-text-last\",class:{\n\t\t\t\t\t'vac-message-new':\n\t\t\t\t\t\t_vm.room.lastMessage && _vm.room.lastMessage.new && !_vm.typingUsers\n\t\t\t\t}},[(_vm.isMessageCheckmarkVisible)?_c('span',[_vm._t(\"checkmark-icon\",[_c('svg-icon',{staticClass:\"vac-icon-check\",attrs:{\"name\":_vm.room.lastMessage.distributed\n\t\t\t\t\t\t\t\t\t? 'double-checkmark'\n\t\t\t\t\t\t\t\t\t: 'checkmark',\"param\":_vm.room.lastMessage.seen ? 'seen' : ''}})],null,_vm.room.lastMessage)],2):_vm._e(),(_vm.room.lastMessage && !_vm.room.lastMessage.deleted && _vm.isAudio)?_c('div',{staticClass:\"vac-text-ellipsis\"},[_vm._t(\"microphone-icon\",[_c('svg-icon',{staticClass:\"vac-icon-microphone\",attrs:{\"name\":\"microphone\"}})]),_vm._v(\" \"+_vm._s(_vm.formattedDuration)+\" \")],2):(_vm.room.lastMessage)?_c('format-message',{attrs:{\"content\":_vm.getLastMessage,\"deleted\":!!_vm.room.lastMessage.deleted && !_vm.typingUsers,\"users\":_vm.room.users,\"linkify\":false,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"single-line\":true},scopedSlots:_vm._u([{key:\"deleted-icon\",fn:function(data){return [_vm._t(\"deleted-icon\",null,null,data)]}}],null,true)}):_vm._e(),(!_vm.room.lastMessage && _vm.typingUsers)?_c('div',{staticClass:\"vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.typingUsers)+\" \")]):_vm._e(),_c('div',{staticClass:\"vac-room-options-container\"},[(_vm.room.unreadCount)?_c('div',{staticClass:\"vac-badge-counter vac-room-badge\"},[_vm._v(\" \"+_vm._s(_vm.room.unreadCount)+\" \")]):_vm._e(),_vm._t(\"room-list-options\",[(_vm.roomActions.length)?_c('div',{staticClass:\"vac-svg-button vac-list-room-options\",on:{\"click\":function($event){$event.stopPropagation();_vm.roomMenuOpened = _vm.room.roomId}}},[_vm._t(\"room-list-options-icon\",[_c('svg-icon',{attrs:{\"name\":\"dropdown\",\"param\":\"room\"}})])],2):_vm._e(),(_vm.roomActions.length)?_c('transition',{attrs:{\"name\":\"vac-slide-left\"}},[(_vm.roomMenuOpened === _vm.room.roomId)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeRoomMenu),expression:\"closeRoomMenu\"}],staticClass:\"vac-menu-options\"},[_c('div',{staticClass:\"vac-menu-list\"},_vm._l((_vm.roomActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"vac-menu-item\",on:{\"click\":function($event){$event.stopPropagation();return _vm.roomActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()],null,{ room: _vm.room })],2)],1)])],null,{ room: _vm.room })],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-format-message-wrapper\",class:{ 'vac-text-ellipsis': _vm.singleLine }},[(_vm.textFormatting)?_c('div',{class:{ 'vac-text-ellipsis': _vm.singleLine }},[_vm._l((_vm.linkifiedMessage),function(message,i){return [_c(message.url ? 'a' : 'span',{key:i,tag:\"component\",class:{\n\t\t\t\t\t'vac-text-ellipsis': _vm.singleLine,\n\t\t\t\t\t'vac-text-bold': message.bold,\n\t\t\t\t\t'vac-text-italic': _vm.deleted || message.italic,\n\t\t\t\t\t'vac-text-strike': message.strike,\n\t\t\t\t\t'vac-text-underline': message.underline,\n\t\t\t\t\t'vac-text-inline-code': !_vm.singleLine && message.inline,\n\t\t\t\t\t'vac-text-multiline-code': !_vm.singleLine && message.multiline,\n\t\t\t\t\t'vac-text-tag': !_vm.singleLine && !_vm.reply && message.tag\n\t\t\t\t},attrs:{\"href\":message.href,\"target\":message.href ? _vm.linkOptions.target : null},on:{\"click\":function($event){return _vm.openTag(message)}}},[_vm._t(\"deleted-icon\",[(_vm.deleted)?_c('svg-icon',{staticClass:\"vac-icon-deleted\",attrs:{\"name\":\"deleted\"}}):_vm._e()],null,{ deleted: _vm.deleted }),(message.url && message.image)?[_c('div',{staticClass:\"vac-image-link-container\"},[_c('div',{staticClass:\"vac-image-link\",style:({\n\t\t\t\t\t\t\t\t'background-image': (\"url('\" + (message.value) + \"')\"),\n\t\t\t\t\t\t\t\theight: message.height\n\t\t\t\t\t\t\t})})]),_c('div',{staticClass:\"vac-image-link-message\"},[_c('span',[_vm._v(_vm._s(message.value))])])]:[_c('span',[_vm._v(_vm._s(message.value))])]],2)]})],2):_c('div',[_vm._v(\" \"+_vm._s(_vm.formattedContent)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const linkify = require('linkifyjs')\n// require('linkifyjs/plugins/hashtag')(linkify)\n\nexport default (text, doLinkify) => {\n\tconst json = compileToJSON(text)\n\n\tconst html = compileToHTML(json)\n\n\tconst result = [].concat.apply([], html)\n\n\tif (doLinkify) linkifyResult(result)\n\n\treturn result\n}\n\nconst typeMarkdown = {\n\tbold: '*',\n\titalic: '_',\n\tstrike: '~',\n\tunderline: '°'\n}\n\nconst pseudoMarkdown = {\n\t[typeMarkdown.bold]: {\n\t\tend: '\\\\' + [typeMarkdown.bold],\n\t\tallowed_chars: '.',\n\t\ttype: 'bold'\n\t},\n\t[typeMarkdown.italic]: {\n\t\tend: [typeMarkdown.italic],\n\t\tallowed_chars: '.',\n\t\ttype: 'italic'\n\t},\n\t[typeMarkdown.strike]: {\n\t\tend: [typeMarkdown.strike],\n\t\tallowed_chars: '.',\n\t\ttype: 'strike'\n\t},\n\t[typeMarkdown.underline]: {\n\t\tend: [typeMarkdown.underline],\n\t\tallowed_chars: '.',\n\t\ttype: 'underline'\n\t},\n\t'```': {\n\t\tend: '```',\n\t\tallowed_chars: '(.|\\n)',\n\t\ttype: 'multiline-code'\n\t},\n\t'`': {\n\t\tend: '`',\n\t\tallowed_chars: '.',\n\t\ttype: 'inline-code'\n\t},\n\t'<usertag>': {\n\t\tallowed_chars: '.',\n\t\tend: '</usertag>',\n\t\ttype: 'tag'\n\t}\n}\n\nfunction compileToJSON(str) {\n\tlet result = []\n\tlet minIndexOf = -1\n\tlet minIndexOfKey = null\n\n\tlet links = linkify.find(str)\n\tlet minIndexFromLink = false\n\n\tif (links.length > 0) {\n\t\tminIndexOf = str.indexOf(links[0].value)\n\t\tminIndexFromLink = true\n\t}\n\n\tObject.keys(pseudoMarkdown).forEach(startingValue => {\n\t\tconst io = str.indexOf(startingValue)\n\t\tif (io >= 0 && (minIndexOf < 0 || io < minIndexOf)) {\n\t\t\tminIndexOf = io\n\t\t\tminIndexOfKey = startingValue\n\t\t\tminIndexFromLink = false\n\t\t}\n\t})\n\n\tif (minIndexFromLink && minIndexOfKey !== -1) {\n\t\tlet strLeft = str.substr(0, minIndexOf)\n\t\tlet strLink = str.substr(minIndexOf, links[0].value.length)\n\t\tlet strRight = str.substr(minIndexOf + links[0].value.length)\n\t\tresult.push(strLeft)\n\t\tresult.push(strLink)\n\t\tresult = result.concat(compileToJSON(strRight))\n\t\treturn result\n\t}\n\n\tif (minIndexOfKey) {\n\t\tlet strLeft = str.substr(0, minIndexOf)\n\t\tconst char = minIndexOfKey\n\t\tlet strRight = str.substr(minIndexOf + char.length)\n\n\t\tif (str.replace(/\\s/g, '').length === char.length * 2) {\n\t\t\treturn [str]\n\t\t}\n\n\t\tconst match = strRight.match(\n\t\t\tnew RegExp(\n\t\t\t\t'^(' +\n\t\t\t\t\t(pseudoMarkdown[char].allowed_chars || '.') +\n\t\t\t\t\t'*' +\n\t\t\t\t\t(pseudoMarkdown[char].end ? '?' : '') +\n\t\t\t\t\t')' +\n\t\t\t\t\t(pseudoMarkdown[char].end\n\t\t\t\t\t\t? '(' + pseudoMarkdown[char].end + ')'\n\t\t\t\t\t\t: ''),\n\t\t\t\t'm'\n\t\t\t)\n\t\t)\n\t\tif (!match || !match[1]) {\n\t\t\tstrLeft = strLeft + char\n\t\t\tresult.push(strLeft)\n\t\t} else {\n\t\t\tif (strLeft) {\n\t\t\t\tresult.push(strLeft)\n\t\t\t}\n\t\t\tconst object = {\n\t\t\t\tstart: char,\n\t\t\t\tcontent: compileToJSON(match[1]),\n\t\t\t\tend: match[2],\n\t\t\t\ttype: pseudoMarkdown[char].type\n\t\t\t}\n\t\t\tresult.push(object)\n\t\t\tstrRight = strRight.substr(match[0].length)\n\t\t}\n\t\tresult = result.concat(compileToJSON(strRight))\n\t\treturn result\n\t} else {\n\t\tif (str) {\n\t\t\treturn [str]\n\t\t} else {\n\t\t\treturn []\n\t\t}\n\t}\n}\n\nfunction compileToHTML(json) {\n\tconst result = []\n\n\tjson.forEach(item => {\n\t\tif (typeof item === 'string') {\n\t\t\tresult.push({ types: [], value: item })\n\t\t} else {\n\t\t\tif (pseudoMarkdown[item.start]) {\n\t\t\t\tresult.push(parseContent(item))\n\t\t\t}\n\t\t}\n\t})\n\n\treturn result\n}\n\nfunction parseContent(item) {\n\tconst result = []\n\n\titem.content.forEach(it => {\n\t\tif (typeof it === 'string') {\n\t\t\tresult.push({\n\t\t\t\ttypes: [item.type],\n\t\t\t\tvalue: it\n\t\t\t})\n\t\t} else {\n\t\t\tit.content.forEach(i => {\n\t\t\t\tif (typeof i === 'string') {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttypes: [it.type].concat([item.type]),\n\t\t\t\t\t\tvalue: i\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttypes: [i.type].concat([it.type]).concat([item.type]),\n\t\t\t\t\t\tvalue: parseContent(i)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t})\n\n\treturn result\n}\n\nfunction linkifyResult(array) {\n\tconst result = []\n\n\tarray.forEach(arr => {\n\t\tconst links = linkify.find(arr.value)\n\n\t\tif (links.length) {\n\t\t\tconst spaces = arr.value.replace(links[0].value, '')\n\t\t\tresult.push({ types: arr.types, value: spaces })\n\n\t\t\tarr.types = ['url'].concat(arr.types)\n\t\t\tarr.href = links[0].href\n\t\t\tarr.value = links[0].value\n\t\t}\n\n\t\tresult.push(arr)\n\t})\n\n\treturn result\n}\n","<template>\n\t<div\n\t\tclass=\"vac-format-message-wrapper\"\n\t\t:class=\"{ 'vac-text-ellipsis': singleLine }\"\n\t>\n\t\t<div v-if=\"textFormatting\" :class=\"{ 'vac-text-ellipsis': singleLine }\">\n\t\t\t<template v-for=\"(message, i) in linkifiedMessage\">\n\t\t\t\t<component\n\t\t\t\t\t:is=\"message.url ? 'a' : 'span'\"\n\t\t\t\t\t:key=\"i\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'vac-text-ellipsis': singleLine,\n\t\t\t\t\t\t'vac-text-bold': message.bold,\n\t\t\t\t\t\t'vac-text-italic': deleted || message.italic,\n\t\t\t\t\t\t'vac-text-strike': message.strike,\n\t\t\t\t\t\t'vac-text-underline': message.underline,\n\t\t\t\t\t\t'vac-text-inline-code': !singleLine && message.inline,\n\t\t\t\t\t\t'vac-text-multiline-code': !singleLine && message.multiline,\n\t\t\t\t\t\t'vac-text-tag': !singleLine && !reply && message.tag\n\t\t\t\t\t}\"\n\t\t\t\t\t:href=\"message.href\"\n\t\t\t\t\t:target=\"message.href ? linkOptions.target : null\"\n\t\t\t\t\t@click=\"openTag(message)\"\n\t\t\t\t>\n\t\t\t\t\t<slot name=\"deleted-icon\" v-bind=\"{ deleted }\">\n\t\t\t\t\t\t<svg-icon v-if=\"deleted\" name=\"deleted\" class=\"vac-icon-deleted\" />\n\t\t\t\t\t</slot>\n\t\t\t\t\t<template v-if=\"message.url && message.image\">\n\t\t\t\t\t\t<div class=\"vac-image-link-container\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"vac-image-link\"\n\t\t\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\t\t\t'background-image': `url('${message.value}')`,\n\t\t\t\t\t\t\t\t\theight: message.height\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"vac-image-link-message\">\n\t\t\t\t\t\t\t<span>{{ message.value }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<span>{{ message.value }}</span>\n\t\t\t\t\t</template>\n\t\t\t\t</component>\n\t\t\t</template>\n\t\t</div>\n\t\t<div v-else>\n\t\t\t{{ formattedContent }}\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../SvgIcon/SvgIcon'\n\nimport formatString from '../../utils/format-string'\nimport { IMAGE_TYPES } from '../../utils/constants'\n\nexport default {\n\tname: 'FormatMessage',\n\tcomponents: { SvgIcon },\n\n\tprops: {\n\t\tcontent: { type: [String, Number], required: true },\n\t\tdeleted: { type: Boolean, default: false },\n\t\tusers: { type: Array, default: () => [] },\n\t\tlinkify: { type: Boolean, default: true },\n\t\tsingleLine: { type: Boolean, default: false },\n\t\treply: { type: Boolean, default: false },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\tlinkOptions: { type: Object, required: true }\n\t},\n\n\tcomputed: {\n\t\tlinkifiedMessage() {\n\t\t\tconst message = formatString(\n\t\t\t\tthis.formatTags(this.content),\n\t\t\t\tthis.linkify && !this.linkOptions.disabled,\n\t\t\t\tthis.linkOptions\n\t\t\t)\n\n\t\t\tmessage.forEach(m => {\n\t\t\t\tm.url = this.checkType(m, 'url')\n\t\t\t\tm.bold = this.checkType(m, 'bold')\n\t\t\t\tm.italic = this.checkType(m, 'italic')\n\t\t\t\tm.strike = this.checkType(m, 'strike')\n\t\t\t\tm.underline = this.checkType(m, 'underline')\n\t\t\t\tm.inline = this.checkType(m, 'inline-code')\n\t\t\t\tm.multiline = this.checkType(m, 'multiline-code')\n\t\t\t\tm.tag = this.checkType(m, 'tag')\n\t\t\t\tm.image = this.checkImageType(m)\n\t\t\t})\n\n\t\t\treturn message\n\t\t},\n\t\tformattedContent() {\n\t\t\treturn this.formatTags(this.content)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tcheckType(message, type) {\n\t\t\treturn message.types.indexOf(type) !== -1\n\t\t},\n\t\tcheckImageType(message) {\n\t\t\tlet index = message.value.lastIndexOf('.')\n\t\t\tconst slashIndex = message.value.lastIndexOf('/')\n\t\t\tif (slashIndex > index) index = -1\n\n\t\t\tconst type = message.value.substring(index + 1, message.value.length)\n\n\t\t\tconst isMedia =\n\t\t\t\tindex > 0 && IMAGE_TYPES.some(t => type.toLowerCase().includes(t))\n\n\t\t\tif (isMedia) this.setImageSize(message)\n\n\t\t\treturn isMedia\n\t\t},\n\t\tsetImageSize(message) {\n\t\t\tconst image = new Image()\n\t\t\timage.src = message.value\n\n\t\t\timage.addEventListener('load', onLoad)\n\n\t\t\tfunction onLoad(img) {\n\t\t\t\tconst ratio = img.path[0].width / 150\n\t\t\t\tmessage.height = Math.round(img.path[0].height / ratio) + 'px'\n\t\t\t\timage.removeEventListener('load', onLoad)\n\t\t\t}\n\t\t},\n\t\tformatTags(content) {\n\t\t\tthis.users.forEach(user => {\n\t\t\t\tconst index = content.indexOf(user._id)\n\t\t\t\tconst isTag = content.substring(index - 9, index) === '<usertag>'\n\t\t\t\tif (isTag) content = content.replace(user._id, `@${user.username}`)\n\t\t\t})\n\n\t\t\treturn content\n\t\t},\n\t\topenTag(message) {\n\t\t\tif (!this.singleLine && this.checkType(message, 'tag')) {\n\t\t\t\tconst user = this.users.find(\n\t\t\t\t\tu => message.value.indexOf(u.username) !== -1\n\t\t\t\t)\n\t\t\t\tthis.$emit('open-user-tag', user)\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./FormatMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./FormatMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormatMessage.vue?vue&type=template&id=001f9ed5&\"\nimport script from \"./FormatMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./FormatMessage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default (room, currentUserId, textMessages) => {\n\tif (room.typingUsers && room.typingUsers.length) {\n\t\tconst typingUsers = room.users.filter(user => {\n\t\t\tif (user._id === currentUserId) return\n\t\t\tif (room.typingUsers.indexOf(user._id) === -1) return\n\t\t\tif (user.status && user.status.state === 'offline') return\n\t\t\treturn true\n\t\t})\n\n\t\tif (!typingUsers.length) return\n\n\t\tif (room.users.length === 2) {\n\t\t\treturn textMessages.IS_TYPING\n\t\t} else {\n\t\t\treturn (\n\t\t\t\ttypingUsers.map(user => user.username).join(', ') +\n\t\t\t\t' ' +\n\t\t\t\ttextMessages.IS_TYPING\n\t\t\t)\n\t\t}\n\t}\n}\n","<template>\n\t<div class=\"vac-room-container\">\n\t\t<slot name=\"room-list-item\" v-bind=\"{ room }\">\n\t\t\t<div\n\t\t\t\tv-if=\"room.avatar\"\n\t\t\t\tclass=\"vac-avatar\"\n\t\t\t\t:style=\"{ 'background-image': `url('${room.avatar}')` }\"\n\t\t\t/>\n\t\t\t<div class=\"vac-name-container vac-text-ellipsis\">\n\t\t\t\t<div class=\"vac-title-container\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"userStatus\"\n\t\t\t\t\t\tclass=\"vac-state-circle\"\n\t\t\t\t\t\t:class=\"{ 'vac-state-online': userStatus === 'online' }\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"vac-room-name vac-text-ellipsis\">\n\t\t\t\t\t\t{{ room.roomName }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"room.lastMessage\" class=\"vac-text-date\">\n\t\t\t\t\t\t{{ room.lastMessage.timestamp }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"vac-text-last\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'vac-message-new':\n\t\t\t\t\t\t\troom.lastMessage && room.lastMessage.new && !typingUsers\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<span v-if=\"isMessageCheckmarkVisible\">\n\t\t\t\t\t\t<slot name=\"checkmark-icon\" v-bind=\"room.lastMessage\">\n\t\t\t\t\t\t\t<svg-icon\n\t\t\t\t\t\t\t\t:name=\"\n\t\t\t\t\t\t\t\t\troom.lastMessage.distributed\n\t\t\t\t\t\t\t\t\t\t? 'double-checkmark'\n\t\t\t\t\t\t\t\t\t\t: 'checkmark'\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t:param=\"room.lastMessage.seen ? 'seen' : ''\"\n\t\t\t\t\t\t\t\tclass=\"vac-icon-check\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"room.lastMessage && !room.lastMessage.deleted && isAudio\"\n\t\t\t\t\t\tclass=\"vac-text-ellipsis\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"microphone-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"microphone\" class=\"vac-icon-microphone\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t{{ formattedDuration }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<format-message\n\t\t\t\t\t\tv-else-if=\"room.lastMessage\"\n\t\t\t\t\t\t:content=\"getLastMessage\"\n\t\t\t\t\t\t:deleted=\"!!room.lastMessage.deleted && !typingUsers\"\n\t\t\t\t\t\t:users=\"room.users\"\n\t\t\t\t\t\t:linkify=\"false\"\n\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t:single-line=\"true\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #deleted-icon=\"data\">\n\t\t\t\t\t\t\t<slot name=\"deleted-icon\" v-bind=\"data\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</format-message>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"!room.lastMessage && typingUsers\"\n\t\t\t\t\t\tclass=\"vac-text-ellipsis\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ typingUsers }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"vac-room-options-container\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"room.unreadCount\"\n\t\t\t\t\t\t\tclass=\"vac-badge-counter vac-room-badge\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ room.unreadCount }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<slot name=\"room-list-options\" v-bind=\"{ room }\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"roomActions.length\"\n\t\t\t\t\t\t\t\tclass=\"vac-svg-button vac-list-room-options\"\n\t\t\t\t\t\t\t\t@click.stop=\"roomMenuOpened = room.roomId\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<slot name=\"room-list-options-icon\">\n\t\t\t\t\t\t\t\t\t<svg-icon name=\"dropdown\" param=\"room\" />\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<transition v-if=\"roomActions.length\" name=\"vac-slide-left\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"roomMenuOpened === room.roomId\"\n\t\t\t\t\t\t\t\t\tv-click-outside=\"closeRoomMenu\"\n\t\t\t\t\t\t\t\t\tclass=\"vac-menu-options\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"vac-menu-list\">\n\t\t\t\t\t\t\t\t\t\t<div v-for=\"action in roomActions\" :key=\"action.name\">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"vac-menu-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"roomActionHandler(action)\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</transition>\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</slot>\n\t</div>\n</template>\n\n<script>\nimport vClickOutside from 'v-click-outside'\n\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\nimport FormatMessage from '../../../components/FormatMessage/FormatMessage'\n\nimport typingText from '../../../utils/typing-text'\nconst { isAudioFile } = require('../../../utils/media-file')\n\nexport default {\n\tname: 'RoomsContent',\n\tcomponents: {\n\t\tSvgIcon,\n\t\tFormatMessage\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\troom: { type: Object, required: true },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\troomActions: { type: Array, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\troomMenuOpened: null\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tgetLastMessage() {\n\t\t\tconst isTyping = this.typingUsers\n\t\t\tif (isTyping) return isTyping\n\n\t\t\tconst content = this.room.lastMessage.deleted\n\t\t\t\t? this.textMessages.MESSAGE_DELETED\n\t\t\t\t: this.room.lastMessage.content\n\n\t\t\tif (this.room.users.length <= 2) {\n\t\t\t\treturn content\n\t\t\t}\n\n\t\t\tconst user = this.room.users.find(\n\t\t\t\tuser => user._id === this.room.lastMessage.senderId\n\t\t\t)\n\n\t\t\tif (this.room.lastMessage.username) {\n\t\t\t\treturn `${this.room.lastMessage.username} - ${content}`\n\t\t\t} else if (!user || user._id === this.currentUserId) {\n\t\t\t\treturn content\n\t\t\t}\n\n\t\t\treturn `${user.username} - ${content}`\n\t\t},\n\t\tuserStatus() {\n\t\t\tif (!this.room.users || this.room.users.length !== 2) return\n\n\t\t\tconst user = this.room.users.find(u => u._id !== this.currentUserId)\n\t\t\tif (user && user.status) return user.status.state\n\n\t\t\treturn null\n\t\t},\n\t\ttypingUsers() {\n\t\t\treturn typingText(this.room, this.currentUserId, this.textMessages)\n\t\t},\n\t\tisMessageCheckmarkVisible() {\n\t\t\treturn (\n\t\t\t\t!this.typingUsers &&\n\t\t\t\tthis.room.lastMessage &&\n\t\t\t\t!this.room.lastMessage.deleted &&\n\t\t\t\tthis.room.lastMessage.senderId === this.currentUserId &&\n\t\t\t\t(this.room.lastMessage.saved ||\n\t\t\t\t\tthis.room.lastMessage.distributed ||\n\t\t\t\t\tthis.room.lastMessage.seen)\n\t\t\t)\n\t\t},\n\t\tformattedDuration() {\n\t\t\tconst file = this.room.lastMessage.file\n\n\t\t\tif (!file.duration) {\n\t\t\t\treturn `${file.name}.${file.extension}`\n\t\t\t}\n\n\t\t\tlet s = Math.floor(file.duration)\n\t\t\treturn (s - (s %= 60)) / 60 + (s > 9 ? ':' : ':0') + s\n\t\t},\n\t\tisAudio() {\n\t\t\treturn isAudioFile(this.room.lastMessage.file)\n\t\t}\n\t},\n\n\tmethods: {\n\t\troomActionHandler(action) {\n\t\t\tthis.closeRoomMenu()\n\t\t\tthis.$emit('room-action-handler', { action, roomId: this.room.roomId })\n\t\t},\n\t\tcloseRoomMenu() {\n\t\t\tthis.roomMenuOpened = null\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomContent.vue?vue&type=template&id=83762a6c&\"\nimport script from \"./RoomContent.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default (items, prop, val, startsWith = false) => {\n\tif (!val || val === '') return items\n\n\treturn items.filter(v => {\n\t\tif (startsWith) return formatString(v[prop]).startsWith(formatString(val))\n\t\treturn formatString(v[prop]).includes(formatString(val))\n\t})\n}\n\nfunction formatString(string) {\n\treturn string\n\t\t.toLowerCase()\n\t\t.normalize('NFD')\n\t\t.replace(/[\\u0300-\\u036f]/g, '')\n}\n","<template>\n\t<div\n\t\tv-show=\"showRoomsList\"\n\t\tclass=\"vac-rooms-container vac-app-border-r\"\n\t\t:class=\"{ 'vac-rooms-container-full': isMobile }\"\n\t>\n\t\t<slot name=\"rooms-header\" />\n\n\t\t<slot name=\"rooms-list-search\">\n\t\t\t<rooms-search\n\t\t\t\t:rooms=\"rooms\"\n\t\t\t\t:loading-rooms=\"loadingRooms\"\n\t\t\t\t:text-messages=\"textMessages\"\n\t\t\t\t:show-search=\"showSearch\"\n\t\t\t\t:show-add-room=\"showAddRoom\"\n\t\t\t\t@search-room=\"searchRoom\"\n\t\t\t\t@add-room=\"$emit('add-room')\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</rooms-search>\n\t\t</slot>\n\n\t\t<loader :show=\"loadingRooms\" />\n\n\t\t<div v-if=\"!loadingRooms && !rooms.length\" class=\"vac-rooms-empty\">\n\t\t\t<slot name=\"rooms-empty\">\n\t\t\t\t{{ textMessages.ROOMS_EMPTY }}\n\t\t\t</slot>\n\t\t</div>\n\n\t\t<div v-if=\"!loadingRooms\" class=\"vac-room-list\">\n\t\t\t<div\n\t\t\t\tv-for=\"fRoom in filteredRooms\"\n\t\t\t\t:id=\"fRoom.roomId\"\n\t\t\t\t:key=\"fRoom.roomId\"\n\t\t\t\tclass=\"vac-room-item\"\n\t\t\t\t:class=\"{ 'vac-room-selected': selectedRoomId === fRoom.roomId }\"\n\t\t\t\t@click=\"openRoom(fRoom)\"\n\t\t\t>\n\t\t\t\t<room-content\n\t\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t\t:room=\"fRoom\"\n\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t:text-messages=\"textMessages\"\n\t\t\t\t\t:room-actions=\"roomActions\"\n\t\t\t\t\t@room-action-handler=\"$emit('room-action-handler', $event)\"\n\t\t\t\t>\n\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t</template>\n\t\t\t\t</room-content>\n\t\t\t</div>\n\t\t\t<transition name=\"vac-fade-message\">\n\t\t\t\t<infinite-loading\n\t\t\t\t\tv-if=\"rooms.length && !loadingRooms\"\n\t\t\t\t\tforce-use-infinite-wrapper=\".vac-room-list\"\n\t\t\t\t\tweb-component-name=\"vue-advanced-chat\"\n\t\t\t\t\tspinner=\"spiral\"\n\t\t\t\t\t@infinite=\"loadMoreRooms\"\n\t\t\t\t>\n\t\t\t\t\t<div slot=\"spinner\">\n\t\t\t\t\t\t<loader :show=\"true\" :infinite=\"true\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div slot=\"no-results\" />\n\t\t\t\t\t<div slot=\"no-more\" />\n\t\t\t\t</infinite-loading>\n\t\t\t</transition>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport InfiniteLoading from 'vue-infinite-loading'\n\nimport Loader from '../../components/Loader/Loader'\n\nimport RoomsSearch from './RoomsSearch/RoomsSearch'\nimport RoomContent from './RoomContent/RoomContent'\n\nimport filteredUsers from '../../utils/filter-items'\n\nexport default {\n\tname: 'RoomsList',\n\tcomponents: {\n\t\tInfiniteLoading,\n\t\tLoader,\n\t\tRoomsSearch,\n\t\tRoomContent\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tshowRoomsList: { type: Boolean, required: true },\n\t\tshowSearch: { type: Boolean, required: true },\n\t\tshowAddRoom: { type: Boolean, required: true },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\tisMobile: { type: Boolean, required: true },\n\t\trooms: { type: Array, required: true },\n\t\tloadingRooms: { type: Boolean, required: true },\n\t\troomsLoaded: { type: Boolean, required: true },\n\t\troom: { type: Object, required: true },\n\t\troomActions: { type: Array, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tfilteredRooms: this.rooms || [],\n\t\t\tinfiniteState: null,\n\t\t\tloadingMoreRooms: false,\n\t\t\tselectedRoomId: ''\n\t\t}\n\t},\n\n\twatch: {\n\t\trooms(newVal, oldVal) {\n\t\t\tthis.filteredRooms = newVal\n\n\t\t\tif (\n\t\t\t\tthis.infiniteState &&\n\t\t\t\t(newVal.length !== oldVal.length || this.roomsLoaded)\n\t\t\t) {\n\t\t\t\tthis.infiniteState.loaded()\n\t\t\t\tthis.loadingMoreRooms = false\n\t\t\t}\n\t\t},\n\t\tloadingRooms(val) {\n\t\t\tif (val) this.infiniteState = null\n\t\t},\n\t\tloadingMoreRooms(val) {\n\t\t\tthis.$emit('loading-more-rooms', val)\n\t\t},\n\t\troomsLoaded(val) {\n\t\t\tif (val && this.infiniteState) {\n\t\t\t\tthis.loadingMoreRooms = false\n\t\t\t\tthis.infiniteState.complete()\n\t\t\t}\n\t\t},\n\t\troom: {\n\t\t\timmediate: true,\n\t\t\thandler(val) {\n\t\t\t\tif (val && !this.isMobile) this.selectedRoomId = val.roomId\n\t\t\t}\n\t\t}\n\t},\n\n\tmethods: {\n\t\tsearchRoom(ev) {\n\t\t\tthis.filteredRooms = filteredUsers(\n\t\t\t\tthis.rooms,\n\t\t\t\t'roomName',\n\t\t\t\tev.target.value\n\t\t\t)\n\t\t},\n\t\topenRoom(room) {\n\t\t\tif (room.roomId === this.room.roomId && !this.isMobile) return\n\t\t\tif (!this.isMobile) this.selectedRoomId = room.roomId\n\t\t\tthis.$emit('fetch-room', { room })\n\t\t},\n\t\tloadMoreRooms(infiniteState) {\n\t\t\tif (this.loadingMoreRooms) return\n\n\t\t\tif (this.roomsLoaded) {\n\t\t\t\tthis.loadingMoreRooms = false\n\t\t\t\treturn infiniteState.complete()\n\t\t\t}\n\n\t\t\tthis.infiniteState = infiniteState\n\t\t\tthis.$emit('fetch-more-rooms')\n\t\t\tthis.loadingMoreRooms = true\n\t\t}\n\t}\n}\n</script>\n","// Credits to https://github.com/grishkovelli/vue-audio-recorder\n\nlet lamejs\ntry {\n\tlamejs = require('lamejs')\n} catch (_) {\n\tlamejs = { missing: true }\n}\n\nconst { Mp3Encoder } = lamejs\n\nexport default class {\n\tconstructor(config) {\n\t\tif (lamejs.missing) {\n\t\t\tthrow new Error(\n\t\t\t\t'You must add lamejs in your dependencies to use the audio recorder. Please run \"npm install lamejs --save\"'\n\t\t\t)\n\t\t}\n\n\t\tthis.bitRate = config.bitRate\n\t\tthis.sampleRate = config.sampleRate\n\t\tthis.dataBuffer = []\n\t\tthis.encoder = new Mp3Encoder(1, this.sampleRate, this.bitRate)\n\t}\n\n\tencode(arrayBuffer) {\n\t\tconst maxSamples = 1152\n\t\tconst samples = this._convertBuffer(arrayBuffer)\n\t\tlet remaining = samples.length\n\n\t\tfor (let i = 0; remaining >= 0; i += maxSamples) {\n\t\t\tconst left = samples.subarray(i, i + maxSamples)\n\t\t\tconst buffer = this.encoder.encodeBuffer(left)\n\t\t\tthis.dataBuffer.push(new Int8Array(buffer))\n\t\t\tremaining -= maxSamples\n\t\t}\n\t}\n\n\tfinish() {\n\t\tthis.dataBuffer.push(this.encoder.flush())\n\t\tconst blob = new Blob(this.dataBuffer, { type: 'audio/mp3' })\n\t\tthis.dataBuffer = []\n\n\t\treturn {\n\t\t\tid: Date.now(),\n\t\t\tblob: blob,\n\t\t\turl: URL.createObjectURL(blob)\n\t\t}\n\t}\n\n\t_floatTo16BitPCM(input, output) {\n\t\tfor (let i = 0; i < input.length; i++) {\n\t\t\tconst s = Math.max(-1, Math.min(1, input[i]))\n\t\t\toutput[i] = s < 0 ? s * 0x8000 : s * 0x7fff\n\t\t}\n\t}\n\n\t_convertBuffer(arrayBuffer) {\n\t\tconst data = new Float32Array(arrayBuffer)\n\t\tconst out = new Int16Array(arrayBuffer.length)\n\t\tthis._floatTo16BitPCM(data, out)\n\t\treturn out\n\t}\n}\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomsList.vue?vue&type=template&id=c2da5236&\"\nimport script from \"./RoomsList.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomsList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.isMobile && !_vm.showRoomsList) || !_vm.isMobile || _vm.singleRoom),expression:\"(isMobile && !showRoomsList) || !isMobile || singleRoom\"}],staticClass:\"vac-col-messages\"},[(_vm.showNoRoom)?_vm._t(\"no-room-selected\",[_c('div',{staticClass:\"vac-container-center vac-room-empty\"},[_c('div',[_vm._v(_vm._s(_vm.textMessages.ROOM_EMPTY))])])]):_c('room-header',{attrs:{\"current-user-id\":_vm.currentUserId,\"text-messages\":_vm.textMessages,\"single-room\":_vm.singleRoom,\"show-rooms-list\":_vm.showRoomsList,\"is-mobile\":_vm.isMobile,\"room-info\":_vm.roomInfo,\"menu-actions\":_vm.menuActions,\"room\":_vm.room},on:{\"toggle-rooms-list\":function($event){return _vm.$emit('toggle-rooms-list')},\"room-info\":function($event){return _vm.$emit('room-info')},\"menu-action-handler\":function($event){return _vm.$emit('menu-action-handler', $event)}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}),_c('div',{ref:\"scrollContainer\",staticClass:\"vac-container-scroll\",on:{\"scroll\":_vm.onContainerScroll}},[_c('loader',{attrs:{\"show\":_vm.loadingMessages}}),_c('div',{staticClass:\"vac-messages-container\"},[_c('div',{class:{ 'vac-messages-hidden': _vm.loadingMessages }},[_c('transition',{attrs:{\"name\":\"vac-fade-message\"}},[(_vm.showNoMessages)?_c('div',{staticClass:\"vac-text-started\"},[_vm._t(\"messages-empty\",[_vm._v(\" \"+_vm._s(_vm.textMessages.MESSAGES_EMPTY)+\" \")])],2):_vm._e(),(_vm.showMessagesStarted)?_c('div',{staticClass:\"vac-text-started\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.CONVERSATION_STARTED)+\" \"+_vm._s(_vm.messages[0].date)+\" \")]):_vm._e()]),_c('transition',{attrs:{\"name\":\"vac-fade-message\"}},[(_vm.messages.length)?_c('infinite-loading',{class:{ 'vac-infinite-loading': !_vm.messagesLoaded },attrs:{\"force-use-infinite-wrapper\":\".vac-container-scroll\",\"web-component-name\":\"vue-advanced-chat\",\"spinner\":\"spiral\",\"direction\":\"top\",\"distance\":40},on:{\"infinite\":_vm.loadMoreMessages}},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('loader',{attrs:{\"show\":true,\"infinite\":true}})],1),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"}),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"})]):_vm._e()],1),_c('transition-group',{key:_vm.roomId,attrs:{\"name\":\"vac-fade-message\"}},_vm._l((_vm.messages),function(m,i){return _c('div',{key:m._id},[_c('message',{attrs:{\"current-user-id\":_vm.currentUserId,\"message\":m,\"index\":i,\"messages\":_vm.messages,\"edited-message\":_vm.editedMessage,\"message-actions\":_vm.messageActions,\"room-users\":_vm.room.users,\"text-messages\":_vm.textMessages,\"room-footer-ref\":_vm.$refs.roomFooter,\"new-messages\":_vm.newMessages,\"show-reaction-emojis\":_vm.showReactionEmojis,\"show-new-messages-divider\":_vm.showNewMessagesDivider,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"emojis-list\":_vm.emojisList,\"hide-options\":_vm.hideOptions},on:{\"message-added\":_vm.onMessageAdded,\"message-action-handler\":_vm.messageActionHandler,\"open-file\":_vm.openFile,\"open-user-tag\":_vm.openUserTag,\"send-message-reaction\":_vm.sendMessageReaction,\"hide-options\":function($event){_vm.hideOptions = $event}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(idx,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)}),0)],1)])],1),(!_vm.loadingMessages)?_c('div',[_c('transition',{attrs:{\"name\":\"vac-bounce\"}},[(_vm.scrollIcon)?_c('div',{staticClass:\"vac-icon-scroll\",on:{\"click\":_vm.scrollToBottom}},[_c('transition',{attrs:{\"name\":\"vac-bounce\"}},[(_vm.scrollMessagesCount)?_c('div',{staticClass:\"vac-badge-counter vac-messages-count\"},[_vm._v(\" \"+_vm._s(_vm.scrollMessagesCount)+\" \")]):_vm._e()]),_vm._t(\"scroll-icon\",[_c('svg-icon',{attrs:{\"name\":\"dropdown\",\"param\":\"scroll\"}})])],2):_vm._e()])],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(Object.keys(_vm.room).length && _vm.showFooter),expression:\"Object.keys(room).length && showFooter\"}],ref:\"roomFooter\",staticClass:\"vac-room-footer\"},[_c('room-message-reply',{attrs:{\"room\":_vm.room,\"message-reply\":_vm.messageReply,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},on:{\"reset-message\":_vm.resetMessage},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}),_c('room-emojis',{attrs:{\"filtered-emojis\":_vm.filteredEmojis},on:{\"select-emoji\":function($event){return _vm.selectEmoji($event)}}}),_c('room-users-tag',{attrs:{\"filtered-users-tag\":_vm.filteredUsersTag},on:{\"select-user-tag\":function($event){return _vm.selectUserTag($event)}}}),_c('div',{staticClass:\"vac-box-footer\",class:{\n\t\t\t\t'vac-app-box-shadow': _vm.filteredEmojis.length || _vm.filteredUsersTag.length\n\t\t\t}},[(_vm.showAudio && !_vm.imageFile && !_vm.videoFile)?_c('div',{staticClass:\"vac-icon-textarea-left\"},[(_vm.isRecording)?[_c('div',{staticClass:\"vac-svg-button vac-icon-audio-stop\",on:{\"click\":_vm.stopRecorder}},[_vm._t(\"audio-stop-icon\",[_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})])],2),_c('div',{staticClass:\"vac-dot-audio-record\"}),_c('div',{staticClass:\"vac-dot-audio-record-time\"},[_vm._v(\" \"+_vm._s(_vm.recordedTime)+\" \")]),_c('div',{staticClass:\"vac-svg-button vac-icon-audio-confirm\",on:{\"click\":function($event){return _vm.toggleRecorder(false)}}},[_vm._t(\"audio-stop-icon\",[_c('svg-icon',{attrs:{\"name\":\"checkmark\"}})])],2)]:_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":function($event){return _vm.toggleRecorder(true)}}},[_vm._t(\"microphone-icon\",[_c('svg-icon',{staticClass:\"vac-icon-microphone\",attrs:{\"name\":\"microphone\"}})])],2)],2):_vm._e(),(_vm.imageFile)?_c('div',{staticClass:\"vac-media-container\"},[_c('div',{staticClass:\"vac-svg-button vac-icon-media\",on:{\"click\":_vm.resetMediaFile}},[_vm._t(\"image-close-icon\",[_c('svg-icon',{attrs:{\"name\":\"close\",\"param\":\"image\"}})])],2),_c('div',{staticClass:\"vac-media-file\"},[_c('img',{ref:\"mediaFile\",attrs:{\"src\":_vm.imageFile},on:{\"load\":_vm.onMediaLoad}})])]):(_vm.videoFile)?_c('div',{staticClass:\"vac-media-container\"},[_c('div',{staticClass:\"vac-svg-button vac-icon-media\",on:{\"click\":_vm.resetMediaFile}},[_vm._t(\"image-close-icon\",[_c('svg-icon',{attrs:{\"name\":\"close\",\"param\":\"image\"}})])],2),_c('div',{ref:\"mediaFile\",staticClass:\"vac-media-file\"},[_c('video',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.videoFile}})])])]):(_vm.file)?_c('div',{staticClass:\"vac-file-container\",class:{ 'vac-file-container-edit': _vm.editedMessage._id }},[_c('div',{staticClass:\"vac-icon-file\"},[_vm._t(\"file-icon\",[_c('svg-icon',{attrs:{\"name\":\"file\"}})])],2),_c('div',{staticClass:\"vac-file-message\"},[_vm._v(\" \"+_vm._s(_vm.file.audio ? _vm.file.name : _vm.message)+\" \")]),_c('div',{staticClass:\"vac-svg-button vac-icon-remove\",on:{\"click\":function($event){return _vm.resetMessage(null, true)}}},[_vm._t(\"file-close-icon\",[_c('svg-icon',{attrs:{\"name\":\"close\"}})])],2)]):_vm._e(),_c('textarea',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.file || _vm.imageFile || _vm.videoFile),expression:\"!file || imageFile || videoFile\"}],ref:\"roomTextarea\",staticClass:\"vac-textarea\",class:{\n\t\t\t\t\t'vac-textarea-outline': _vm.editedMessage._id\n\t\t\t\t},style:({\n\t\t\t\t\t'min-height': ((_vm.mediaDimensions ? _vm.mediaDimensions.height : 20) + \"px\"),\n\t\t\t\t\t'padding-left': ((_vm.mediaDimensions ? _vm.mediaDimensions.width - 10 : 12) + \"px\")\n\t\t\t\t}),attrs:{\"placeholder\":_vm.textMessages.TYPE_MESSAGE},on:{\"input\":_vm.onChangeInput,\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.escapeTextarea($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();}]}}),_c('div',{staticClass:\"vac-icon-textarea\"},[(_vm.editedMessage._id)?_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":_vm.resetMessage}},[_vm._t(\"edit-close-icon\",[_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})])],2):_vm._e(),(_vm.showEmojis && (!_vm.file || _vm.imageFile || _vm.videoFile))?_c('emoji-picker',{attrs:{\"emoji-opened\":_vm.emojiOpened,\"position-top\":true},on:{\"add-emoji\":_vm.addEmoji,\"open-emoji\":function($event){_vm.emojiOpened = $event}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):_vm._e(),(_vm.showFiles)?_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":_vm.launchFilePicker}},[_vm._t(\"paperclip-icon\",[_c('svg-icon',{attrs:{\"name\":\"paperclip\"}})])],2):_vm._e(),(_vm.textareaAction)?_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":_vm.textareaActionHandler}},[_vm._t(\"custom-action-icon\",[_c('svg-icon',{attrs:{\"name\":\"deleted\"}})])],2):_vm._e(),(_vm.showFiles)?_c('input',{ref:\"file\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":_vm.acceptedFiles},on:{\"change\":function($event){return _vm.onFileChange($event.target.files)}}}):_vm._e(),(_vm.showSendIcon)?_c('div',{staticClass:\"vac-svg-button\",class:{ 'vac-send-disabled': _vm.isMessageEmpty },on:{\"click\":_vm.sendMessage}},[_vm._t(\"send-icon\",[_c('svg-icon',{attrs:{\"name\":\"send\",\"param\":_vm.isMessageEmpty ? 'disabled' : ''}})])],2):_vm._e()],1)])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-wrapper\"},[_c('emoji-picker',{attrs:{\"search\":_vm.search},on:{\"emoji\":_vm.append},scopedSlots:_vm._u([{key:\"emoji-invoker\",fn:function(ref){\nvar clickEvent = ref.events.click;\nreturn _c('div',{staticClass:\"vac-svg-button\",class:{ 'vac-emoji-reaction': _vm.emojiReaction },on:{\"click\":[function($event){$event.stopPropagation();return clickEvent($event)},_vm.openEmoji]}},[_vm._t(\"emoji-picker-icon\",[_c('svg-icon',{attrs:{\"name\":\"emoji\",\"param\":_vm.emojiReaction ? 'reaction' : ''}})])],2)}},{key:\"emoji-picker\",fn:function(ref){\nvar emojis = ref.emojis;\nvar insert = ref.insert;\nreturn (_vm.emojiOpened)?_c('div',{},[_c('transition',{attrs:{\"name\":\"vac-slide-up\",\"appear\":\"\"}},[_c('div',{staticClass:\"vac-emoji-picker\",class:{ 'vac-picker-reaction': _vm.emojiReaction },style:({\n\t\t\t\t\t\theight: (_vm.emojiPickerHeight + \"px\"),\n\t\t\t\t\t\ttop: _vm.positionTop ? _vm.emojiPickerHeight : (_vm.emojiPickerTop + \"px\"),\n\t\t\t\t\t\tright: _vm.emojiPickerRight,\n\t\t\t\t\t\tdisplay: _vm.emojiPickerTop || !_vm.emojiReaction ? 'initial' : 'none'\n\t\t\t\t\t})},[_c('div',{staticClass:\"vac-emoji-picker__search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})]),_c('div',_vm._l((emojis),function(emojiGroup,category){return _c('div',{key:category},[(category !== 'Frequently used')?_c('h5',[_vm._v(\" \"+_vm._s(category)+\" \")]):_vm._e(),(category !== 'Frequently used')?_c('div',{staticClass:\"vac-emojis\"},_vm._l((emojiGroup),function(emoji,emojiName){return _c('span',{key:emojiName,attrs:{\"title\":emojiName},on:{\"click\":function($event){return insert({ emoji: emoji, emojiName: emojiName })}}},[_vm._v(\" \"+_vm._s(emoji)+\" \")])}),0):_vm._e()])}),0)])])],1):_vm._e()}}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"vac-wrapper\">\n\t\t<emoji-picker :search=\"search\" @emoji=\"append\">\n\t\t\t<div\n\t\t\t\tslot=\"emoji-invoker\"\n\t\t\t\tslot-scope=\"{ events: { click: clickEvent } }\"\n\t\t\t\tclass=\"vac-svg-button\"\n\t\t\t\t:class=\"{ 'vac-emoji-reaction': emojiReaction }\"\n\t\t\t\t@click.stop=\"clickEvent\"\n\t\t\t\t@click=\"openEmoji\"\n\t\t\t>\n\t\t\t\t<slot name=\"emoji-picker-icon\">\n\t\t\t\t\t<svg-icon name=\"emoji\" :param=\"emojiReaction ? 'reaction' : ''\" />\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-if=\"emojiOpened\"\n\t\t\t\tslot=\"emoji-picker\"\n\t\t\t\tslot-scope=\"{ emojis, insert }\"\n\t\t\t>\n\t\t\t\t<transition name=\"vac-slide-up\" appear>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"vac-emoji-picker\"\n\t\t\t\t\t\t:class=\"{ 'vac-picker-reaction': emojiReaction }\"\n\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\theight: `${emojiPickerHeight}px`,\n\t\t\t\t\t\t\ttop: positionTop ? emojiPickerHeight : `${emojiPickerTop}px`,\n\t\t\t\t\t\t\tright: emojiPickerRight,\n\t\t\t\t\t\t\tdisplay: emojiPickerTop || !emojiReaction ? 'initial' : 'none'\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"vac-emoji-picker__search\">\n\t\t\t\t\t\t\t<input v-model=\"search\" type=\"text\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div v-for=\"(emojiGroup, category) in emojis\" :key=\"category\">\n\t\t\t\t\t\t\t\t<h5 v-if=\"category !== 'Frequently used'\">\n\t\t\t\t\t\t\t\t\t{{ category }}\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t<div v-if=\"category !== 'Frequently used'\" class=\"vac-emojis\">\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tv-for=\"(emoji, emojiName) in emojiGroup\"\n\t\t\t\t\t\t\t\t\t\t:key=\"emojiName\"\n\t\t\t\t\t\t\t\t\t\t:title=\"emojiName\"\n\t\t\t\t\t\t\t\t\t\t@click=\"insert({ emoji, emojiName })\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ emoji }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t</emoji-picker>\n\t</div>\n</template>\n\n<script>\nimport EmojiPicker from 'vue-emoji-picker'\n\nimport SvgIcon from '../SvgIcon/SvgIcon'\n\nexport default {\n\tcomponents: {\n\t\tEmojiPicker,\n\t\tSvgIcon\n\t},\n\n\tprops: {\n\t\temojiOpened: { type: Boolean, default: false },\n\t\temojiReaction: { type: Boolean, default: false },\n\t\troomFooterRef: { type: HTMLDivElement, default: null },\n\t\tpositionTop: { type: Boolean, default: false },\n\t\tpositionRight: { type: Boolean, default: false }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsearch: '',\n\t\t\temojiPickerHeight: 320,\n\t\t\temojiPickerTop: 0,\n\t\t\temojiPickerRight: ''\n\t\t}\n\t},\n\n\tmethods: {\n\t\tappend({ emoji, emojiName }) {\n\t\t\tthis.$emit('add-emoji', { icon: emoji, name: emojiName })\n\t\t},\n\t\topenEmoji(ev) {\n\t\t\tthis.$emit('open-emoji', true)\n\t\t\tthis.setEmojiPickerPosition(\n\t\t\t\tev.clientY,\n\t\t\t\tev.view.innerWidth,\n\t\t\t\tev.view.innerHeight\n\t\t\t)\n\t\t},\n\t\tsetEmojiPickerPosition(clientY, innerWidth, innerHeight) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst mobileSize = innerWidth < 500 || innerHeight < 700\n\n\t\t\t\tif (!this.roomFooterRef) {\n\t\t\t\t\tif (mobileSize) this.emojiPickerRight = '0px'\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (mobileSize) {\n\t\t\t\t\tthis.emojiPickerRight = innerWidth / 2 - 120 + 'px'\n\t\t\t\t\tthis.emojiPickerTop = 100\n\t\t\t\t\tthis.emojiPickerHeight = innerHeight - 200\n\t\t\t\t} else {\n\t\t\t\t\tconst roomFooterTop = this.roomFooterRef.getBoundingClientRect().top\n\t\t\t\t\tconst pickerTopPosition =\n\t\t\t\t\t\troomFooterTop - clientY > this.emojiPickerHeight - 50\n\n\t\t\t\t\tif (pickerTopPosition) this.emojiPickerTop = clientY + 10\n\t\t\t\t\telse this.emojiPickerTop = clientY - this.emojiPickerHeight - 10\n\n\t\t\t\t\tthis.emojiPickerRight = this.positionTop\n\t\t\t\t\t\t? '-50px'\n\t\t\t\t\t\t: this.positionRight\n\t\t\t\t\t\t? '60px'\n\t\t\t\t\t\t: ''\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmojiPicker.vue?vue&type=template&id=34d35f3a&\"\nimport script from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-room-header vac-app-border-b\"},[_vm._t(\"room-header\",[_c('div',{staticClass:\"vac-room-wrapper\"},[(!_vm.singleRoom)?_c('div',{staticClass:\"vac-svg-button vac-toggle-button\",class:{ 'vac-rotate-icon': !_vm.showRoomsList && !_vm.isMobile },on:{\"click\":function($event){return _vm.$emit('toggle-rooms-list')}}},[_vm._t(\"toggle-icon\",[_c('svg-icon',{attrs:{\"name\":\"toggle\"}})])],2):_vm._e(),_c('div',{staticClass:\"vac-info-wrapper\",class:{ 'vac-item-clickable': _vm.roomInfo },on:{\"click\":function($event){return _vm.$emit('room-info')}}},[_vm._t(\"room-header-avatar\",[(_vm.room.avatar)?_c('div',{staticClass:\"vac-avatar\",style:({ 'background-image': (\"url('\" + (_vm.room.avatar) + \"')\") })}):_vm._e()],null,{ room: _vm.room }),_vm._t(\"room-header-info\",[_c('div',{staticClass:\"vac-text-ellipsis\"},[_c('div',{staticClass:\"vac-room-name vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.room.roomName)+\" \")]),(_vm.typingUsers)?_c('div',{staticClass:\"vac-room-info vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.typingUsers)+\" \")]):_c('div',{staticClass:\"vac-room-info vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.userStatus)+\" \")])])],null,{ room: _vm.room, typingUsers: _vm.typingUsers, userStatus: _vm.userStatus })],2),(_vm.room.roomId)?_vm._t(\"room-options\",[(_vm.menuActions.length)?_c('div',{staticClass:\"vac-svg-button vac-room-options\",on:{\"click\":function($event){_vm.menuOpened = !_vm.menuOpened}}},[_vm._t(\"menu-icon\",[_c('svg-icon',{attrs:{\"name\":\"menu\"}})])],2):_vm._e(),(_vm.menuActions.length)?_c('transition',{attrs:{\"name\":\"vac-slide-left\"}},[(_vm.menuOpened)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeMenu),expression:\"closeMenu\"}],staticClass:\"vac-menu-options\"},[_c('div',{staticClass:\"vac-menu-list\"},_vm._l((_vm.menuActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"vac-menu-item\",on:{\"click\":function($event){return _vm.menuActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()]):_vm._e()],2)],null,{ room: _vm.room, typingUsers: _vm.typingUsers, userStatus: _vm.userStatus })],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"vac-room-header vac-app-border-b\">\n\t\t<slot name=\"room-header\" v-bind=\"{ room, typingUsers, userStatus }\">\n\t\t\t<div class=\"vac-room-wrapper\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"!singleRoom\"\n\t\t\t\t\tclass=\"vac-svg-button vac-toggle-button\"\n\t\t\t\t\t:class=\"{ 'vac-rotate-icon': !showRoomsList && !isMobile }\"\n\t\t\t\t\t@click=\"$emit('toggle-rooms-list')\"\n\t\t\t\t>\n\t\t\t\t\t<slot name=\"toggle-icon\">\n\t\t\t\t\t\t<svg-icon name=\"toggle\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"vac-info-wrapper\"\n\t\t\t\t\t:class=\"{ 'vac-item-clickable': roomInfo }\"\n\t\t\t\t\t@click=\"$emit('room-info')\"\n\t\t\t\t>\n\t\t\t\t\t<slot name=\"room-header-avatar\" v-bind=\"{ room }\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"room.avatar\"\n\t\t\t\t\t\t\tclass=\"vac-avatar\"\n\t\t\t\t\t\t\t:style=\"{ 'background-image': `url('${room.avatar}')` }\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</slot>\n\t\t\t\t\t<slot\n\t\t\t\t\t\tname=\"room-header-info\"\n\t\t\t\t\t\tv-bind=\"{ room, typingUsers, userStatus }\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"vac-text-ellipsis\">\n\t\t\t\t\t\t\t<div class=\"vac-room-name vac-text-ellipsis\">\n\t\t\t\t\t\t\t\t{{ room.roomName }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if=\"typingUsers\" class=\"vac-room-info vac-text-ellipsis\">\n\t\t\t\t\t\t\t\t{{ typingUsers }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else class=\"vac-room-info vac-text-ellipsis\">\n\t\t\t\t\t\t\t\t{{ userStatus }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t\t<slot v-if=\"room.roomId\" name=\"room-options\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"menuActions.length\"\n\t\t\t\t\t\tclass=\"vac-svg-button vac-room-options\"\n\t\t\t\t\t\t@click=\"menuOpened = !menuOpened\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"menu-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"menu\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition v-if=\"menuActions.length\" name=\"vac-slide-left\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"menuOpened\"\n\t\t\t\t\t\t\tv-click-outside=\"closeMenu\"\n\t\t\t\t\t\t\tclass=\"vac-menu-options\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"vac-menu-list\">\n\t\t\t\t\t\t\t\t<div v-for=\"action in menuActions\" :key=\"action.name\">\n\t\t\t\t\t\t\t\t\t<div class=\"vac-menu-item\" @click=\"menuActionHandler(action)\">\n\t\t\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t</slot>\n\t</div>\n</template>\n\n<script>\nimport vClickOutside from 'v-click-outside'\n\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\n\nimport typingText from '../../../utils/typing-text'\n\nexport default {\n\tname: 'RoomHeader',\n\tcomponents: {\n\t\tSvgIcon\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tsingleRoom: { type: Boolean, required: true },\n\t\tshowRoomsList: { type: Boolean, required: true },\n\t\tisMobile: { type: Boolean, required: true },\n\t\troomInfo: { type: Function, default: null },\n\t\tmenuActions: { type: Array, required: true },\n\t\troom: { type: Object, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tmenuOpened: false\n\t\t}\n\t},\n\n\tcomputed: {\n\t\ttypingUsers() {\n\t\t\treturn typingText(this.room, this.currentUserId, this.textMessages)\n\t\t},\n\t\tuserStatus() {\n\t\t\tif (!this.room.users || this.room.users.length !== 2) return\n\n\t\t\tconst user = this.room.users.find(u => u._id !== this.currentUserId)\n\n\t\t\tif (!user.status) return\n\n\t\t\tlet text = ''\n\n\t\t\tif (user.status.state === 'online') {\n\t\t\t\ttext = this.textMessages.IS_ONLINE\n\t\t\t} else if (user.status.lastChanged) {\n\t\t\t\ttext = this.textMessages.LAST_SEEN + user.status.lastChanged\n\t\t\t}\n\n\t\t\treturn text\n\t\t}\n\t},\n\n\tmethods: {\n\t\tmenuActionHandler(action) {\n\t\t\tthis.closeMenu()\n\t\t\tthis.$emit('menu-action-handler', action)\n\t\t},\n\t\tcloseMenu() {\n\t\t\tthis.menuOpened = false\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomHeader.vue?vue&type=template&id=7138c088&\"\nimport script from \"./RoomHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-slide-up\"}},[(_vm.messageReply)?_c('div',{staticClass:\"vac-reply-container\",style:({ bottom: ((_vm.$parent.$refs.roomFooter.clientHeight) + \"px\") })},[_c('div',{staticClass:\"vac-reply-box\"},[_c('div',{staticClass:\"vac-reply-info\"},[_c('div',{staticClass:\"vac-reply-username\"},[_vm._v(\" \"+_vm._s(_vm.messageReply.username)+\" \")]),_c('div',{staticClass:\"vac-reply-content\"},[_c('format-message',{attrs:{\"content\":_vm.messageReply.content,\"users\":_vm.room.users,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"reply\":true},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)]),(_vm.isImageFile)?_c('img',{staticClass:\"vac-image-reply\",attrs:{\"src\":_vm.messageReply.file.url}}):(_vm.isVideoFile)?_c('video',{staticClass:\"vac-image-reply\",attrs:{\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.messageReply.file.url}})]):(_vm.isAudioFile)?_c('audio-player',{staticClass:\"vac-audio-reply\",attrs:{\"src\":_vm.messageReply.file.url},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):_vm._e()],1),_c('div',{staticClass:\"vac-icon-reply\"},[_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":function($event){return _vm.$emit('reset-message')}}},[_vm._t(\"reply-close-icon\",[_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})])],2)])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"vac-audio-player\"},[_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":_vm.playback}},[(_vm.isPlaying)?_vm._t(\"audio-pause-icon\",[_c('svg-icon',{attrs:{\"name\":\"audio-pause\"}})]):_vm._t(\"audio-play-icon\",[_c('svg-icon',{attrs:{\"name\":\"audio-play\"}})])],2),_c('audio-control',{attrs:{\"percentage\":_vm.progress},on:{\"change-linehead\":_vm.onUpdateProgress,\"hover-audio-progress\":function($event){return _vm.$emit('hover-audio-progress', $event)}}}),_c('audio',{attrs:{\"id\":_vm.playerUniqId,\"src\":_vm.audioSource}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"progress\",staticClass:\"vac-player-bar\",on:{\"mousedown\":_vm.onMouseDown,\"mouseover\":function($event){return _vm.$emit('hover-audio-progress', true)},\"mouseout\":function($event){return _vm.$emit('hover-audio-progress', false)}}},[_c('div',{staticClass:\"vac-player-progress\"},[_c('div',{staticClass:\"vac-line-container\"},[_c('div',{staticClass:\"vac-line-progress\",style:({ width: (_vm.percentage + \"%\") })}),_c('div',{staticClass:\"vac-line-dot\",class:{ 'vac-line-dot__active': _vm.isMouseDown },style:({ left: (_vm.percentage + \"%\") })})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div\n\t\tref=\"progress\"\n\t\tclass=\"vac-player-bar\"\n\t\t@mousedown=\"onMouseDown\"\n\t\t@mouseover=\"$emit('hover-audio-progress', true)\"\n\t\t@mouseout=\"$emit('hover-audio-progress', false)\"\n\t>\n\t\t<div class=\"vac-player-progress\">\n\t\t\t<div class=\"vac-line-container\">\n\t\t\t\t<div class=\"vac-line-progress\" :style=\"{ width: `${percentage}%` }\" />\n\t\t\t\t<div\n\t\t\t\t\tclass=\"vac-line-dot\"\n\t\t\t\t\t:class=\"{ 'vac-line-dot__active': isMouseDown }\"\n\t\t\t\t\t:style=\"{ left: `${percentage}%` }\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tprops: {\n\t\tpercentage: { type: Number, default: 0 }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tisMouseDown: false\n\t\t}\n\t},\n\n\tmethods: {\n\t\tonMouseDown(ev) {\n\t\t\tthis.isMouseDown = true\n\t\t\tconst seekPos = this.calculateLineHeadPosition(ev, this.$refs['progress'])\n\t\t\tthis.$emit('change-linehead', seekPos)\n\t\t\tdocument.addEventListener('mousemove', this.onMouseMove)\n\t\t\tdocument.addEventListener('mouseup', this.onMouseUp)\n\t\t},\n\t\tonMouseUp(ev) {\n\t\t\tthis.isMouseDown = false\n\t\t\tdocument.removeEventListener('mouseup', this.onMouseUp)\n\t\t\tdocument.removeEventListener('mousemove', this.onMouseMove)\n\t\t\tconst seekPos = this.calculateLineHeadPosition(ev, this.$refs['progress'])\n\t\t\tthis.$emit('change-linehead', seekPos)\n\t\t},\n\t\tonMouseMove(ev) {\n\t\t\tconst seekPos = this.calculateLineHeadPosition(ev, this.$refs['progress'])\n\t\t\tthis.$emit('change-linehead', seekPos)\n\t\t},\n\t\tcalculateLineHeadPosition(ev, element) {\n\t\t\tconst progressWidth = element.getBoundingClientRect().width\n\t\t\tconst leftPosition = element.getBoundingClientRect().left\n\t\t\tlet pos = (ev.clientX - leftPosition) / progressWidth\n\n\t\t\tpos = pos < 0 ? 0 : pos\n\t\t\tpos = pos > 1 ? 1 : pos\n\n\t\t\treturn pos\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioControl.vue?vue&type=template&id=c2db8bb6&\"\nimport script from \"./AudioControl.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioControl.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<div class=\"vac-audio-player\">\n\t\t\t<div class=\"vac-svg-button\" @click=\"playback\">\n\t\t\t\t<slot v-if=\"isPlaying\" name=\"audio-pause-icon\">\n\t\t\t\t\t<svg-icon name=\"audio-pause\" />\n\t\t\t\t</slot>\n\t\t\t\t<slot v-else name=\"audio-play-icon\">\n\t\t\t\t\t<svg-icon name=\"audio-play\" />\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<audio-control\n\t\t\t\t:percentage=\"progress\"\n\t\t\t\t@change-linehead=\"onUpdateProgress\"\n\t\t\t\t@hover-audio-progress=\"$emit('hover-audio-progress', $event)\"\n\t\t\t/>\n\n\t\t\t<audio :id=\"playerUniqId\" :src=\"audioSource\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\n\nimport AudioControl from '../AudioControl/AudioControl'\n\nexport default {\n\tname: 'AudioPlayer',\n\tcomponents: {\n\t\tSvgIcon,\n\t\tAudioControl\n\t},\n\n\tprops: {\n\t\tsrc: { type: String, default: null }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tisPlaying: false,\n\t\t\tduration: this.convertTimeMMSS(0),\n\t\t\tplayedTime: this.convertTimeMMSS(0),\n\t\t\tprogress: 0\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tplayerUniqId() {\n\t\t\treturn `audio-player${this._uid}`\n\t\t},\n\t\taudioSource() {\n\t\t\tif (this.src) return this.src\n\t\t\tthis.resetProgress()\n\t\t\treturn null\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.player = document.getElementById(this.playerUniqId)\n\n\t\tthis.player.addEventListener('ended', () => {\n\t\t\tthis.isPlaying = false\n\t\t})\n\n\t\tthis.player.addEventListener('loadeddata', () => {\n\t\t\tthis.resetProgress()\n\t\t\tthis.duration = this.convertTimeMMSS(this.player.duration)\n\t\t\tthis.updateProgressTime()\n\t\t})\n\n\t\tthis.player.addEventListener('timeupdate', this.onTimeUpdate)\n\t},\n\n\tmethods: {\n\t\tconvertTimeMMSS(seconds) {\n\t\t\treturn new Date(seconds * 1000).toISOString().substr(14, 5)\n\t\t},\n\t\tplayback() {\n\t\t\tif (!this.audioSource) return\n\n\t\t\tif (this.isPlaying) this.player.pause()\n\t\t\telse setTimeout(() => this.player.play())\n\n\t\t\tthis.isPlaying = !this.isPlaying\n\t\t},\n\t\tresetProgress() {\n\t\t\tif (this.isPlaying) this.player.pause()\n\n\t\t\tthis.duration = this.convertTimeMMSS(0)\n\t\t\tthis.playedTime = this.convertTimeMMSS(0)\n\t\t\tthis.progress = 0\n\t\t\tthis.isPlaying = false\n\t\t\tthis.updateProgressTime()\n\t\t},\n\t\tonTimeUpdate() {\n\t\t\tthis.playedTime = this.convertTimeMMSS(this.player.currentTime)\n\t\t\tthis.progress = (this.player.currentTime / this.player.duration) * 100\n\t\t\tthis.updateProgressTime()\n\t\t},\n\t\tonUpdateProgress(pos) {\n\t\t\tif (pos) this.player.currentTime = pos * this.player.duration\n\t\t},\n\t\tupdateProgressTime() {\n\t\t\tthis.$emit(\n\t\t\t\t'update-progress-time',\n\t\t\t\tthis.progress > 1 ? this.playedTime : this.duration\n\t\t\t)\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioPlayer.vue?vue&type=template&id=38e3d928&\"\nimport script from \"./AudioPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioPlayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<transition name=\"vac-slide-up\">\n\t\t<div\n\t\t\tv-if=\"messageReply\"\n\t\t\tclass=\"vac-reply-container\"\n\t\t\t:style=\"{ bottom: `${$parent.$refs.roomFooter.clientHeight}px` }\"\n\t\t>\n\t\t\t<div class=\"vac-reply-box\">\n\t\t\t\t<div class=\"vac-reply-info\">\n\t\t\t\t\t<div class=\"vac-reply-username\">\n\t\t\t\t\t\t{{ messageReply.username }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"vac-reply-content\">\n\t\t\t\t\t\t<format-message\n\t\t\t\t\t\t\t:content=\"messageReply.content\"\n\t\t\t\t\t\t\t:users=\"room.users\"\n\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t\t:reply=\"true\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</format-message>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<img\n\t\t\t\t\tv-if=\"isImageFile\"\n\t\t\t\t\t:src=\"messageReply.file.url\"\n\t\t\t\t\tclass=\"vac-image-reply\"\n\t\t\t\t/>\n\t\t\t\t<video v-else-if=\"isVideoFile\" controls class=\"vac-image-reply\">\n\t\t\t\t\t<source :src=\"messageReply.file.url\" />\n\t\t\t\t</video>\n\t\t\t\t<audio-player\n\t\t\t\t\tv-else-if=\"isAudioFile\"\n\t\t\t\t\t:src=\"messageReply.file.url\"\n\t\t\t\t\tclass=\"vac-audio-reply\"\n\t\t\t\t>\n\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t</template>\n\t\t\t\t</audio-player>\n\t\t\t</div>\n\n\t\t\t<div class=\"vac-icon-reply\">\n\t\t\t\t<div class=\"vac-svg-button\" @click=\"$emit('reset-message')\">\n\t\t\t\t\t<slot name=\"reply-close-icon\">\n\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\nimport FormatMessage from '../../../components/FormatMessage/FormatMessage'\n\nimport AudioPlayer from '../../Message/AudioPlayer/AudioPlayer'\n\nconst {\n\tisAudioFile,\n\tisImageFile,\n\tisVideoFile\n} = require('../../../utils/media-file')\n\nexport default {\n\tname: 'RoomMessageReply',\n\tcomponents: {\n\t\tSvgIcon,\n\t\tFormatMessage,\n\t\tAudioPlayer\n\t},\n\n\tprops: {\n\t\troom: { type: Object, required: true },\n\t\tmessageReply: { type: Object, default: null },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\tlinkOptions: { type: Object, required: true }\n\t},\n\n\tcomputed: {\n\t\tisImageFile() {\n\t\t\treturn isImageFile(this.messageReply.file)\n\t\t},\n\t\tisVideoFile() {\n\t\t\treturn isVideoFile(this.messageReply.file)\n\t\t},\n\t\tisAudioFile() {\n\t\t\treturn isAudioFile(this.messageReply.file)\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomMessageReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomMessageReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomMessageReply.vue?vue&type=template&id=2be4f270&\"\nimport script from \"./RoomMessageReply.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomMessageReply.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-slide-up\"}},[(_vm.filteredUsersTag.length)?_c('div',{staticClass:\"vac-tags-container vac-app-box-shadow\",style:({ bottom: ((_vm.$parent.$refs.roomFooter.clientHeight) + \"px\") })},_vm._l((_vm.filteredUsersTag),function(user){return _c('div',{key:user._id,staticClass:\"vac-tags-box\",on:{\"click\":function($event){return _vm.$emit('select-user-tag', user)}}},[_c('div',{staticClass:\"vac-tags-info\"},[(user.avatar)?_c('div',{staticClass:\"vac-avatar vac-tags-avatar\",style:({ 'background-image': (\"url('\" + (user.avatar) + \"')\") })}):_vm._e(),_c('div',{staticClass:\"vac-tags-username\"},[_vm._v(\" \"+_vm._s(user.username)+\" \")])])])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"vac-slide-up\">\n\t\t<div\n\t\t\tv-if=\"filteredUsersTag.length\"\n\t\t\tclass=\"vac-tags-container vac-app-box-shadow\"\n\t\t\t:style=\"{ bottom: `${$parent.$refs.roomFooter.clientHeight}px` }\"\n\t\t>\n\t\t\t<div\n\t\t\t\tv-for=\"user in filteredUsersTag\"\n\t\t\t\t:key=\"user._id\"\n\t\t\t\tclass=\"vac-tags-box\"\n\t\t\t\t@click=\"$emit('select-user-tag', user)\"\n\t\t\t>\n\t\t\t\t<div class=\"vac-tags-info\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"user.avatar\"\n\t\t\t\t\t\tclass=\"vac-avatar vac-tags-avatar\"\n\t\t\t\t\t\t:style=\"{ 'background-image': `url('${user.avatar}')` }\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"vac-tags-username\">\n\t\t\t\t\t\t{{ user.username }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'RoomUsersTag',\n\n\tprops: {\n\t\tfilteredUsersTag: { type: Array, required: true }\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomUsersTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomUsersTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomUsersTag.vue?vue&type=template&id=2af3aeb1&\"\nimport script from \"./RoomUsersTag.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomUsersTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-slide-up\"}},[(_vm.filteredEmojis.length)?_c('div',{staticClass:\"vac-emojis-container vac-app-box-shadow\",style:({ bottom: ((_vm.$parent.$refs.roomFooter.clientHeight) + \"px\") })},_vm._l((_vm.filteredEmojis),function(emoji){return _c('div',{key:emoji,staticClass:\"vac-emoji-element\",on:{\"click\":function($event){return _vm.$emit('select-emoji', emoji)}}},[_vm._v(\" \"+_vm._s(emoji)+\" \")])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"vac-slide-up\">\n\t\t<div\n\t\t\tv-if=\"filteredEmojis.length\"\n\t\t\tclass=\"vac-emojis-container vac-app-box-shadow\"\n\t\t\t:style=\"{ bottom: `${$parent.$refs.roomFooter.clientHeight}px` }\"\n\t\t>\n\t\t\t<div\n\t\t\t\tv-for=\"emoji in filteredEmojis\"\n\t\t\t\t:key=\"emoji\"\n\t\t\t\tclass=\"vac-emoji-element\"\n\t\t\t\t@click=\"$emit('select-emoji', emoji)\"\n\t\t\t>\n\t\t\t\t{{ emoji }}\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'RoomEmojis',\n\n\tprops: {\n\t\tfilteredEmojis: { type: Array, required: true }\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomEmojis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomEmojis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomEmojis.vue?vue&type=template&id=2c412d91&\"\nimport script from \"./RoomEmojis.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomEmojis.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:_vm.message._id,staticClass:\"vac-message-wrapper\",attrs:{\"id\":_vm.message._id}},[(_vm.showDate)?_c('div',{staticClass:\"vac-card-info vac-card-date\"},[_vm._v(\" \"+_vm._s(_vm.message.date)+\" \")]):_vm._e(),(_vm.newMessage._id === _vm.message._id)?_c('div',{staticClass:\"vac-line-new\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.NEW_MESSAGES)+\" \")]):_vm._e(),(_vm.message.system)?_c('div',{staticClass:\"vac-card-info vac-card-system\"},[_c('format-message',{attrs:{\"content\":_vm.message.content,\"users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},on:{\"open-user-tag\":_vm.openUserTag},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1):_c('div',{staticClass:\"vac-message-box\",class:{ 'vac-offset-current': _vm.message.senderId === _vm.currentUserId }},[_vm._t(\"message\",[(_vm.message.avatar && _vm.message.senderId !== _vm.currentUserId)?_c('div',{staticClass:\"vac-avatar\",style:({ 'background-image': (\"url('\" + (_vm.message.avatar) + \"')\") })}):_vm._e(),_c('div',{staticClass:\"vac-message-container\",class:{\n\t\t\t\t\t'vac-message-container-offset': _vm.messageOffset\n\t\t\t\t}},[_c('div',{staticClass:\"vac-message-card\",class:{\n\t\t\t\t\t\t'vac-message-highlight': _vm.isMessageHover,\n\t\t\t\t\t\t'vac-message-current': _vm.message.senderId === _vm.currentUserId,\n\t\t\t\t\t\t'vac-message-deleted': _vm.message.deleted\n\t\t\t\t\t},on:{\"mouseover\":_vm.onHoverMessage,\"mouseleave\":_vm.onLeaveMessage}},[(_vm.roomUsers.length > 2 && _vm.message.senderId !== _vm.currentUserId)?_c('div',{staticClass:\"vac-text-username\",class:{\n\t\t\t\t\t\t\t'vac-username-reply': !_vm.message.deleted && _vm.message.replyMessage\n\t\t\t\t\t\t}},[_c('span',[_vm._v(_vm._s(_vm.message.username))])]):_vm._e(),(!_vm.message.deleted && _vm.message.replyMessage)?_c('message-reply',{attrs:{\"message\":_vm.message,\"room-users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):_vm._e(),(_vm.message.deleted)?_c('div',[_vm._t(\"deleted-icon\",[_c('svg-icon',{staticClass:\"vac-icon-deleted\",attrs:{\"name\":\"deleted\"}})]),_c('span',[_vm._v(_vm._s(_vm.textMessages.MESSAGE_DELETED))])],2):(!_vm.message.file)?_c('format-message',{attrs:{\"content\":_vm.message.content,\"users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},on:{\"open-user-tag\":_vm.openUserTag},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):(_vm.isImage)?_c('message-image',{attrs:{\"current-user-id\":_vm.currentUserId,\"message\":_vm.message,\"room-users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"image-hover\":_vm.imageHover},on:{\"open-file\":_vm.openFile},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):(_vm.isVideo)?_c('div',{staticClass:\"vac-video-container\"},[_c('video',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.message.file.url}})]),_c('format-message',{attrs:{\"content\":_vm.message.content,\"users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},on:{\"open-user-tag\":_vm.openUserTag},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1):(_vm.isAudio)?_c('audio-player',{attrs:{\"src\":_vm.message.file.url},on:{\"update-progress-time\":function($event){_vm.progressTime = $event},\"hover-audio-progress\":function($event){_vm.hoverAudioProgress = $event}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):_c('div',{staticClass:\"vac-file-message\"},[_c('div',{staticClass:\"vac-svg-button vac-icon-file\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openFile('download')}}},[_vm._t(\"document-icon\",[_c('svg-icon',{attrs:{\"name\":\"document\"}})])],2),_c('span',[_vm._v(_vm._s(_vm.message.content))])]),(_vm.isAudio && !_vm.message.deleted)?_c('div',{staticClass:\"vac-progress-time\"},[_vm._v(\" \"+_vm._s(_vm.progressTime)+\" \")]):_vm._e(),_c('div',{staticClass:\"vac-text-timestamp\"},[(_vm.message.edited && !_vm.message.deleted)?_c('div',{staticClass:\"vac-icon-edited\"},[_vm._t(\"pencil-icon\",[_c('svg-icon',{attrs:{\"name\":\"pencil\"}})])],2):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.message.timestamp))]),(_vm.isCheckmarkVisible)?_c('span',[_vm._t(\"checkmark-icon\",[_c('svg-icon',{staticClass:\"vac-icon-check\",attrs:{\"name\":_vm.message.distributed ? 'double-checkmark' : 'checkmark',\"param\":_vm.message.seen ? 'seen' : ''}})],null,{ message: _vm.message })],2):_vm._e()]),_c('message-actions',{attrs:{\"current-user-id\":_vm.currentUserId,\"message\":_vm.message,\"message-actions\":_vm.messageActions,\"room-footer-ref\":_vm.roomFooterRef,\"show-reaction-emojis\":_vm.showReactionEmojis,\"hide-options\":_vm.hideOptions,\"message-hover\":_vm.messageHover,\"hover-message-id\":_vm.hoverMessageId,\"hover-audio-progress\":_vm.hoverAudioProgress},on:{\"hide-options\":function($event){return _vm.$emit('hide-options', false)},\"update-message-hover\":function($event){_vm.messageHover = $event},\"update-options-opened\":function($event){_vm.optionsOpened = $event},\"update-emoji-opened\":function($event){_vm.emojiOpened = $event},\"message-action-handler\":_vm.messageActionHandler,\"send-message-reaction\":function($event){return _vm.sendMessageReaction($event)}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1),_c('message-reactions',{attrs:{\"current-user-id\":_vm.currentUserId,\"message\":_vm.message,\"emojis-list\":_vm.emojisList},on:{\"send-message-reaction\":function($event){return _vm.sendMessageReaction($event)}}})],1)],null,{ message: _vm.message })],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-reply-message\"},[_c('div',{staticClass:\"vac-reply-username\"},[_vm._v(\" \"+_vm._s(_vm.replyUsername)+\" \")]),(_vm.isImage)?_c('div',{staticClass:\"vac-image-reply-container\"},[_c('div',{staticClass:\"vac-message-image vac-message-image-reply\",style:({\n\t\t\t\t'background-image': (\"url('\" + (_vm.message.replyMessage.file.url) + \"')\")\n\t\t\t})})]):(_vm.isVideo)?_c('div',{staticClass:\"vac-video-reply-container\"},[_c('video',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.message.replyMessage.file.url}})])]):(_vm.isAudio)?_c('audio-player',{attrs:{\"src\":_vm.message.replyMessage.file.url},on:{\"update-progress-time\":function($event){_vm.progressTime = $event},\"hover-audio-progress\":function($event){_vm.hoverAudioProgress = $event}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):_vm._e(),_c('div',{staticClass:\"vac-reply-content\"},[_c('format-message',{attrs:{\"content\":_vm.message.replyMessage.content,\"users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"reply\":true},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"vac-reply-message\">\n\t\t<div class=\"vac-reply-username\">\n\t\t\t{{ replyUsername }}\n\t\t</div>\n\n\t\t<div v-if=\"isImage\" class=\"vac-image-reply-container\">\n\t\t\t<div\n\t\t\t\tclass=\"vac-message-image vac-message-image-reply\"\n\t\t\t\t:style=\"{\n\t\t\t\t\t'background-image': `url('${message.replyMessage.file.url}')`\n\t\t\t\t}\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<div v-else-if=\"isVideo\" class=\"vac-video-reply-container\">\n\t\t\t<video width=\"100%\" height=\"100%\" controls>\n\t\t\t\t<source :src=\"message.replyMessage.file.url\" />\n\t\t\t</video>\n\t\t</div>\n\n\t\t<audio-player\n\t\t\tv-else-if=\"isAudio\"\n\t\t\t:src=\"message.replyMessage.file.url\"\n\t\t\t@update-progress-time=\"progressTime = $event\"\n\t\t\t@hover-audio-progress=\"hoverAudioProgress = $event\"\n\t\t>\n\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</audio-player>\n\n\t\t<div class=\"vac-reply-content\">\n\t\t\t<format-message\n\t\t\t\t:content=\"message.replyMessage.content\"\n\t\t\t\t:users=\"roomUsers\"\n\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t:reply=\"true\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</format-message>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport FormatMessage from '../../../components/FormatMessage/FormatMessage'\n\nimport AudioPlayer from '../AudioPlayer/AudioPlayer'\n\nconst {\n\tisAudioFile,\n\tisImageFile,\n\tisVideoFile\n} = require('../../../utils/media-file')\n\nexport default {\n\tname: 'MessageReply',\n\tcomponents: { AudioPlayer, FormatMessage },\n\n\tprops: {\n\t\tmessage: { type: Object, required: true },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\troomUsers: { type: Array, required: true }\n\t},\n\n\tcomputed: {\n\t\treplyUsername() {\n\t\t\tconst { senderId } = this.message.replyMessage\n\t\t\tconst replyUser = this.roomUsers.find(user => user._id === senderId)\n\t\t\treturn replyUser ? replyUser.username : ''\n\t\t},\n\t\tisAudio() {\n\t\t\treturn isAudioFile(this.message.replyMessage.file)\n\t\t},\n\t\tisImage() {\n\t\t\treturn isImageFile(this.message.replyMessage.file)\n\t\t},\n\t\tisVideo() {\n\t\t\treturn isVideoFile(this.message.replyMessage.file)\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageReply.vue?vue&type=template&id=38b8a3d8&\"\nimport script from \"./MessageReply.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageReply.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"imageRef\",staticClass:\"vac-image-container\"},[_c('loader',{style:({ top: ((_vm.imageResponsive.loaderTop) + \"px\") }),attrs:{\"show\":_vm.isImageLoading}}),_c('div',{staticClass:\"vac-message-image\",class:{\n\t\t\t'vac-image-loading':\n\t\t\t\t_vm.isImageLoading && _vm.message.senderId === _vm.currentUserId\n\t\t},style:({\n\t\t\t'background-image': (\"url('\" + _vm.imageBackground + \"')\"),\n\t\t\t'max-height': ((_vm.imageResponsive.maxHeight) + \"px\")\n\t\t})},[_c('transition',{attrs:{\"name\":\"vac-fade-image\"}},[(_vm.imageHover && !_vm.isImageLoading)?_c('div',{staticClass:\"vac-image-buttons\"},[_c('div',{staticClass:\"vac-svg-button vac-button-view\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('open-file', 'preview')}}},[_vm._t(\"eye-icon\",[_c('svg-icon',{attrs:{\"name\":\"eye\"}})])],2),_c('div',{staticClass:\"vac-svg-button vac-button-download\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('open-file', 'download')}}},[_vm._t(\"document-icon\",[_c('svg-icon',{attrs:{\"name\":\"document\"}})])],2)]):_vm._e()])],1),_c('format-message',{attrs:{\"content\":_vm.message.content,\"users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},on:{\"open-user-tag\":function($event){return _vm.$emit('open-user-tag')}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div ref=\"imageRef\" class=\"vac-image-container\">\n\t\t<loader\n\t\t\t:style=\"{ top: `${imageResponsive.loaderTop}px` }\"\n\t\t\t:show=\"isImageLoading\"\n\t\t/>\n\t\t<div\n\t\t\tclass=\"vac-message-image\"\n\t\t\t:class=\"{\n\t\t\t\t'vac-image-loading':\n\t\t\t\t\tisImageLoading && message.senderId === currentUserId\n\t\t\t}\"\n\t\t\t:style=\"{\n\t\t\t\t'background-image': `url('${imageBackground}')`,\n\t\t\t\t'max-height': `${imageResponsive.maxHeight}px`\n\t\t\t}\"\n\t\t>\n\t\t\t<transition name=\"vac-fade-image\">\n\t\t\t\t<div v-if=\"imageHover && !isImageLoading\" class=\"vac-image-buttons\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"vac-svg-button vac-button-view\"\n\t\t\t\t\t\t@click.stop=\"$emit('open-file', 'preview')\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"eye-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"eye\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"vac-svg-button vac-button-download\"\n\t\t\t\t\t\t@click.stop=\"$emit('open-file', 'download')\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"document-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"document\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\t\t<format-message\n\t\t\t:content=\"message.content\"\n\t\t\t:users=\"roomUsers\"\n\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t:link-options=\"linkOptions\"\n\t\t\t@open-user-tag=\"$emit('open-user-tag')\"\n\t\t>\n\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</format-message>\n\t</div>\n</template>\n\n<script>\nimport Loader from '../../../components/Loader/Loader'\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\nimport FormatMessage from '../../../components/FormatMessage/FormatMessage'\n\nconst { isImageFile } = require('../../../utils/media-file')\n\nexport default {\n\tname: 'MessageImage',\n\tcomponents: { SvgIcon, Loader, FormatMessage },\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\tmessage: { type: Object, required: true },\n\t\troomUsers: { type: Array, required: true },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\timageHover: { type: Boolean, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\timageLoading: false,\n\t\t\timageResponsive: ''\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tisImageLoading() {\n\t\t\treturn (\n\t\t\t\tthis.message.file.url.indexOf('blob:http') !== -1 || this.imageLoading\n\t\t\t)\n\t\t},\n\t\timageBackground() {\n\t\t\treturn this.isImageLoading\n\t\t\t\t? this.message.file.preview || this.message.file.url\n\t\t\t\t: this.message.file.url\n\t\t}\n\t},\n\n\twatch: {\n\t\tmessage: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.checkImgLoad()\n\t\t\t}\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.imageResponsive = {\n\t\t\tmaxHeight: this.$refs.imageRef.clientWidth - 18,\n\t\t\tloaderTop: this.$refs.imageRef.clientWidth / 2\n\t\t}\n\t},\n\n\tmethods: {\n\t\tcheckImgLoad() {\n\t\t\tif (!isImageFile(this.message.file)) return\n\t\t\tthis.imageLoading = true\n\t\t\tconst image = new Image()\n\t\t\timage.src = this.message.file.url\n\t\t\timage.addEventListener('load', () => (this.imageLoading = false))\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageImage.vue?vue&type=template&id=bd6cf056&\"\nimport script from \"./MessageImage.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageImage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-message-actions-wrapper\"},[_c('div',{staticClass:\"vac-options-container\",class:{ 'vac-options-image': _vm.isImage && !_vm.message.replyMessage },style:({\n\t\t\tdisplay: _vm.hoverAudioProgress ? 'none' : 'initial',\n\t\t\twidth:\n\t\t\t\t_vm.filteredMessageActions.length && _vm.showReactionEmojis ? '70px' : '45px'\n\t\t})},[_c('transition-group',{attrs:{\"name\":\"vac-slide-left\"}},[(_vm.isMessageActions || _vm.isMessageReactions)?_c('div',{key:\"1\",staticClass:\"vac-blur-container\",class:{\n\t\t\t\t\t'vac-options-me': _vm.message.senderId === _vm.currentUserId\n\t\t\t\t}}):_vm._e(),(_vm.isMessageActions)?_c('div',{key:\"2\",ref:\"actionIcon\",staticClass:\"vac-svg-button vac-message-options\",on:{\"click\":_vm.openOptions}},[_vm._t(\"dropdown-icon\",[_c('svg-icon',{attrs:{\"name\":\"dropdown\",\"param\":\"message\"}})])],2):_vm._e(),(_vm.isMessageReactions)?_c('emoji-picker',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeEmoji),expression:\"closeEmoji\"}],key:\"3\",staticClass:\"vac-message-emojis\",style:({ right: _vm.isMessageActions ? '30px' : '5px' }),attrs:{\"emoji-opened\":_vm.emojiOpened,\"emoji-reaction\":true,\"room-footer-ref\":_vm.roomFooterRef,\"position-right\":_vm.message.senderId === _vm.currentUserId},on:{\"add-emoji\":_vm.sendMessageReaction,\"open-emoji\":_vm.openEmoji},scopedSlots:_vm._u([{key:\"emoji-picker-icon\",fn:function(){return [_vm._t(\"emoji-picker-reaction-icon\")]},proxy:true}],null,true)}):_vm._e()],1)],1),(_vm.filteredMessageActions.length)?_c('transition',{attrs:{\"name\":_vm.message.senderId === _vm.currentUserId\n\t\t\t\t? 'vac-slide-left'\n\t\t\t\t: 'vac-slide-right'}},[(_vm.optionsOpened)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeOptions),expression:\"closeOptions\"}],ref:\"menuOptions\",staticClass:\"vac-menu-options\",class:{\n\t\t\t\t'vac-menu-left': _vm.message.senderId !== _vm.currentUserId\n\t\t\t},style:({ top: (_vm.menuOptionsTop + \"px\") })},[_c('div',{staticClass:\"vac-menu-list\"},_vm._l((_vm.filteredMessageActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"vac-menu-item\",on:{\"click\":function($event){return _vm.messageActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"vac-message-actions-wrapper\">\n\t\t<div\n\t\t\tclass=\"vac-options-container\"\n\t\t\t:class=\"{ 'vac-options-image': isImage && !message.replyMessage }\"\n\t\t\t:style=\"{\n\t\t\t\tdisplay: hoverAudioProgress ? 'none' : 'initial',\n\t\t\t\twidth:\n\t\t\t\t\tfilteredMessageActions.length && showReactionEmojis ? '70px' : '45px'\n\t\t\t}\"\n\t\t>\n\t\t\t<transition-group name=\"vac-slide-left\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"isMessageActions || isMessageReactions\"\n\t\t\t\t\tkey=\"1\"\n\t\t\t\t\tclass=\"vac-blur-container\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'vac-options-me': message.senderId === currentUserId\n\t\t\t\t\t}\"\n\t\t\t\t/>\n\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"isMessageActions\"\n\t\t\t\t\tref=\"actionIcon\"\n\t\t\t\t\tkey=\"2\"\n\t\t\t\t\tclass=\"vac-svg-button vac-message-options\"\n\t\t\t\t\t@click=\"openOptions\"\n\t\t\t\t>\n\t\t\t\t\t<slot name=\"dropdown-icon\">\n\t\t\t\t\t\t<svg-icon name=\"dropdown\" param=\"message\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\n\t\t\t\t<emoji-picker\n\t\t\t\t\tv-if=\"isMessageReactions\"\n\t\t\t\t\tkey=\"3\"\n\t\t\t\t\tv-click-outside=\"closeEmoji\"\n\t\t\t\t\tclass=\"vac-message-emojis\"\n\t\t\t\t\t:style=\"{ right: isMessageActions ? '30px' : '5px' }\"\n\t\t\t\t\t:emoji-opened=\"emojiOpened\"\n\t\t\t\t\t:emoji-reaction=\"true\"\n\t\t\t\t\t:room-footer-ref=\"roomFooterRef\"\n\t\t\t\t\t:position-right=\"message.senderId === currentUserId\"\n\t\t\t\t\t@add-emoji=\"sendMessageReaction\"\n\t\t\t\t\t@open-emoji=\"openEmoji\"\n\t\t\t\t>\n\t\t\t\t\t<template #emoji-picker-icon>\n\t\t\t\t\t\t<slot name=\"emoji-picker-reaction-icon\" />\n\t\t\t\t\t</template>\n\t\t\t\t</emoji-picker>\n\t\t\t</transition-group>\n\t\t</div>\n\n\t\t<transition\n\t\t\tv-if=\"filteredMessageActions.length\"\n\t\t\t:name=\"\n\t\t\t\tmessage.senderId === currentUserId\n\t\t\t\t\t? 'vac-slide-left'\n\t\t\t\t\t: 'vac-slide-right'\n\t\t\t\"\n\t\t>\n\t\t\t<div\n\t\t\t\tv-if=\"optionsOpened\"\n\t\t\t\tref=\"menuOptions\"\n\t\t\t\tv-click-outside=\"closeOptions\"\n\t\t\t\tclass=\"vac-menu-options\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'vac-menu-left': message.senderId !== currentUserId\n\t\t\t\t}\"\n\t\t\t\t:style=\"{ top: `${menuOptionsTop}px` }\"\n\t\t\t>\n\t\t\t\t<div class=\"vac-menu-list\">\n\t\t\t\t\t<div v-for=\"action in filteredMessageActions\" :key=\"action.name\">\n\t\t\t\t\t\t<div class=\"vac-menu-item\" @click=\"messageActionHandler(action)\">\n\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport vClickOutside from 'v-click-outside'\n\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\nimport EmojiPicker from '../../../components/EmojiPicker/EmojiPicker'\n\nconst { isImageFile } = require('../../../utils/media-file')\n\nexport default {\n\tname: 'MessageActions',\n\tcomponents: { SvgIcon, EmojiPicker },\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\tmessage: { type: Object, required: true },\n\t\tmessageActions: { type: Array, required: true },\n\t\troomFooterRef: { type: HTMLDivElement, default: null },\n\t\tshowReactionEmojis: { type: Boolean, required: true },\n\t\thideOptions: { type: Boolean, required: true },\n\t\tmessageHover: { type: Boolean, required: true },\n\t\thoverMessageId: { type: [String, Number], default: null },\n\t\thoverAudioProgress: { type: Boolean, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tmenuOptionsTop: 0,\n\t\t\toptionsOpened: false,\n\t\t\toptionsClosing: false,\n\t\t\temojiOpened: false\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tisImage() {\n\t\t\treturn isImageFile(this.message.file)\n\t\t},\n\t\tisMessageActions() {\n\t\t\treturn (\n\t\t\t\tthis.filteredMessageActions.length &&\n\t\t\t\tthis.messageHover &&\n\t\t\t\t!this.message.deleted &&\n\t\t\t\t!this.message.disableActions &&\n\t\t\t\t!this.hoverAudioProgress\n\t\t\t)\n\t\t},\n\t\tisMessageReactions() {\n\t\t\treturn (\n\t\t\t\tthis.showReactionEmojis &&\n\t\t\t\tthis.messageHover &&\n\t\t\t\t!this.message.deleted &&\n\t\t\t\t!this.message.disableReactions &&\n\t\t\t\t!this.hoverAudioProgress\n\t\t\t)\n\t\t},\n\t\tfilteredMessageActions() {\n\t\t\treturn this.message.senderId === this.currentUserId\n\t\t\t\t? this.messageActions\n\t\t\t\t: this.messageActions.filter(message => !message.onlyMe)\n\t\t}\n\t},\n\n\twatch: {\n\t\temojiOpened(val) {\n\t\t\tthis.$emit('update-emoji-opened', val)\n\t\t\tif (val) this.optionsOpened = false\n\t\t},\n\t\thideOptions(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.closeEmoji()\n\t\t\t\tthis.closeOptions()\n\t\t\t}\n\t\t},\n\t\toptionsOpened(val) {\n\t\t\tthis.$emit('update-options-opened', val)\n\t\t}\n\t},\n\n\tmethods: {\n\t\topenOptions() {\n\t\t\tif (this.optionsClosing) return\n\n\t\t\tthis.optionsOpened = !this.optionsOpened\n\t\t\tif (!this.optionsOpened) return\n\n\t\t\tthis.$emit('hide-options', false)\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (\n\t\t\t\t\t!this.roomFooterRef ||\n\t\t\t\t\t!this.$refs.menuOptions ||\n\t\t\t\t\t!this.$refs.actionIcon\n\t\t\t\t) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tconst menuOptionsTop = this.$refs.menuOptions.getBoundingClientRect()\n\t\t\t\t\t.height\n\n\t\t\t\tconst actionIconTop = this.$refs.actionIcon.getBoundingClientRect().top\n\t\t\t\tconst roomFooterTop = this.roomFooterRef.getBoundingClientRect().top\n\n\t\t\t\tconst optionsTopPosition =\n\t\t\t\t\troomFooterTop - actionIconTop > menuOptionsTop + 50\n\n\t\t\t\tif (optionsTopPosition) this.menuOptionsTop = 30\n\t\t\t\telse this.menuOptionsTop = -menuOptionsTop\n\t\t\t})\n\t\t},\n\t\tcloseOptions() {\n\t\t\tthis.optionsOpened = false\n\t\t\tthis.optionsClosing = true\n\t\t\tthis.updateMessageHover()\n\t\t\tsetTimeout(() => (this.optionsClosing = false), 100)\n\t\t},\n\t\topenEmoji() {\n\t\t\tthis.emojiOpened = !this.emojiOpened\n\t\t\tthis.$emit('hide-options', false)\n\t\t},\n\t\tcloseEmoji() {\n\t\t\tthis.emojiOpened = false\n\t\t\tthis.updateMessageHover()\n\t\t},\n\t\tupdateMessageHover() {\n\t\t\tif (this.hoverMessageId !== this.message._id) {\n\t\t\t\tthis.$emit('update-message-hover', false)\n\t\t\t}\n\t\t},\n\t\tmessageActionHandler(action) {\n\t\t\tthis.closeOptions()\n\t\t\tthis.$emit('message-action-handler', action)\n\t\t},\n\t\tsendMessageReaction(emoji, reaction) {\n\t\t\tthis.$emit('send-message-reaction', { emoji, reaction })\n\t\t\tthis.closeEmoji()\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageActions.vue?vue&type=template&id=fdc8c862&\"\nimport script from \"./MessageActions.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.message.deleted)?_c('transition-group',{attrs:{\"name\":\"vac-slide-left\"}},_vm._l((_vm.message.reactions),function(reaction,key){return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(reaction.length),expression:\"reaction.length\"}],key:key + 0,staticClass:\"vac-button-reaction\",class:{\n\t\t\t'vac-reaction-me': reaction.indexOf(_vm.currentUserId) !== -1\n\t\t},style:({\n\t\t\tfloat: _vm.message.senderId === _vm.currentUserId ? 'right' : 'left'\n\t\t}),on:{\"click\":function($event){return _vm.sendMessageReaction({ name: key }, reaction)}}},[_vm._v(\" \"+_vm._s(_vm.getEmojiByName(key))),_c('span',[_vm._v(_vm._s(reaction.length))])])}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition-group v-if=\"!message.deleted\" name=\"vac-slide-left\">\n\t\t<button\n\t\t\tv-for=\"(reaction, key) in message.reactions\"\n\t\t\tv-show=\"reaction.length\"\n\t\t\t:key=\"key + 0\"\n\t\t\tclass=\"vac-button-reaction\"\n\t\t\t:class=\"{\n\t\t\t\t'vac-reaction-me': reaction.indexOf(currentUserId) !== -1\n\t\t\t}\"\n\t\t\t:style=\"{\n\t\t\t\tfloat: message.senderId === currentUserId ? 'right' : 'left'\n\t\t\t}\"\n\t\t\t@click=\"sendMessageReaction({ name: key }, reaction)\"\n\t\t>\n\t\t\t{{ getEmojiByName(key) }}<span>{{ reaction.length }}</span>\n\t\t</button>\n\t</transition-group>\n</template>\n\n<script>\nexport default {\n\tname: 'MessageReactions',\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\tmessage: { type: Object, required: true },\n\t\temojisList: { type: Object, required: true }\n\t},\n\n\tmethods: {\n\t\tgetEmojiByName(emojiName) {\n\t\t\treturn this.emojisList[emojiName]\n\t\t},\n\t\tsendMessageReaction(emoji, reaction) {\n\t\t\tthis.$emit('send-message-reaction', { emoji, reaction })\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageReactions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageReactions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageReactions.vue?vue&type=template&id=b91b2cc8&\"\nimport script from \"./MessageReactions.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageReactions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div :id=\"message._id\" :ref=\"message._id\" class=\"vac-message-wrapper\">\n\t\t<div v-if=\"showDate\" class=\"vac-card-info vac-card-date\">\n\t\t\t{{ message.date }}\n\t\t</div>\n\n\t\t<div v-if=\"newMessage._id === message._id\" class=\"vac-line-new\">\n\t\t\t{{ textMessages.NEW_MESSAGES }}\n\t\t</div>\n\n\t\t<div v-if=\"message.system\" class=\"vac-card-info vac-card-system\">\n\t\t\t<format-message\n\t\t\t\t:content=\"message.content\"\n\t\t\t\t:users=\"roomUsers\"\n\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</format-message>\n\t\t</div>\n\n\t\t<div\n\t\t\tv-else\n\t\t\tclass=\"vac-message-box\"\n\t\t\t:class=\"{ 'vac-offset-current': message.senderId === currentUserId }\"\n\t\t>\n\t\t\t<slot name=\"message\" v-bind=\"{ message }\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"message.avatar && message.senderId !== currentUserId\"\n\t\t\t\t\tclass=\"vac-avatar\"\n\t\t\t\t\t:style=\"{ 'background-image': `url('${message.avatar}')` }\"\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"vac-message-container\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'vac-message-container-offset': messageOffset\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"vac-message-card\"\n\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t'vac-message-highlight': isMessageHover,\n\t\t\t\t\t\t\t'vac-message-current': message.senderId === currentUserId,\n\t\t\t\t\t\t\t'vac-message-deleted': message.deleted\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t@mouseover=\"onHoverMessage\"\n\t\t\t\t\t\t@mouseleave=\"onLeaveMessage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"roomUsers.length > 2 && message.senderId !== currentUserId\"\n\t\t\t\t\t\t\tclass=\"vac-text-username\"\n\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t'vac-username-reply': !message.deleted && message.replyMessage\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>{{ message.username }}</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<message-reply\n\t\t\t\t\t\t\tv-if=\"!message.deleted && message.replyMessage\"\n\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t:room-users=\"roomUsers\"\n\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</message-reply>\n\n\t\t\t\t\t\t<div v-if=\"message.deleted\">\n\t\t\t\t\t\t\t<slot name=\"deleted-icon\">\n\t\t\t\t\t\t\t\t<svg-icon name=\"deleted\" class=\"vac-icon-deleted\" />\n\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t<span>{{ textMessages.MESSAGE_DELETED }}</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<format-message\n\t\t\t\t\t\t\tv-else-if=\"!message.file\"\n\t\t\t\t\t\t\t:content=\"message.content\"\n\t\t\t\t\t\t\t:users=\"roomUsers\"\n\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</format-message>\n\n\t\t\t\t\t\t<message-image\n\t\t\t\t\t\t\tv-else-if=\"isImage\"\n\t\t\t\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t:room-users=\"roomUsers\"\n\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t\t:image-hover=\"imageHover\"\n\t\t\t\t\t\t\t@open-file=\"openFile\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</message-image>\n\n\t\t\t\t\t\t<div v-else-if=\"isVideo\" class=\"vac-video-container\">\n\t\t\t\t\t\t\t<video width=\"100%\" height=\"100%\" controls>\n\t\t\t\t\t\t\t\t<source :src=\"message.file.url\" />\n\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t<format-message\n\t\t\t\t\t\t\t\t:content=\"message.content\"\n\t\t\t\t\t\t\t\t:users=\"roomUsers\"\n\t\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</format-message>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<audio-player\n\t\t\t\t\t\t\tv-else-if=\"isAudio\"\n\t\t\t\t\t\t\t:src=\"message.file.url\"\n\t\t\t\t\t\t\t@update-progress-time=\"progressTime = $event\"\n\t\t\t\t\t\t\t@hover-audio-progress=\"hoverAudioProgress = $event\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</audio-player>\n\n\t\t\t\t\t\t<div v-else class=\"vac-file-message\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"vac-svg-button vac-icon-file\"\n\t\t\t\t\t\t\t\t@click.stop=\"openFile('download')\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<slot name=\"document-icon\">\n\t\t\t\t\t\t\t\t\t<svg-icon name=\"document\" />\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{{ message.content }}</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div v-if=\"isAudio && !message.deleted\" class=\"vac-progress-time\">\n\t\t\t\t\t\t\t{{ progressTime }}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"vac-text-timestamp\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"message.edited && !message.deleted\"\n\t\t\t\t\t\t\t\tclass=\"vac-icon-edited\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<slot name=\"pencil-icon\">\n\t\t\t\t\t\t\t\t\t<svg-icon name=\"pencil\" />\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{{ message.timestamp }}</span>\n\t\t\t\t\t\t\t<span v-if=\"isCheckmarkVisible\">\n\t\t\t\t\t\t\t\t<slot name=\"checkmark-icon\" v-bind=\"{ message }\">\n\t\t\t\t\t\t\t\t\t<svg-icon\n\t\t\t\t\t\t\t\t\t\t:name=\"\n\t\t\t\t\t\t\t\t\t\t\tmessage.distributed ? 'double-checkmark' : 'checkmark'\n\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t:param=\"message.seen ? 'seen' : ''\"\n\t\t\t\t\t\t\t\t\t\tclass=\"vac-icon-check\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<message-actions\n\t\t\t\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t:message-actions=\"messageActions\"\n\t\t\t\t\t\t\t:room-footer-ref=\"roomFooterRef\"\n\t\t\t\t\t\t\t:show-reaction-emojis=\"showReactionEmojis\"\n\t\t\t\t\t\t\t:hide-options=\"hideOptions\"\n\t\t\t\t\t\t\t:message-hover=\"messageHover\"\n\t\t\t\t\t\t\t:hover-message-id=\"hoverMessageId\"\n\t\t\t\t\t\t\t:hover-audio-progress=\"hoverAudioProgress\"\n\t\t\t\t\t\t\t@hide-options=\"$emit('hide-options', false)\"\n\t\t\t\t\t\t\t@update-message-hover=\"messageHover = $event\"\n\t\t\t\t\t\t\t@update-options-opened=\"optionsOpened = $event\"\n\t\t\t\t\t\t\t@update-emoji-opened=\"emojiOpened = $event\"\n\t\t\t\t\t\t\t@message-action-handler=\"messageActionHandler\"\n\t\t\t\t\t\t\t@send-message-reaction=\"sendMessageReaction($event)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</message-actions>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<message-reactions\n\t\t\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t:emojis-list=\"emojisList\"\n\t\t\t\t\t\t@send-message-reaction=\"sendMessageReaction($event)\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</slot>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../../components/SvgIcon/SvgIcon'\nimport FormatMessage from '../../components/FormatMessage/FormatMessage'\n\nimport MessageReply from './MessageReply/MessageReply'\nimport MessageImage from './MessageImage/MessageImage'\nimport MessageActions from './MessageActions/MessageActions'\nimport MessageReactions from './MessageReactions/MessageReactions'\nimport AudioPlayer from './AudioPlayer/AudioPlayer'\n\nconst { messagesValidation } = require('../../utils/data-validation')\nconst {\n\tisImageFile,\n\tisVideoFile,\n\tisAudioFile\n} = require('../../utils/media-file')\n\nexport default {\n\tname: 'Message',\n\tcomponents: {\n\t\tSvgIcon,\n\t\tFormatMessage,\n\t\tAudioPlayer,\n\t\tMessageReply,\n\t\tMessageImage,\n\t\tMessageActions,\n\t\tMessageReactions\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tindex: { type: Number, required: true },\n\t\tmessage: { type: Object, required: true },\n\t\tmessages: { type: Array, required: true },\n\t\teditedMessage: { type: Object, required: true },\n\t\troomUsers: { type: Array, default: () => [] },\n\t\tmessageActions: { type: Array, required: true },\n\t\troomFooterRef: { type: HTMLDivElement, default: null },\n\t\tnewMessages: { type: Array, default: () => [] },\n\t\tshowReactionEmojis: { type: Boolean, required: true },\n\t\tshowNewMessagesDivider: { type: Boolean, required: true },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\temojisList: { type: Object, required: true },\n\t\thideOptions: { type: Boolean, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\thoverMessageId: null,\n\t\t\timageHover: false,\n\t\t\tmessageHover: false,\n\t\t\toptionsOpened: false,\n\t\t\temojiOpened: false,\n\t\t\tnewMessage: {},\n\t\t\tprogressTime: '- : -',\n\t\t\thoverAudioProgress: false\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowDate() {\n\t\t\treturn (\n\t\t\t\tthis.index > 0 &&\n\t\t\t\tthis.message.date !== this.messages[this.index - 1].date\n\t\t\t)\n\t\t},\n\t\tmessageOffset() {\n\t\t\treturn (\n\t\t\t\tthis.index > 0 &&\n\t\t\t\tthis.message.senderId !== this.messages[this.index - 1].senderId\n\t\t\t)\n\t\t},\n\t\tisMessageHover() {\n\t\t\treturn (\n\t\t\t\tthis.editedMessage._id === this.message._id ||\n\t\t\t\tthis.hoverMessageId === this.message._id\n\t\t\t)\n\t\t},\n\t\tisImage() {\n\t\t\treturn isImageFile(this.message.file)\n\t\t},\n\t\tisVideo() {\n\t\t\treturn isVideoFile(this.message.file)\n\t\t},\n\t\tisAudio() {\n\t\t\treturn isAudioFile(this.message.file)\n\t\t},\n\t\tisCheckmarkVisible() {\n\t\t\treturn (\n\t\t\t\tthis.message.senderId === this.currentUserId &&\n\t\t\t\t!this.message.deleted &&\n\t\t\t\t(this.message.saved || this.message.distributed || this.message.seen)\n\t\t\t)\n\t\t}\n\t},\n\n\twatch: {\n\t\tnewMessages: {\n\t\t\timmediate: true,\n\t\t\thandler(val) {\n\t\t\t\tif (!val.length || !this.showNewMessagesDivider) {\n\t\t\t\t\treturn (this.newMessage = {})\n\t\t\t\t}\n\n\t\t\t\tthis.newMessage = val.reduce((res, obj) =>\n\t\t\t\t\tobj.index < res.index ? obj : res\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t},\n\n\tmounted() {\n\t\tmessagesValidation(this.message)\n\n\t\tthis.$emit('message-added', {\n\t\t\tmessage: this.message,\n\t\t\tindex: this.index,\n\t\t\tref: this.$refs[this.message._id]\n\t\t})\n\t},\n\n\tmethods: {\n\t\tonHoverMessage() {\n\t\t\tthis.imageHover = true\n\t\t\tthis.messageHover = true\n\t\t\tif (this.canEditMessage()) this.hoverMessageId = this.message._id\n\t\t},\n\t\tcanEditMessage() {\n\t\t\treturn !this.message.deleted\n\t\t},\n\t\tonLeaveMessage() {\n\t\t\tthis.imageHover = false\n\t\t\tif (!this.optionsOpened && !this.emojiOpened) this.messageHover = false\n\t\t\tthis.hoverMessageId = null\n\t\t},\n\t\topenFile(action) {\n\t\t\tthis.$emit('open-file', { message: this.message, action })\n\t\t},\n\t\topenUserTag(user) {\n\t\t\tthis.$emit('open-user-tag', { user })\n\t\t},\n\t\tmessageActionHandler(action) {\n\t\t\tthis.messageHover = false\n\t\t\tthis.hoverMessageId = null\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$emit('message-action-handler', { action, message: this.message })\n\t\t\t}, 300)\n\t\t},\n\t\tsendMessageReaction({ emoji, reaction }) {\n\t\t\tthis.$emit('send-message-reaction', {\n\t\t\t\tmessageId: this.message._id,\n\t\t\t\treaction: emoji,\n\t\t\t\tremove: reaction && reaction.indexOf(this.currentUserId) !== -1\n\t\t\t})\n\t\t\tthis.messageHover = false\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=89fd5fe6&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Credits to https://github.com/grishkovelli/vue-audio-recorder\n\nimport Mp3Encoder from './mp3-encoder'\n\nexport default class {\n\tconstructor(options = {}) {\n\t\tthis.beforeRecording = options.beforeRecording\n\t\tthis.pauseRecording = options.pauseRecording\n\t\tthis.afterRecording = options.afterRecording\n\t\tthis.micFailed = options.micFailed\n\n\t\tthis.encoderOptions = {\n\t\t\tbitRate: 128,\n\t\t\tsampleRate: 44100\n\t\t}\n\n\t\tthis.bufferSize = 4096\n\t\tthis.records = []\n\n\t\tthis.isPause = false\n\t\tthis.isRecording = false\n\n\t\tthis.duration = 0\n\t\tthis.volume = 0\n\n\t\tthis._duration = 0\n\t}\n\n\tstart() {\n\t\tconst constraints = {\n\t\t\tvideo: false,\n\t\t\taudio: {\n\t\t\t\tchannelCount: 1,\n\t\t\t\techoCancellation: false\n\t\t\t}\n\t\t}\n\n\t\tthis.beforeRecording && this.beforeRecording('start recording')\n\n\t\tnavigator.mediaDevices\n\t\t\t.getUserMedia(constraints)\n\t\t\t.then(this._micCaptured.bind(this))\n\t\t\t.catch(this._micError.bind(this))\n\n\t\tthis.isPause = false\n\t\tthis.isRecording = true\n\n\t\tif (!this.lameEncoder) {\n\t\t\tthis.lameEncoder = new Mp3Encoder(this.encoderOptions)\n\t\t}\n\t}\n\n\tstop() {\n\t\tthis.stream.getTracks().forEach(track => track.stop())\n\t\tthis.input.disconnect()\n\t\tthis.processor.disconnect()\n\t\tthis.context.close()\n\n\t\tlet record = null\n\n\t\trecord = this.lameEncoder.finish()\n\n\t\trecord.duration = this.duration\n\t\tthis.records.push(record)\n\n\t\tthis._duration = 0\n\t\tthis.duration = 0\n\n\t\tthis.isPause = false\n\t\tthis.isRecording = false\n\n\t\tthis.afterRecording && this.afterRecording(record)\n\t}\n\n\tpause() {\n\t\tthis.stream.getTracks().forEach(track => track.stop())\n\t\tthis.input.disconnect()\n\t\tthis.processor.disconnect()\n\n\t\tthis._duration = this.duration\n\t\tthis.isPause = true\n\n\t\tthis.pauseRecording && this.pauseRecording('pause recording')\n\t}\n\n\t_micCaptured(stream) {\n\t\tthis.context = new (window.AudioContext || window.webkitAudioContext)()\n\t\tthis.duration = this._duration\n\t\tthis.input = this.context.createMediaStreamSource(stream)\n\t\tthis.processor = this.context.createScriptProcessor(this.bufferSize, 1, 1)\n\t\tthis.stream = stream\n\n\t\tthis.processor.onaudioprocess = ev => {\n\t\t\tconst sample = ev.inputBuffer.getChannelData(0)\n\t\t\tlet sum = 0.0\n\n\t\t\tif (this.lameEncoder) {\n\t\t\t\tthis.lameEncoder.encode(sample)\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < sample.length; ++i) {\n\t\t\t\tsum += sample[i] * sample[i]\n\t\t\t}\n\n\t\t\tthis.duration =\n\t\t\t\tparseFloat(this._duration) +\n\t\t\t\tparseFloat(this.context.currentTime.toFixed(2))\n\t\t\tthis.volume = Math.sqrt(sum / sample.length).toFixed(2)\n\t\t}\n\n\t\tthis.input.connect(this.processor)\n\t\tthis.processor.connect(this.context.destination)\n\t}\n\n\t_micError(error) {\n\t\tthis.micFailed && this.micFailed(error)\n\t}\n}\n","<template>\n\t<div\n\t\tv-show=\"(isMobile && !showRoomsList) || !isMobile || singleRoom\"\n\t\tclass=\"vac-col-messages\"\n\t>\n\t\t<slot v-if=\"showNoRoom\" name=\"no-room-selected\">\n\t\t\t<div class=\"vac-container-center vac-room-empty\">\n\t\t\t\t<div>{{ textMessages.ROOM_EMPTY }}</div>\n\t\t\t</div>\n\t\t</slot>\n\n\t\t<room-header\n\t\t\tv-else\n\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t:text-messages=\"textMessages\"\n\t\t\t:single-room=\"singleRoom\"\n\t\t\t:show-rooms-list=\"showRoomsList\"\n\t\t\t:is-mobile=\"isMobile\"\n\t\t\t:room-info=\"roomInfo\"\n\t\t\t:menu-actions=\"menuActions\"\n\t\t\t:room=\"room\"\n\t\t\t@toggle-rooms-list=\"$emit('toggle-rooms-list')\"\n\t\t\t@room-info=\"$emit('room-info')\"\n\t\t\t@menu-action-handler=\"$emit('menu-action-handler', $event)\"\n\t\t>\n\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</room-header>\n\n\t\t<div\n\t\t\tref=\"scrollContainer\"\n\t\t\tclass=\"vac-container-scroll\"\n\t\t\t@scroll=\"onContainerScroll\"\n\t\t>\n\t\t\t<loader :show=\"loadingMessages\" />\n\t\t\t<div class=\"vac-messages-container\">\n\t\t\t\t<div :class=\"{ 'vac-messages-hidden': loadingMessages }\">\n\t\t\t\t\t<transition name=\"vac-fade-message\">\n\t\t\t\t\t\t<div v-if=\"showNoMessages\" class=\"vac-text-started\">\n\t\t\t\t\t\t\t<slot name=\"messages-empty\">\n\t\t\t\t\t\t\t\t{{ textMessages.MESSAGES_EMPTY }}\n\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-if=\"showMessagesStarted\" class=\"vac-text-started\">\n\t\t\t\t\t\t\t{{ textMessages.CONVERSATION_STARTED }} {{ messages[0].date }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t\t<transition name=\"vac-fade-message\">\n\t\t\t\t\t\t<infinite-loading\n\t\t\t\t\t\t\tv-if=\"messages.length\"\n\t\t\t\t\t\t\t:class=\"{ 'vac-infinite-loading': !messagesLoaded }\"\n\t\t\t\t\t\t\tforce-use-infinite-wrapper=\".vac-container-scroll\"\n\t\t\t\t\t\t\tweb-component-name=\"vue-advanced-chat\"\n\t\t\t\t\t\t\tspinner=\"spiral\"\n\t\t\t\t\t\t\tdirection=\"top\"\n\t\t\t\t\t\t\t:distance=\"40\"\n\t\t\t\t\t\t\t@infinite=\"loadMoreMessages\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div slot=\"spinner\">\n\t\t\t\t\t\t\t\t<loader :show=\"true\" :infinite=\"true\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div slot=\"no-results\" />\n\t\t\t\t\t\t\t<div slot=\"no-more\" />\n\t\t\t\t\t\t</infinite-loading>\n\t\t\t\t\t</transition>\n\t\t\t\t\t<transition-group :key=\"roomId\" name=\"vac-fade-message\">\n\t\t\t\t\t\t<div v-for=\"(m, i) in messages\" :key=\"m._id\">\n\t\t\t\t\t\t\t<message\n\t\t\t\t\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t\t\t\t\t:message=\"m\"\n\t\t\t\t\t\t\t\t:index=\"i\"\n\t\t\t\t\t\t\t\t:messages=\"messages\"\n\t\t\t\t\t\t\t\t:edited-message=\"editedMessage\"\n\t\t\t\t\t\t\t\t:message-actions=\"messageActions\"\n\t\t\t\t\t\t\t\t:room-users=\"room.users\"\n\t\t\t\t\t\t\t\t:text-messages=\"textMessages\"\n\t\t\t\t\t\t\t\t:room-footer-ref=\"$refs.roomFooter\"\n\t\t\t\t\t\t\t\t:new-messages=\"newMessages\"\n\t\t\t\t\t\t\t\t:show-reaction-emojis=\"showReactionEmojis\"\n\t\t\t\t\t\t\t\t:show-new-messages-divider=\"showNewMessagesDivider\"\n\t\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t\t\t:emojis-list=\"emojisList\"\n\t\t\t\t\t\t\t\t:hide-options=\"hideOptions\"\n\t\t\t\t\t\t\t\t@message-added=\"onMessageAdded\"\n\t\t\t\t\t\t\t\t@message-action-handler=\"messageActionHandler\"\n\t\t\t\t\t\t\t\t@open-file=\"openFile\"\n\t\t\t\t\t\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t\t\t\t\t\t@send-message-reaction=\"sendMessageReaction\"\n\t\t\t\t\t\t\t\t@hide-options=\"hideOptions = $event\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template v-for=\"(idx, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</message>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition-group>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"!loadingMessages\">\n\t\t\t<transition name=\"vac-bounce\">\n\t\t\t\t<div v-if=\"scrollIcon\" class=\"vac-icon-scroll\" @click=\"scrollToBottom\">\n\t\t\t\t\t<transition name=\"vac-bounce\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"scrollMessagesCount\"\n\t\t\t\t\t\t\tclass=\"vac-badge-counter vac-messages-count\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ scrollMessagesCount }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t\t<slot name=\"scroll-icon\">\n\t\t\t\t\t\t<svg-icon name=\"dropdown\" param=\"scroll\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\t\t<div\n\t\t\tv-show=\"Object.keys(room).length && showFooter\"\n\t\t\tref=\"roomFooter\"\n\t\t\tclass=\"vac-room-footer\"\n\t\t>\n\t\t\t<room-message-reply\n\t\t\t\t:room=\"room\"\n\t\t\t\t:message-reply=\"messageReply\"\n\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t@reset-message=\"resetMessage\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</room-message-reply>\n\n\t\t\t<room-emojis\n\t\t\t\t:filtered-emojis=\"filteredEmojis\"\n\t\t\t\t@select-emoji=\"selectEmoji($event)\"\n\t\t\t/>\n\n\t\t\t<room-users-tag\n\t\t\t\t:filtered-users-tag=\"filteredUsersTag\"\n\t\t\t\t@select-user-tag=\"selectUserTag($event)\"\n\t\t\t/>\n\n\t\t\t<div\n\t\t\t\tclass=\"vac-box-footer\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'vac-app-box-shadow': filteredEmojis.length || filteredUsersTag.length\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"showAudio && !imageFile && !videoFile\"\n\t\t\t\t\tclass=\"vac-icon-textarea-left\"\n\t\t\t\t>\n\t\t\t\t\t<template v-if=\"isRecording\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"vac-svg-button vac-icon-audio-stop\"\n\t\t\t\t\t\t\t@click=\"stopRecorder\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<slot name=\"audio-stop-icon\">\n\t\t\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"vac-dot-audio-record\" />\n\n\t\t\t\t\t\t<div class=\"vac-dot-audio-record-time\">\n\t\t\t\t\t\t\t{{ recordedTime }}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"vac-svg-button vac-icon-audio-confirm\"\n\t\t\t\t\t\t\t@click=\"toggleRecorder(false)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<slot name=\"audio-stop-icon\">\n\t\t\t\t\t\t\t\t<svg-icon name=\"checkmark\" />\n\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<div v-else class=\"vac-svg-button\" @click=\"toggleRecorder(true)\">\n\t\t\t\t\t\t<slot name=\"microphone-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"microphone\" class=\"vac-icon-microphone\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"imageFile\" class=\"vac-media-container\">\n\t\t\t\t\t<div class=\"vac-svg-button vac-icon-media\" @click=\"resetMediaFile\">\n\t\t\t\t\t\t<slot name=\"image-close-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"close\" param=\"image\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"vac-media-file\">\n\t\t\t\t\t\t<img ref=\"mediaFile\" :src=\"imageFile\" @load=\"onMediaLoad\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-else-if=\"videoFile\" class=\"vac-media-container\">\n\t\t\t\t\t<div class=\"vac-svg-button vac-icon-media\" @click=\"resetMediaFile\">\n\t\t\t\t\t\t<slot name=\"image-close-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"close\" param=\"image\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ref=\"mediaFile\" class=\"vac-media-file\">\n\t\t\t\t\t\t<video width=\"100%\" height=\"100%\" controls>\n\t\t\t\t\t\t\t<source :src=\"videoFile\" />\n\t\t\t\t\t\t</video>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tv-else-if=\"file\"\n\t\t\t\t\tclass=\"vac-file-container\"\n\t\t\t\t\t:class=\"{ 'vac-file-container-edit': editedMessage._id }\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"vac-icon-file\">\n\t\t\t\t\t\t<slot name=\"file-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"file\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"vac-file-message\">\n\t\t\t\t\t\t{{ file.audio ? file.name : message }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"vac-svg-button vac-icon-remove\"\n\t\t\t\t\t\t@click=\"resetMessage(null, true)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"file-close-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"close\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<textarea\n\t\t\t\t\tv-show=\"!file || imageFile || videoFile\"\n\t\t\t\t\tref=\"roomTextarea\"\n\t\t\t\t\t:placeholder=\"textMessages.TYPE_MESSAGE\"\n\t\t\t\t\tclass=\"vac-textarea\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'vac-textarea-outline': editedMessage._id\n\t\t\t\t\t}\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t'min-height': `${mediaDimensions ? mediaDimensions.height : 20}px`,\n\t\t\t\t\t\t'padding-left': `${\n\t\t\t\t\t\t\tmediaDimensions ? mediaDimensions.width - 10 : 12\n\t\t\t\t\t\t}px`\n\t\t\t\t\t}\"\n\t\t\t\t\t@input=\"onChangeInput\"\n\t\t\t\t\t@keydown.esc=\"escapeTextarea\"\n\t\t\t\t\t@keydown.enter.exact.prevent=\"\"\n\t\t\t\t/>\n\n\t\t\t\t<div class=\"vac-icon-textarea\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"editedMessage._id\"\n\t\t\t\t\t\tclass=\"vac-svg-button\"\n\t\t\t\t\t\t@click=\"resetMessage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"edit-close-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<emoji-picker\n\t\t\t\t\t\tv-if=\"showEmojis && (!file || imageFile || videoFile)\"\n\t\t\t\t\t\t:emoji-opened=\"emojiOpened\"\n\t\t\t\t\t\t:position-top=\"true\"\n\t\t\t\t\t\t@add-emoji=\"addEmoji\"\n\t\t\t\t\t\t@open-emoji=\"emojiOpened = $event\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</emoji-picker>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"showFiles\"\n\t\t\t\t\t\tclass=\"vac-svg-button\"\n\t\t\t\t\t\t@click=\"launchFilePicker\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"paperclip-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"paperclip\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"textareaAction\"\n\t\t\t\t\t\tclass=\"vac-svg-button\"\n\t\t\t\t\t\t@click=\"textareaActionHandler\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"custom-action-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"deleted\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tv-if=\"showFiles\"\n\t\t\t\t\t\tref=\"file\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t:accept=\"acceptedFiles\"\n\t\t\t\t\t\tstyle=\"display:none\"\n\t\t\t\t\t\t@change=\"onFileChange($event.target.files)\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"showSendIcon\"\n\t\t\t\t\t\tclass=\"vac-svg-button\"\n\t\t\t\t\t\t:class=\"{ 'vac-send-disabled': isMessageEmpty }\"\n\t\t\t\t\t\t@click=\"sendMessage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"send-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"send\" :param=\"isMessageEmpty ? 'disabled' : ''\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport InfiniteLoading from 'vue-infinite-loading'\nimport vClickOutside from 'v-click-outside'\nimport emojis from 'vue-emoji-picker/src/emojis'\n\nimport Loader from '../../components/Loader/Loader'\nimport SvgIcon from '../../components/SvgIcon/SvgIcon'\nimport EmojiPicker from '../../components/EmojiPicker/EmojiPicker'\n\nimport RoomHeader from './RoomHeader/RoomHeader'\nimport RoomMessageReply from './RoomMessageReply/RoomMessageReply'\nimport RoomUsersTag from './RoomUsersTag/RoomUsersTag'\nimport RoomEmojis from './RoomEmojis/RoomEmojis'\nimport Message from '../Message/Message'\n\nimport filteredUsers from '../../utils/filter-items'\nimport Recorder from '../../utils/recorder'\n\nconst { detectMobile, iOSDevice } = require('../../utils/mobile-detection')\nconst { isImageFile, isVideoFile } = require('../../utils/media-file')\n\nconst debounce = (func, delay) => {\n\tlet inDebounce\n\treturn function() {\n\t\tconst context = this\n\t\tconst args = arguments\n\t\tclearTimeout(inDebounce)\n\t\tinDebounce = setTimeout(() => func.apply(context, args), delay)\n\t}\n}\n\nexport default {\n\tname: 'Room',\n\tcomponents: {\n\t\tInfiniteLoading,\n\t\tLoader,\n\t\tSvgIcon,\n\t\tEmojiPicker,\n\t\tRoomHeader,\n\t\tRoomMessageReply,\n\t\tRoomUsersTag,\n\t\tRoomEmojis,\n\t\tMessage\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tsingleRoom: { type: Boolean, required: true },\n\t\tshowRoomsList: { type: Boolean, required: true },\n\t\tisMobile: { type: Boolean, required: true },\n\t\trooms: { type: Array, required: true },\n\t\troomId: { type: [String, Number], required: true },\n\t\tloadFirstRoom: { type: Boolean, required: true },\n\t\tmessages: { type: Array, required: true },\n\t\troomMessage: { type: String, default: null },\n\t\tmessagesLoaded: { type: Boolean, required: true },\n\t\tmenuActions: { type: Array, required: true },\n\t\tmessageActions: { type: Array, required: true },\n\t\tshowSendIcon: { type: Boolean, required: true },\n\t\tshowFiles: { type: Boolean, required: true },\n\t\tshowAudio: { type: Boolean, required: true },\n\t\tshowEmojis: { type: Boolean, required: true },\n\t\tshowReactionEmojis: { type: Boolean, required: true },\n\t\tshowNewMessagesDivider: { type: Boolean, required: true },\n\t\tshowFooter: { type: Boolean, required: true },\n\t\tacceptedFiles: { type: String, required: true },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\tloadingRooms: { type: Boolean, required: true },\n\t\troomInfo: { type: Function, default: null },\n\t\ttextareaAction: { type: Function, default: null }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tmessage: '',\n\t\t\teditedMessage: {},\n\t\t\tmessageReply: null,\n\t\t\tinfiniteState: null,\n\t\t\tloadingMessages: false,\n\t\t\tloadingMoreMessages: false,\n\t\t\tfile: null,\n\t\t\timageFile: null,\n\t\t\tvideoFile: null,\n\t\t\tmediaDimensions: null,\n\t\t\tfileDialog: false,\n\t\t\temojiOpened: false,\n\t\t\thideOptions: true,\n\t\t\tscrollIcon: false,\n\t\t\tscrollMessagesCount: 0,\n\t\t\tnewMessages: [],\n\t\t\tkeepKeyboardOpen: false,\n\t\t\tfilteredEmojis: [],\n\t\t\tfilteredUsersTag: [],\n\t\t\tselectedUsersTag: [],\n\t\t\ttextareaCursorPosition: null,\n\t\t\tcursorRangePosition: null,\n\t\t\trecorder: this.initRecorder(),\n\t\t\tisRecording: false,\n\t\t\tformat: 'mp3'\n\t\t}\n\t},\n\n\tcomputed: {\n\t\temojisList() {\n\t\t\tconst emojisTable = Object.keys(emojis).map(key => emojis[key])\n\t\t\treturn Object.assign({}, ...emojisTable)\n\t\t},\n\t\troom() {\n\t\t\treturn this.rooms.find(room => room.roomId === this.roomId) || {}\n\t\t},\n\t\tshowNoMessages() {\n\t\t\treturn (\n\t\t\t\tthis.room.roomId &&\n\t\t\t\t!this.messages.length &&\n\t\t\t\t!this.loadingMessages &&\n\t\t\t\t!this.loadingRooms\n\t\t\t)\n\t\t},\n\t\tshowNoRoom() {\n\t\t\tconst noRoomSelected =\n\t\t\t\t(!this.rooms.length && !this.loadingRooms) ||\n\t\t\t\t(!this.room.roomId && !this.loadFirstRoom)\n\n\t\t\tif (noRoomSelected) {\n\t\t\t\tthis.loadingMessages = false /* eslint-disable-line vue/no-side-effects-in-computed-properties */\n\t\t\t}\n\t\t\treturn noRoomSelected\n\t\t},\n\t\tshowMessagesStarted() {\n\t\t\treturn this.messages.length && this.messagesLoaded\n\t\t},\n\t\tisMessageEmpty() {\n\t\t\treturn !this.file && !this.message.trim()\n\t\t},\n\t\trecordedTime() {\n\t\t\treturn new Date(this.recorder.duration * 1000).toISOString().substr(14, 5)\n\t\t}\n\t},\n\n\twatch: {\n\t\tmessage(val) {\n\t\t\tthis.$refs.roomTextarea.value = val\n\t\t},\n\t\tloadingMessages(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.infiniteState = null\n\t\t\t} else {\n\t\t\t\tif (this.infiniteState) this.infiniteState.loaded()\n\t\t\t\tthis.focusTextarea(true)\n\t\t\t}\n\t\t},\n\t\troom: {\n\t\t\timmediate: true,\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\tif (newVal.roomId && (!oldVal || newVal.roomId !== oldVal.roomId)) {\n\t\t\t\t\tthis.onRoomChanged()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\troomMessage: {\n\t\t\timmediate: true,\n\t\t\thandler(val) {\n\t\t\t\tif (val) this.message = this.roomMessage\n\t\t\t}\n\t\t},\n\t\tmessages(newVal, oldVal) {\n\t\t\tnewVal.forEach((message, i) => {\n\t\t\t\tif (\n\t\t\t\t\tthis.showNewMessagesDivider &&\n\t\t\t\t\t!message.seen &&\n\t\t\t\t\tmessage.senderId !== this.currentUserId\n\t\t\t\t) {\n\t\t\t\t\tthis.newMessages.push({\n\t\t\t\t\t\t_id: message._id,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (oldVal?.length === newVal?.length - 1) {\n\t\t\t\tthis.newMessages = []\n\t\t\t}\n\n\t\t\tif (this.infiniteState) {\n\t\t\t\tthis.infiniteState.loaded()\n\t\t\t}\n\n\t\t\tsetTimeout(() => (this.loadingMoreMessages = false))\n\t\t},\n\t\tmessagesLoaded(val) {\n\t\t\tif (val) this.loadingMessages = false\n\t\t\tif (this.infiniteState) this.infiniteState.complete()\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.newMessages = []\n\t\tconst isMobile = detectMobile()\n\n\t\tthis.$refs.roomTextarea.addEventListener(\n\t\t\t'keyup',\n\t\t\tdebounce(e => {\n\t\t\t\tif (e.key === 'Enter' && !e.shiftKey && !this.fileDialog) {\n\t\t\t\t\tif (isMobile) {\n\t\t\t\t\t\tthis.message = this.message + '\\n'\n\t\t\t\t\t\tsetTimeout(() => this.onChangeInput())\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.sendMessage()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.updateFooterList('@')\n\t\t\t\tthis.updateFooterList(':')\n\t\t\t}),\n\t\t\t50\n\t\t)\n\n\t\tthis.$refs['roomTextarea'].addEventListener('click', () => {\n\t\t\tif (isMobile) this.keepKeyboardOpen = true\n\n\t\t\tthis.updateFooterList('@')\n\t\t\tthis.updateFooterList(':')\n\t\t})\n\n\t\tthis.$refs['roomTextarea'].addEventListener('blur', () => {\n\t\t\tthis.resetFooterList()\n\t\t\tif (isMobile) setTimeout(() => (this.keepKeyboardOpen = false))\n\t\t})\n\t},\n\n\tbeforeDestroy() {\n\t\tthis.stopRecorder()\n\t},\n\n\tmethods: {\n\t\tonRoomChanged() {\n\t\t\tthis.loadingMessages = true\n\t\t\tthis.scrollIcon = false\n\t\t\tthis.scrollMessagesCount = 0\n\t\t\tthis.resetMessage(true, null, true)\n\n\t\t\tif (this.roomMessage) {\n\t\t\t\tthis.message = this.roomMessage\n\t\t\t\tsetTimeout(() => this.onChangeInput())\n\t\t\t}\n\n\t\t\tif (!this.messages.length && this.messagesLoaded) {\n\t\t\t\tthis.loadingMessages = false\n\t\t\t}\n\n\t\t\tconst unwatch = this.$watch(\n\t\t\t\t() => this.messages,\n\t\t\t\tval => {\n\t\t\t\t\tif (!val || !val.length) return\n\n\t\t\t\t\tconst element = this.$refs.scrollContainer\n\t\t\t\t\tif (!element) return\n\n\t\t\t\t\tunwatch()\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\telement.scrollTo({ top: element.scrollHeight })\n\t\t\t\t\t\tthis.loadingMessages = false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t)\n\t\t},\n\t\tonMessageAdded({ message, index, ref }) {\n\t\t\tif (index !== this.messages.length - 1) return\n\n\t\t\tconst autoScrollOffset = ref.offsetHeight + 60\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (\n\t\t\t\t\tthis.getBottomScroll(this.$refs.scrollContainer) < autoScrollOffset\n\t\t\t\t) {\n\t\t\t\t\tthis.scrollToBottom()\n\t\t\t\t} else {\n\t\t\t\t\tif (message.senderId === this.currentUserId) {\n\t\t\t\t\t\tthis.scrollToBottom()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.scrollIcon = true\n\t\t\t\t\t\tthis.scrollMessagesCount++\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tonContainerScroll(e) {\n\t\t\tthis.hideOptions = true\n\n\t\t\tif (!e.target) return\n\n\t\t\tconst bottomScroll = this.getBottomScroll(e.target)\n\t\t\tif (bottomScroll < 60) this.scrollMessagesCount = 0\n\t\t\tthis.scrollIcon = bottomScroll > 500 || this.scrollMessagesCount\n\t\t},\n\t\tupdateFooterList(tagChar) {\n\t\t\tif (!this.$refs['roomTextarea']) return\n\n\t\t\tif (\n\t\t\t\ttagChar === '@' &&\n\t\t\t\t(!this.room.users || this.room.users.length <= 2)\n\t\t\t) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tthis.textareaCursorPosition ===\n\t\t\t\tthis.$refs['roomTextarea'].selectionStart\n\t\t\t) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.textareaCursorPosition = this.$refs['roomTextarea'].selectionStart\n\n\t\t\tlet position = this.textareaCursorPosition\n\n\t\t\twhile (\n\t\t\t\tposition > 0 &&\n\t\t\t\tthis.message.charAt(position - 1) !== tagChar &&\n\t\t\t\tthis.message.charAt(position - 1) !== ' '\n\t\t\t) {\n\t\t\t\tposition--\n\t\t\t}\n\n\t\t\tconst beforeTag = this.message.charAt(position - 2)\n\t\t\tconst notLetterNumber = !beforeTag.match(/^[0-9a-zA-Z]+$/)\n\n\t\t\tif (\n\t\t\t\tthis.message.charAt(position - 1) === tagChar &&\n\t\t\t\t(!beforeTag || beforeTag === ' ' || notLetterNumber)\n\t\t\t) {\n\t\t\t\tconst query = this.message.substring(\n\t\t\t\t\tposition,\n\t\t\t\t\tthis.textareaCursorPosition\n\t\t\t\t)\n\t\t\t\tif (tagChar === ':') {\n\t\t\t\t\tthis.updateEmojis(query)\n\t\t\t\t} else if (tagChar === '@') {\n\t\t\t\t\tthis.updateShowUsersTag(query)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.resetFooterList()\n\t\t\t}\n\t\t},\n\t\tgetCharPosition(tagChar) {\n\t\t\tconst cursorPosition = this.$refs['roomTextarea'].selectionStart\n\n\t\t\tlet position = cursorPosition\n\t\t\twhile (position > 0 && this.message.charAt(position - 1) !== tagChar) {\n\t\t\t\tposition--\n\t\t\t}\n\n\t\t\tlet endPosition = position\n\t\t\twhile (\n\t\t\t\tthis.message.charAt(endPosition) &&\n\t\t\t\tthis.message.charAt(endPosition).trim()\n\t\t\t) {\n\t\t\t\tendPosition++\n\t\t\t}\n\n\t\t\treturn { position, endPosition }\n\t\t},\n\t\tupdateEmojis(query) {\n\t\t\tif (!query) return\n\n\t\t\tconst emojisListKeys = Object.keys(this.emojisList)\n\t\t\tconst matchingKeys = emojisListKeys.filter(key => key.startsWith(query))\n\n\t\t\tthis.filteredEmojis = matchingKeys.map(key => this.emojisList[key])\n\t\t},\n\t\tselectEmoji(emoji) {\n\t\t\tconst { position, endPosition } = this.getCharPosition(':')\n\n\t\t\tthis.message =\n\t\t\t\tthis.message.substr(0, position - 1) +\n\t\t\t\temoji +\n\t\t\t\tthis.message.substr(endPosition, this.message.length - 1)\n\n\t\t\tthis.cursorRangePosition = position\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tupdateShowUsersTag(query) {\n\t\t\tthis.filteredUsersTag = filteredUsers(\n\t\t\t\tthis.room.users,\n\t\t\t\t'username',\n\t\t\t\tquery,\n\t\t\t\ttrue\n\t\t\t).filter(user => user._id !== this.currentUserId)\n\t\t},\n\t\tselectUserTag(user) {\n\t\t\tconst { position, endPosition } = this.getCharPosition('@')\n\n\t\t\tconst space = this.message.substr(endPosition, endPosition).length\n\t\t\t\t? ''\n\t\t\t\t: ' '\n\n\t\t\tthis.message =\n\t\t\t\tthis.message.substr(0, position) +\n\t\t\t\tuser.username +\n\t\t\t\tspace +\n\t\t\t\tthis.message.substr(endPosition, this.message.length - 1)\n\n\t\t\tthis.selectedUsersTag = [...this.selectedUsersTag, { ...user }]\n\n\t\t\tthis.cursorRangePosition =\n\t\t\t\tposition + user.username.length + space.length + 1\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tresetFooterList() {\n\t\t\tthis.filteredEmojis = []\n\t\t\tthis.filteredUsersTag = []\n\t\t\tthis.textareaCursorPosition = null\n\t\t},\n\t\tonMediaLoad() {\n\t\t\tlet height = this.$refs.mediaFile.clientHeight\n\t\t\tif (height < 30) height = 30\n\n\t\t\tthis.mediaDimensions = {\n\t\t\t\theight: this.$refs.mediaFile.clientHeight - 10,\n\t\t\t\twidth: this.$refs.mediaFile.clientWidth + 26\n\t\t\t}\n\t\t},\n\t\tescapeTextarea() {\n\t\t\tif (this.filteredEmojis.length) this.filteredEmojis = []\n\t\t\telse if (this.filteredUsersTag.length) this.filteredUsersTag = []\n\t\t\telse this.resetMessage()\n\t\t},\n\t\tresetMessage(\n\t\t\tdisableMobileFocus = false,\n\t\t\teditFile = false,\n\t\t\tinitRoom = false\n\t\t) {\n\t\t\tif (!initRoom) {\n\t\t\t\tthis.$emit('typing-message', null)\n\t\t\t}\n\n\t\t\tif (editFile) {\n\t\t\t\tthis.file = null\n\t\t\t\tthis.message = ''\n\t\t\t\tthis.preventKeyboardFromClosing()\n\t\t\t\tsetTimeout(() => this.focusTextarea(disableMobileFocus))\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.selectedUsersTag = []\n\t\t\tthis.resetFooterList()\n\t\t\tthis.resetTextareaSize()\n\t\t\tthis.message = ''\n\t\t\tthis.editedMessage = {}\n\t\t\tthis.messageReply = null\n\t\t\tthis.file = null\n\t\t\tthis.mediaDimensions = null\n\t\t\tthis.imageFile = null\n\t\t\tthis.videoFile = null\n\t\t\tthis.emojiOpened = false\n\t\t\tthis.preventKeyboardFromClosing()\n\t\t\tsetTimeout(() => this.focusTextarea(disableMobileFocus))\n\t\t},\n\t\tresetMediaFile() {\n\t\t\tthis.mediaDimensions = null\n\t\t\tthis.imageFile = null\n\t\t\tthis.videoFile = null\n\t\t\tthis.editedMessage.file = null\n\t\t\tthis.file = null\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tresetTextareaSize() {\n\t\t\tif (!this.$refs['roomTextarea']) return\n\t\t\tthis.$refs['roomTextarea'].style.height = '20px'\n\t\t},\n\t\tfocusTextarea(disableMobileFocus) {\n\t\t\tif (detectMobile() && disableMobileFocus) return\n\t\t\tif (!this.$refs['roomTextarea']) return\n\t\t\tthis.$refs['roomTextarea'].focus()\n\n\t\t\tif (this.cursorRangePosition) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.$refs['roomTextarea'].setSelectionRange(\n\t\t\t\t\t\tthis.cursorRangePosition,\n\t\t\t\t\t\tthis.cursorRangePosition\n\t\t\t\t\t)\n\t\t\t\t\tthis.cursorRangePosition = null\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tpreventKeyboardFromClosing() {\n\t\t\tif (this.keepKeyboardOpen) this.$refs['roomTextarea'].focus()\n\t\t},\n\t\tsendMessage() {\n\t\t\tlet message = this.message.trim()\n\n\t\t\tif (!this.file && !message) return\n\n\t\t\tthis.selectedUsersTag.forEach(user => {\n\t\t\t\tmessage = message.replace(\n\t\t\t\t\t`@${user.username}`,\n\t\t\t\t\t`<usertag>${user._id}</usertag>`\n\t\t\t\t)\n\t\t\t})\n\n\t\t\tif (this.editedMessage._id) {\n\t\t\t\tif (this.editedMessage.content !== message || this.file) {\n\t\t\t\t\tthis.$emit('edit-message', {\n\t\t\t\t\t\tmessageId: this.editedMessage._id,\n\t\t\t\t\t\tnewContent: message,\n\t\t\t\t\t\tfile: this.file,\n\t\t\t\t\t\treplyMessage: this.messageReply,\n\t\t\t\t\t\tusersTag: this.selectedUsersTag\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$emit('send-message', {\n\t\t\t\t\tcontent: message,\n\t\t\t\t\tfile: this.file,\n\t\t\t\t\treplyMessage: this.messageReply,\n\t\t\t\t\tusersTag: this.selectedUsersTag\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.resetMessage(true)\n\t\t},\n\t\tloadMoreMessages(infiniteState) {\n\t\t\tif (this.loadingMessages) {\n\t\t\t\tthis.infiniteState = infiniteState\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tsetTimeout(\n\t\t\t\t() => {\n\t\t\t\t\tif (this.loadingMoreMessages) return\n\n\t\t\t\t\tif (this.messagesLoaded || !this.room.roomId) {\n\t\t\t\t\t\treturn infiniteState.complete()\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.infiniteState = infiniteState\n\t\t\t\t\tthis.$emit('fetch-messages')\n\t\t\t\t\tthis.loadingMoreMessages = true\n\t\t\t\t},\n\t\t\t\t// prevent scroll bouncing issue on iOS devices\n\t\t\t\tiOSDevice() ? 500 : 0\n\t\t\t)\n\t\t},\n\t\tmessageActionHandler({ action, message }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'replyMessage':\n\t\t\t\t\treturn this.replyMessage(message)\n\t\t\t\tcase 'editMessage':\n\t\t\t\t\treturn this.editMessage(message)\n\t\t\t\tcase 'deleteMessage':\n\t\t\t\t\treturn this.$emit('delete-message', message)\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.$emit('message-action-handler', { action, message })\n\t\t\t}\n\t\t},\n\t\tsendMessageReaction(messageReaction) {\n\t\t\tthis.$emit('send-message-reaction', messageReaction)\n\t\t},\n\t\treplyMessage(message) {\n\t\t\tthis.messageReply = message\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\teditMessage(message) {\n\t\t\tthis.resetMessage()\n\t\t\tthis.editedMessage = { ...message }\n\t\t\tthis.file = message.file\n\n\t\t\tif (isImageFile(this.file)) {\n\t\t\t\tthis.imageFile = message.file.url\n\t\t\t\tsetTimeout(() => this.onMediaLoad())\n\t\t\t} else if (isVideoFile(this.file)) {\n\t\t\t\tthis.videoFile = message.file.url\n\t\t\t\tsetTimeout(() => this.onMediaLoad(), 50)\n\t\t\t}\n\n\t\t\tthis.message = message.content\n\t\t},\n\t\tgetBottomScroll(element) {\n\t\t\tconst { scrollHeight, clientHeight, scrollTop } = element\n\t\t\treturn scrollHeight - clientHeight - scrollTop\n\t\t},\n\t\tscrollToBottom() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst element = this.$refs.scrollContainer\n\t\t\t\telement.classList.add('vac-scroll-smooth')\n\t\t\t\telement.scrollTo({ top: element.scrollHeight, behavior: 'smooth' })\n\t\t\t\tsetTimeout(() => element.classList.remove('vac-scroll-smooth'))\n\t\t\t}, 50)\n\t\t},\n\t\tonChangeInput: debounce(function(e) {\n\t\t\tthis.message = e.target.value\n\t\t\tthis.keepKeyboardOpen = true\n\t\t\tthis.resizeTextarea()\n\t\t\tthis.$emit('typing-message', this.message)\n\t\t}, 100),\n\t\tresizeTextarea() {\n\t\t\tconst el = this.$refs['roomTextarea']\n\n\t\t\tif (!el) return\n\n\t\t\tconst padding = window\n\t\t\t\t.getComputedStyle(el, null)\n\t\t\t\t.getPropertyValue('padding-top')\n\t\t\t\t.replace('px', '')\n\n\t\t\tel.style.height = 0\n\t\t\tel.style.height = el.scrollHeight - padding * 2 + 'px'\n\t\t},\n\t\taddEmoji(emoji) {\n\t\t\tthis.message += emoji.icon\n\t\t\tthis.focusTextarea(true)\n\t\t},\n\t\tlaunchFilePicker() {\n\t\t\tthis.$refs.file.value = ''\n\t\t\tthis.$refs.file.click()\n\t\t},\n\t\tasync onFileChange(files) {\n\t\t\tthis.fileDialog = true\n\t\t\tthis.resetMediaFile()\n\n\t\t\tconst file = files[0]\n\t\t\tconst fileURL = URL.createObjectURL(file)\n\t\t\tconst blobFile = await fetch(fileURL).then(res => res.blob())\n\t\t\tconst typeIndex = file.name.lastIndexOf('.')\n\n\t\t\tthis.file = {\n\t\t\t\tblob: blobFile,\n\t\t\t\tname: file.name.substring(0, typeIndex),\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.type,\n\t\t\t\textension: file.name.substring(typeIndex + 1),\n\t\t\t\tlocalUrl: fileURL\n\t\t\t}\n\n\t\t\tif (isImageFile(this.file)) {\n\t\t\t\tthis.imageFile = fileURL\n\t\t\t} else if (isVideoFile(this.file)) {\n\t\t\t\tthis.videoFile = fileURL\n\t\t\t\tsetTimeout(() => this.onMediaLoad(), 50)\n\t\t\t} else {\n\t\t\t\tthis.message = file.name\n\t\t\t}\n\n\t\t\tsetTimeout(() => (this.fileDialog = false), 500)\n\t\t},\n\t\tinitRecorder() {\n\t\t\tthis.isRecording = false\n\n\t\t\treturn new Recorder({\n\t\t\t\tbeforeRecording: null,\n\t\t\t\tafterRecording: null,\n\t\t\t\tpauseRecording: null,\n\t\t\t\tmicFailed: this.micFailed\n\t\t\t})\n\t\t},\n\t\tmicFailed() {\n\t\t\tthis.isRecording = false\n\t\t\tthis.recorder = this.initRecorder()\n\t\t},\n\t\ttoggleRecorder(recording) {\n\t\t\tthis.isRecording = recording\n\n\t\t\tif (!this.recorder.isRecording) {\n\t\t\t\tsetTimeout(() => this.recorder.start(), 200)\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tthis.recorder.stop()\n\n\t\t\t\t\tconst record = this.recorder.records[0]\n\n\t\t\t\t\tthis.file = {\n\t\t\t\t\t\tblob: record.blob,\n\t\t\t\t\t\tname: `audio.${this.format}`,\n\t\t\t\t\t\tsize: record.blob.size,\n\t\t\t\t\t\tduration: record.duration,\n\t\t\t\t\t\ttype: record.blob.type,\n\t\t\t\t\t\taudio: true,\n\t\t\t\t\t\tlocalUrl: URL.createObjectURL(record.blob)\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.recorder = this.initRecorder()\n\t\t\t\t\tthis.sendMessage()\n\t\t\t\t} catch {\n\t\t\t\t\tsetTimeout(() => this.stopRecorder(), 100)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstopRecorder() {\n\t\t\tif (this.recorder.isRecording) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.recorder.stop()\n\t\t\t\t\tthis.recorder = this.initRecorder()\n\t\t\t\t} catch {\n\t\t\t\t\tsetTimeout(() => this.stopRecorder(), 100)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\topenFile({ message, action }) {\n\t\t\tthis.$emit('open-file', { message, action })\n\t\t},\n\t\topenUserTag(user) {\n\t\t\tthis.$emit('open-user-tag', user)\n\t\t},\n\t\ttextareaActionHandler() {\n\t\t\tthis.$emit('textarea-action-handler', this.message)\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Room.vue?vue&type=template&id=13be1a50&\"\nimport script from \"./Room.vue?vue&type=script&lang=js&\"\nexport * from \"./Room.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n\tROOMS_EMPTY: 'No rooms',\n\tROOM_EMPTY: 'No room selected',\n\tNEW_MESSAGES: 'New Messages',\n\tMESSAGE_DELETED: 'This message was deleted',\n\tMESSAGES_EMPTY: 'No messages',\n\tCONVERSATION_STARTED: 'Conversation started on:',\n\tTYPE_MESSAGE: 'Type message',\n\tSEARCH: 'Search',\n\tIS_ONLINE: 'is online',\n\tLAST_SEEN: 'last seen ',\n\tIS_TYPING: 'is writing...'\n}\n","export const defaultThemeStyles = {\n\tlight: {\n\t\tgeneral: {\n\t\t\tcolor: '#0a0a0a',\n\t\t\tbackgroundInput: '#fff',\n\t\t\tcolorPlaceholder: '#9ca6af',\n\t\t\tcolorCaret: '#1976d2',\n\t\t\tcolorSpinner: '#333',\n\t\t\tborderStyle: '1px solid #e1e4e8',\n\t\t\tbackgroundScrollIcon: '#fff'\n\t\t},\n\n\t\tcontainer: {\n\t\t\tborder: 'none',\n\t\t\tborderRadius: '4px',\n\t\t\tboxShadow:\n\t\t\t\t'0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)'\n\t\t},\n\n\t\theader: {\n\t\t\tbackground: '#fff',\n\t\t\tcolorRoomName: '#0a0a0a',\n\t\t\tcolorRoomInfo: '#9ca6af'\n\t\t},\n\n\t\tfooter: {\n\t\t\tbackground: '#f8f9fa',\n\t\t\tborderStyleInput: '1px solid #e1e4e8',\n\t\t\tborderInputSelected: '#1976d2',\n\t\t\tbackgroundReply: '#e5e5e6',\n\t\t\tbackgroundTagActive: '#e5e5e6'\n\t\t},\n\n\t\tcontent: {\n\t\t\tbackground: '#f8f9fa'\n\t\t},\n\n\t\tsidemenu: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundHover: '#f6f6f6',\n\t\t\tbackgroundActive: '#e5effa',\n\t\t\tcolorActive: '#1976d2',\n\t\t\tborderColorSearch: '#e1e5e8'\n\t\t},\n\n\t\tdropdown: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundHover: '#f6f6f6'\n\t\t},\n\n\t\tmessage: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundMe: '#ccf2cf',\n\t\t\tcolor: '#0a0a0a',\n\t\t\tcolorStarted: '#9ca6af',\n\t\t\tbackgroundDeleted: '#dadfe2',\n\t\t\tcolorDeleted: '#757e85',\n\t\t\tcolorUsername: '#9ca6af',\n\t\t\tcolorTimestamp: '#828c94',\n\t\t\tbackgroundDate: '#e5effa',\n\t\t\tcolorDate: '#505a62',\n\t\t\tbackgroundSystem: '#e5effa',\n\t\t\tcolorSystem: '#505a62',\n\t\t\tbackgroundMedia: 'rgba(0, 0, 0, 0.15)',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.08)',\n\t\t\tcolorReplyUsername: '#0a0a0a',\n\t\t\tcolorReply: '#6e6e6e',\n\t\t\tcolorTag: '#0d579c',\n\t\t\tbackgroundImage: '#ddd',\n\t\t\tcolorNewMessages: '#1976d2',\n\t\t\tbackgroundScrollCounter: '#0696c7',\n\t\t\tcolorScrollCounter: '#fff',\n\t\t\tbackgroundReaction: '#eee',\n\t\t\tborderStyleReaction: '1px solid #eee',\n\t\t\tbackgroundReactionHover: '#fff',\n\t\t\tborderStyleReactionHover: '1px solid #ddd',\n\t\t\tcolorReactionCounter: '#0a0a0a',\n\t\t\tbackgroundReactionMe: '#cfecf5',\n\t\t\tborderStyleReactionMe: '1px solid #3b98b8',\n\t\t\tbackgroundReactionHoverMe: '#cfecf5',\n\t\t\tborderStyleReactionHoverMe: '1px solid #3b98b8',\n\t\t\tcolorReactionCounterMe: '#0b59b3',\n\t\t\tbackgroundAudioRecord: '#eb4034',\n\t\t\tbackgroundAudioLine: 'rgba(0, 0, 0, 0.15)',\n\t\t\tbackgroundAudioProgress: '#455247',\n\t\t\tbackgroundAudioProgressSelector: '#455247'\n\t\t},\n\n\t\tmarkdown: {\n\t\t\tbackground: 'rgba(239, 239, 239, 0.7)',\n\t\t\tborder: 'rgba(212, 212, 212, 0.9)',\n\t\t\tcolor: '#e01e5a',\n\t\t\tcolorMulti: '#0a0a0a'\n\t\t},\n\n\t\troom: {\n\t\t\tcolorUsername: '#0a0a0a',\n\t\t\tcolorMessage: '#67717a',\n\t\t\tcolorTimestamp: '#a2aeb8',\n\t\t\tcolorStateOnline: '#4caf50',\n\t\t\tcolorStateOffline: '#9ca6af',\n\t\t\tbackgroundCounterBadge: '#0696c7',\n\t\t\tcolorCounterBadge: '#fff'\n\t\t},\n\n\t\temoji: {\n\t\t\tbackground: '#fff'\n\t\t},\n\n\t\ticons: {\n\t\t\tsearch: '#9ca6af',\n\t\t\tadd: '#1976d2',\n\t\t\ttoggle: '#0a0a0a',\n\t\t\tmenu: '#0a0a0a',\n\t\t\tclose: '#9ca6af',\n\t\t\tcloseImage: '#fff',\n\t\t\tfile: '#1976d2',\n\t\t\tpaperclip: '#1976d2',\n\t\t\tcloseOutline: '#000',\n\t\t\tsend: '#1976d2',\n\t\t\tsendDisabled: '#9ca6af',\n\t\t\temoji: '#1976d2',\n\t\t\temojiReaction: 'rgba(0, 0, 0, 0.3)',\n\t\t\tdocument: '#1976d2',\n\t\t\tpencil: '#9e9e9e',\n\t\t\tcheckmark: '#9e9e9e',\n\t\t\tcheckmarkSeen: '#0696c7',\n\t\t\teye: '#fff',\n\t\t\tdropdownMessage: '#fff',\n\t\t\tdropdownMessageBackground: 'rgba(0, 0, 0, 0.25)',\n\t\t\tdropdownRoom: '#9e9e9e',\n\t\t\tdropdownScroll: '#0a0a0a',\n\t\t\tmicrophone: '#1976d2',\n\t\t\taudioPlay: '#455247',\n\t\t\taudioPause: '#455247',\n\t\t\taudioCancel: '#eb4034',\n\t\t\taudioConfirm: '#1ba65b'\n\t\t}\n\t},\n\tdark: {\n\t\tgeneral: {\n\t\t\tcolor: '#fff',\n\t\t\tbackgroundInput: '#202223',\n\t\t\tcolorPlaceholder: '#596269',\n\t\t\tcolorCaret: '#fff',\n\t\t\tcolorSpinner: '#fff',\n\t\t\tborderStyle: 'none',\n\t\t\tbackgroundScrollIcon: '#fff'\n\t\t},\n\n\t\tcontainer: {\n\t\t\tborder: 'none',\n\t\t\tborderRadius: '4px',\n\t\t\tboxShadow:\n\t\t\t\t'0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)'\n\t\t},\n\n\t\theader: {\n\t\t\tbackground: '#181a1b',\n\t\t\tcolorRoomName: '#fff',\n\t\t\tcolorRoomInfo: '#9ca6af'\n\t\t},\n\n\t\tfooter: {\n\t\t\tbackground: '#131415',\n\t\t\tborderStyleInput: 'none',\n\t\t\tborderInputSelected: '#1976d2',\n\t\t\tbackgroundReply: '#1b1c1c',\n\t\t\tbackgroundTagActive: '#1b1c1c'\n\t\t},\n\n\t\tcontent: {\n\t\t\tbackground: '#131415'\n\t\t},\n\n\t\tsidemenu: {\n\t\t\tbackground: '#181a1b',\n\t\t\tbackgroundHover: '#202224',\n\t\t\tbackgroundActive: '#151617',\n\t\t\tcolorActive: '#fff',\n\t\t\tborderColorSearch: '#181a1b'\n\t\t},\n\n\t\tdropdown: {\n\t\t\tbackground: '#2a2c33',\n\t\t\tbackgroundHover: '#26282e'\n\t\t},\n\n\t\tmessage: {\n\t\t\tbackground: '#22242a',\n\t\t\tbackgroundMe: '#1f7e80',\n\t\t\tcolor: '#fff',\n\t\t\tcolorStarted: '#9ca6af',\n\t\t\tbackgroundDeleted: '#1b1c21',\n\t\t\tcolorDeleted: '#a2a5a8',\n\t\t\tcolorUsername: '#b3bac9',\n\t\t\tcolorTimestamp: '#ebedf2',\n\t\t\tbackgroundDate: 'rgba(0, 0, 0, 0.3)',\n\t\t\tcolorDate: '#bec5cc',\n\t\t\tbackgroundSystem: 'rgba(0, 0, 0, 0.3)',\n\t\t\tcolorSystem: '#bec5cc',\n\t\t\tbackgroundMedia: 'rgba(0, 0, 0, 0.18)',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.18)',\n\t\t\tcolorReplyUsername: '#fff',\n\t\t\tcolorReply: '#d6d6d6',\n\t\t\tcolorTag: '#f0c60a',\n\t\t\tbackgroundImage: '#ddd',\n\t\t\tcolorNewMessages: '#fff',\n\t\t\tbackgroundScrollCounter: '#1976d2',\n\t\t\tcolorScrollCounter: '#fff',\n\t\t\tbackgroundReaction: 'none',\n\t\t\tborderStyleReaction: 'none',\n\t\t\tbackgroundReactionHover: '#202223',\n\t\t\tborderStyleReactionHover: 'none',\n\t\t\tcolorReactionCounter: '#fff',\n\t\t\tbackgroundReactionMe: '#4e9ad1',\n\t\t\tborderStyleReactionMe: 'none',\n\t\t\tbackgroundReactionHoverMe: '#4e9ad1',\n\t\t\tborderStyleReactionHoverMe: 'none',\n\t\t\tcolorReactionCounterMe: '#fff',\n\t\t\tbackgroundAudioRecord: '#eb4034',\n\t\t\tbackgroundAudioLine: 'rgba(255, 255, 255, 0.15)',\n\t\t\tbackgroundAudioProgress: '#b7d4d3',\n\t\t\tbackgroundAudioProgressSelector: '#b7d4d3'\n\t\t},\n\n\t\tmarkdown: {\n\t\t\tbackground: 'rgba(239, 239, 239, 0.7)',\n\t\t\tborder: 'rgba(212, 212, 212, 0.9)',\n\t\t\tcolor: '#e01e5a',\n\t\t\tcolorMulti: '#0a0a0a'\n\t\t},\n\n\t\troom: {\n\t\t\tcolorUsername: '#fff',\n\t\t\tcolorMessage: '#6c7278',\n\t\t\tcolorTimestamp: '#6c7278',\n\t\t\tcolorStateOnline: '#4caf50',\n\t\t\tcolorStateOffline: '#596269',\n\t\t\tbackgroundCounterBadge: '#1976d2',\n\t\t\tcolorCounterBadge: '#fff'\n\t\t},\n\n\t\temoji: {\n\t\t\tbackground: '#343740'\n\t\t},\n\n\t\ticons: {\n\t\t\tsearch: '#596269',\n\t\t\tadd: '#fff',\n\t\t\ttoggle: '#fff',\n\t\t\tmenu: '#fff',\n\t\t\tclose: '#9ca6af',\n\t\t\tcloseImage: '#fff',\n\t\t\tfile: '#1976d2',\n\t\t\tpaperclip: '#fff',\n\t\t\tcloseOutline: '#fff',\n\t\t\tsend: '#fff',\n\t\t\tsendDisabled: '#646a70',\n\t\t\temoji: '#fff',\n\t\t\temojiReaction: '#fff',\n\t\t\tdocument: '#1976d2',\n\t\t\tpencil: '#ebedf2',\n\t\t\tcheckmark: '#ebedf2',\n\t\t\tcheckmarkSeen: '#f0d90a',\n\t\t\teye: '#fff',\n\t\t\tdropdownMessage: '#fff',\n\t\t\tdropdownMessageBackground: 'rgba(0, 0, 0, 0.25)',\n\t\t\tdropdownRoom: '#fff',\n\t\t\tdropdownScroll: '#0a0a0a',\n\t\t\tmicrophone: '#fff',\n\t\t\taudioPlay: '#b7d4d3',\n\t\t\taudioPause: '#b7d4d3',\n\t\t\taudioCancel: '#eb4034',\n\t\t\taudioConfirm: '#1ba65b'\n\t\t}\n\t}\n}\n\nexport const cssThemeVars = ({\n\tgeneral,\n\tcontainer,\n\theader,\n\tfooter,\n\tsidemenu,\n\tcontent,\n\tdropdown,\n\tmessage,\n\tmarkdown,\n\troom,\n\temoji,\n\ticons\n}) => {\n\treturn {\n\t\t// general\n\t\t'--chat-color': general.color,\n\t\t'--chat-bg-color-input': general.backgroundInput,\n\t\t'--chat-color-spinner': general.colorSpinner,\n\t\t'--chat-color-placeholder': general.colorPlaceholder,\n\t\t'--chat-color-caret': general.colorCaret,\n\t\t'--chat-border-style': general.borderStyle,\n\t\t'--chat-bg-scroll-icon': general.backgroundScrollIcon,\n\n\t\t// container\n\t\t'--chat-container-border': container.border,\n\t\t'--chat-container-border-radius': container.borderRadius,\n\t\t'--chat-container-box-shadow': container.boxShadow,\n\n\t\t// header\n\t\t'--chat-header-bg-color': header.background,\n\t\t'--chat-header-color-name': header.colorRoomName,\n\t\t'--chat-header-color-info': header.colorRoomInfo,\n\n\t\t// footer\n\t\t'--chat-footer-bg-color': footer.background,\n\t\t'--chat-border-style-input': footer.borderStyleInput,\n\t\t'--chat-border-color-input-selected': footer.borderInputSelected,\n\t\t'--chat-footer-bg-color-reply': footer.backgroundReply,\n\t\t'--chat-footer-bg-color-tag-active': footer.backgroundTagActive,\n\n\t\t// content\n\t\t'--chat-content-bg-color': content.background,\n\n\t\t// sidemenu\n\t\t'--chat-sidemenu-bg-color': sidemenu.background,\n\t\t'--chat-sidemenu-bg-color-hover': sidemenu.backgroundHover,\n\t\t'--chat-sidemenu-bg-color-active': sidemenu.backgroundActive,\n\t\t'--chat-sidemenu-color-active': sidemenu.colorActive,\n\t\t'--chat-sidemenu-border-color-search': sidemenu.borderColorSearch,\n\n\t\t// dropdown\n\t\t'--chat-dropdown-bg-color': dropdown.background,\n\t\t'--chat-dropdown-bg-color-hover': dropdown.backgroundHover,\n\n\t\t// message\n\t\t'--chat-message-bg-color': message.background,\n\t\t'--chat-message-bg-color-me': message.backgroundMe,\n\t\t'--chat-message-color-started': message.colorStarted,\n\t\t'--chat-message-bg-color-deleted': message.backgroundDeleted,\n\t\t'--chat-message-color-deleted': message.colorDeleted,\n\t\t'--chat-message-color-username': message.colorUsername,\n\t\t'--chat-message-color-timestamp': message.colorTimestamp,\n\t\t'--chat-message-bg-color-date': message.backgroundDate,\n\t\t'--chat-message-color-date': message.colorDate,\n\t\t'--chat-message-bg-color-system': message.backgroundSystem,\n\t\t'--chat-message-color-system': message.colorSystem,\n\t\t'--chat-message-color': message.color,\n\t\t'--chat-message-bg-color-media': message.backgroundMedia,\n\t\t'--chat-message-bg-color-reply': message.backgroundReply,\n\t\t'--chat-message-color-reply-username': message.colorReplyUsername,\n\t\t'--chat-message-color-reply-content': message.colorReply,\n\t\t'--chat-message-color-tag': message.colorTag,\n\t\t'--chat-message-bg-color-image': message.backgroundImage,\n\t\t'--chat-message-color-new-messages': message.colorNewMessages,\n\t\t'--chat-message-bg-color-scroll-counter': message.backgroundScrollCounter,\n\t\t'--chat-message-color-scroll-counter': message.colorScrollCounter,\n\t\t'--chat-message-bg-color-reaction': message.backgroundReaction,\n\t\t'--chat-message-border-style-reaction': message.borderStyleReaction,\n\t\t'--chat-message-bg-color-reaction-hover': message.backgroundReactionHover,\n\t\t'--chat-message-border-style-reaction-hover':\n\t\t\tmessage.borderStyleReactionHover,\n\t\t'--chat-message-color-reaction-counter': message.colorReactionCounter,\n\t\t'--chat-message-bg-color-reaction-me': message.backgroundReactionMe,\n\t\t'--chat-message-border-style-reaction-me': message.borderStyleReactionMe,\n\t\t'--chat-message-bg-color-reaction-hover-me':\n\t\t\tmessage.backgroundReactionHoverMe,\n\t\t'--chat-message-border-style-reaction-hover-me':\n\t\t\tmessage.borderStyleReactionHoverMe,\n\t\t'--chat-message-color-reaction-counter-me': message.colorReactionCounterMe,\n\t\t'--chat-message-bg-color-audio-record': message.backgroundAudioRecord,\n\t\t'--chat-message-bg-color-audio-line': message.backgroundAudioLine,\n\t\t'--chat-message-bg-color-audio-progress': message.backgroundAudioProgress,\n\t\t'--chat-message-bg-color-audio-progress-selector':\n\t\t\tmessage.backgroundAudioProgressSelector,\n\n\t\t// markdown\n\t\t'--chat-markdown-bg': markdown.background,\n\t\t'--chat-markdown-border': markdown.border,\n\t\t'--chat-markdown-color': markdown.color,\n\t\t'--chat-markdown-color-multi': markdown.colorMulti,\n\n\t\t// room\n\t\t'--chat-room-color-username': room.colorUsername,\n\t\t'--chat-room-color-message': room.colorMessage,\n\t\t'--chat-room-color-timestamp': room.colorTimestamp,\n\t\t'--chat-room-color-online': room.colorStateOnline,\n\t\t'--chat-room-color-offline': room.colorStateOffline,\n\t\t'--chat-room-bg-color-badge': room.backgroundCounterBadge,\n\t\t'--chat-room-color-badge': room.colorCounterBadge,\n\n\t\t// emoji\n\t\t'--chat-emoji-bg-color': emoji.background,\n\n\t\t// icons\n\t\t'--chat-icon-color-search': icons.search,\n\t\t'--chat-icon-color-add': icons.add,\n\t\t'--chat-icon-color-toggle': icons.toggle,\n\t\t'--chat-icon-color-menu': icons.menu,\n\t\t'--chat-icon-color-close': icons.close,\n\t\t'--chat-icon-color-close-image': icons.closeImage,\n\t\t'--chat-icon-color-file': icons.file,\n\t\t'--chat-icon-color-paperclip': icons.paperclip,\n\t\t'--chat-icon-color-close-outline': icons.closeOutline,\n\t\t'--chat-icon-color-send': icons.send,\n\t\t'--chat-icon-color-send-disabled': icons.sendDisabled,\n\t\t'--chat-icon-color-emoji': icons.emoji,\n\t\t'--chat-icon-color-emoji-reaction': icons.emojiReaction,\n\t\t'--chat-icon-color-document': icons.document,\n\t\t'--chat-icon-color-pencil': icons.pencil,\n\t\t'--chat-icon-color-checkmark': icons.checkmark,\n\t\t'--chat-icon-color-checkmark-seen': icons.checkmarkSeen,\n\t\t'--chat-icon-color-eye': icons.eye,\n\t\t'--chat-icon-color-dropdown-message': icons.dropdownMessage,\n\t\t'--chat-icon-bg-dropdown-message': icons.dropdownMessageBackground,\n\t\t'--chat-icon-color-dropdown-room': icons.dropdownRoom,\n\t\t'--chat-icon-color-dropdown-scroll': icons.dropdownScroll,\n\t\t'--chat-icon-color-microphone': icons.microphone,\n\t\t'--chat-icon-color-audio-play': icons.audioPlay,\n\t\t'--chat-icon-color-audio-pause': icons.audioPause,\n\t\t'--chat-icon-color-audio-cancel': icons.audioCancel,\n\t\t'--chat-icon-color-audio-confirm': icons.audioConfirm\n\t}\n}\n","<template>\n\t<div class=\"vac-card-window\" :style=\"[{ height }, cssVars]\">\n\t\t<div class=\"vac-chat-container\">\n\t\t\t<rooms-list\n\t\t\t\tv-if=\"!singleRoom\"\n\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t:rooms=\"orderedRooms\"\n\t\t\t\t:loading-rooms=\"loadingRooms\"\n\t\t\t\t:rooms-loaded=\"roomsLoaded\"\n\t\t\t\t:room=\"room\"\n\t\t\t\t:room-actions=\"roomActions\"\n\t\t\t\t:text-messages=\"t\"\n\t\t\t\t:show-search=\"showSearch\"\n\t\t\t\t:show-add-room=\"showAddRoom\"\n\t\t\t\t:show-rooms-list=\"showRoomsList\"\n\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t:is-mobile=\"isMobile\"\n\t\t\t\t@fetch-room=\"fetchRoom\"\n\t\t\t\t@fetch-more-rooms=\"fetchMoreRooms\"\n\t\t\t\t@loading-more-rooms=\"loadingMoreRooms = $event\"\n\t\t\t\t@add-room=\"addRoom\"\n\t\t\t\t@room-action-handler=\"roomActionHandler\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</rooms-list>\n\n\t\t\t<room\n\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t:rooms=\"rooms\"\n\t\t\t\t:room-id=\"room.roomId || ''\"\n\t\t\t\t:load-first-room=\"loadFirstRoom\"\n\t\t\t\t:messages=\"messages\"\n\t\t\t\t:room-message=\"roomMessage\"\n\t\t\t\t:messages-loaded=\"messagesLoaded\"\n\t\t\t\t:menu-actions=\"menuActions\"\n\t\t\t\t:message-actions=\"messageActions\"\n\t\t\t\t:show-send-icon=\"showSendIcon\"\n\t\t\t\t:show-files=\"showFiles\"\n\t\t\t\t:show-audio=\"showAudio\"\n\t\t\t\t:show-emojis=\"showEmojis\"\n\t\t\t\t:show-reaction-emojis=\"showReactionEmojis\"\n\t\t\t\t:show-new-messages-divider=\"showNewMessagesDivider\"\n\t\t\t\t:show-footer=\"showFooter\"\n\t\t\t\t:text-messages=\"t\"\n\t\t\t\t:single-room=\"singleRoom\"\n\t\t\t\t:show-rooms-list=\"showRoomsList\"\n\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t:is-mobile=\"isMobile\"\n\t\t\t\t:loading-rooms=\"loadingRooms\"\n\t\t\t\t:room-info=\"$listeners['room-info']\"\n\t\t\t\t:textarea-action=\"$listeners['textarea-action-handler']\"\n\t\t\t\t:accepted-files=\"acceptedFiles\"\n\t\t\t\t@toggle-rooms-list=\"toggleRoomsList\"\n\t\t\t\t@room-info=\"roomInfo\"\n\t\t\t\t@fetch-messages=\"fetchMessages\"\n\t\t\t\t@send-message=\"sendMessage\"\n\t\t\t\t@edit-message=\"editMessage\"\n\t\t\t\t@delete-message=\"deleteMessage\"\n\t\t\t\t@open-file=\"openFile\"\n\t\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t\t@menu-action-handler=\"menuActionHandler\"\n\t\t\t\t@message-action-handler=\"messageActionHandler\"\n\t\t\t\t@send-message-reaction=\"sendMessageReaction\"\n\t\t\t\t@typing-message=\"typingMessage\"\n\t\t\t\t@textarea-action-handler=\"textareaActionHandler\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</room>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport RoomsList from './RoomsList/RoomsList'\nimport Room from './Room/Room'\n\nimport locales from '../locales'\nimport { defaultThemeStyles, cssThemeVars } from '../themes'\nconst {\n\troomsValidation,\n\tpartcipantsValidation\n} = require('../utils/data-validation')\n\nexport default {\n\tname: 'ChatContainer',\n\tcomponents: {\n\t\tRoomsList,\n\t\tRoom\n\t},\n\n\tprops: {\n\t\theight: { type: String, default: '600px' },\n\t\ttheme: { type: String, default: 'light' },\n\t\tstyles: { type: Object, default: () => ({}) },\n\t\tresponsiveBreakpoint: { type: Number, default: 900 },\n\t\tsingleRoom: { type: Boolean, default: false },\n\t\ttextMessages: { type: Object, default: null },\n\t\tcurrentUserId: { type: [String, Number], default: '' },\n\t\trooms: { type: Array, default: () => [] },\n\t\tloadingRooms: { type: Boolean, default: false },\n\t\troomsLoaded: { type: Boolean, default: false },\n\t\troomId: { type: [String, Number], default: null },\n\t\tloadFirstRoom: { type: Boolean, default: true },\n\t\tmessages: { type: Array, default: () => [] },\n\t\tmessagesLoaded: { type: Boolean, default: false },\n\t\troomActions: { type: Array, default: () => [] },\n\t\tmenuActions: { type: Array, default: () => [] },\n\t\tmessageActions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [\n\t\t\t\t{ name: 'replyMessage', title: 'Reply' },\n\t\t\t\t{ name: 'editMessage', title: 'Edit Message', onlyMe: true },\n\t\t\t\t{ name: 'deleteMessage', title: 'Delete Message', onlyMe: true }\n\t\t\t]\n\t\t},\n\t\tshowSearch: { type: Boolean, default: true },\n\t\tshowAddRoom: { type: Boolean, default: true },\n\t\tshowSendIcon: { type: Boolean, default: true },\n\t\tshowFiles: { type: Boolean, default: true },\n\t\tshowAudio: { type: Boolean, default: true },\n\t\tshowEmojis: { type: Boolean, default: true },\n\t\tshowReactionEmojis: { type: Boolean, default: true },\n\t\tshowNewMessagesDivider: { type: Boolean, default: true },\n\t\tshowFooter: { type: Boolean, default: true },\n\t\ttextFormatting: { type: Boolean, default: true },\n\t\tlinkOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({ disabled: false, target: '_blank' })\n\t\t},\n\t\tnewMessage: { type: Object, default: null },\n\t\troomMessage: { type: String, default: '' },\n\t\tacceptedFiles: { type: String, default: '*' }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\troom: {},\n\t\t\tloadingMoreRooms: false,\n\t\t\tshowRoomsList: true,\n\t\t\tisMobile: false\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tt() {\n\t\t\treturn {\n\t\t\t\t...locales,\n\t\t\t\t...this.textMessages\n\t\t\t}\n\t\t},\n\t\tcssVars() {\n\t\t\tconst defaultStyles = defaultThemeStyles[this.theme]\n\t\t\tconst customStyles = {}\n\n\t\t\tObject.keys(defaultStyles).map(key => {\n\t\t\t\tcustomStyles[key] = {\n\t\t\t\t\t...defaultStyles[key],\n\t\t\t\t\t...(this.styles[key] || {})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn cssThemeVars(customStyles)\n\t\t},\n\t\torderedRooms() {\n\t\t\treturn this.rooms.slice().sort((a, b) => {\n\t\t\t\tconst aVal = a.index || 0\n\t\t\t\tconst bVal = b.index || 0\n\n\t\t\t\treturn aVal > bVal ? -1 : bVal > aVal ? 1 : 0\n\t\t\t})\n\t\t}\n\t},\n\n\twatch: {\n\t\trooms: {\n\t\t\timmediate: true,\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\tif (\n\t\t\t\t\t!newVal[0] ||\n\t\t\t\t\t!newVal.find(room => room.roomId === this.room.roomId)\n\t\t\t\t) {\n\t\t\t\t\tthis.showRoomsList = true\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!this.loadingMoreRooms &&\n\t\t\t\t\tthis.loadFirstRoom &&\n\t\t\t\t\tnewVal[0] &&\n\t\t\t\t\t(!oldVal || newVal.length !== oldVal.length)\n\t\t\t\t) {\n\t\t\t\t\tif (this.roomId) {\n\t\t\t\t\t\tconst room = newVal.find(r => r.roomId === this.roomId) || {}\n\t\t\t\t\t\tthis.fetchRoom({ room })\n\t\t\t\t\t} else if (!this.isMobile || this.singleRoom) {\n\t\t\t\t\t\tthis.fetchRoom({ room: this.orderedRooms[0] })\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showRoomsList = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tloadingRooms(val) {\n\t\t\tif (val) this.room = {}\n\t\t},\n\n\t\troomId: {\n\t\t\timmediate: true,\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\tif (newVal && !this.loadingRooms && this.rooms.length) {\n\t\t\t\t\tconst room = this.rooms.find(r => r.roomId === newVal)\n\t\t\t\t\tthis.fetchRoom({ room })\n\t\t\t\t} else if (oldVal && !newVal) {\n\t\t\t\t\tthis.room = {}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\troom(val) {\n\t\t\tif (!val || Object.entries(val).length === 0) return\n\n\t\t\troomsValidation(val)\n\n\t\t\tval.users.forEach(user => {\n\t\t\t\tpartcipantsValidation(user)\n\t\t\t})\n\t\t},\n\n\t\tnewMessage(val) {\n\t\t\tthis.$set(this.messages, val.index, val.message)\n\t\t}\n\t},\n\n\tcreated() {\n\t\tthis.updateResponsive()\n\t\twindow.addEventListener('resize', ev => {\n\t\t\tif (ev.isTrusted) this.updateResponsive()\n\t\t})\n\t},\n\n\tmethods: {\n\t\tupdateResponsive() {\n\t\t\tthis.isMobile = window.innerWidth < this.responsiveBreakpoint\n\t\t},\n\t\ttoggleRoomsList() {\n\t\t\tthis.showRoomsList = !this.showRoomsList\n\t\t\tif (this.isMobile) this.room = {}\n\t\t\tthis.$emit('toggle-rooms-list', { opened: this.showRoomsList })\n\t\t},\n\t\tfetchRoom({ room }) {\n\t\t\tthis.room = room\n\t\t\tthis.fetchMessages({ reset: true })\n\t\t\tif (this.isMobile) this.showRoomsList = false\n\t\t},\n\t\tfetchMoreRooms() {\n\t\t\tthis.$emit('fetch-more-rooms')\n\t\t},\n\t\troomInfo() {\n\t\t\tthis.$emit('room-info', this.room)\n\t\t},\n\t\taddRoom() {\n\t\t\tthis.$emit('add-room')\n\t\t},\n\t\tfetchMessages(options) {\n\t\t\tthis.$emit('fetch-messages', { room: this.room, options })\n\t\t},\n\t\tsendMessage(message) {\n\t\t\tthis.$emit('send-message', { ...message, roomId: this.room.roomId })\n\t\t},\n\t\teditMessage(message) {\n\t\t\tthis.$emit('edit-message', { ...message, roomId: this.room.roomId })\n\t\t},\n\t\tdeleteMessage(message) {\n\t\t\tthis.$emit('delete-message', { message, roomId: this.room.roomId })\n\t\t},\n\t\topenFile({ message, action }) {\n\t\t\tthis.$emit('open-file', { message, action })\n\t\t},\n\t\topenUserTag({ user }) {\n\t\t\tthis.$emit('open-user-tag', { user })\n\t\t},\n\t\tmenuActionHandler(ev) {\n\t\t\tthis.$emit('menu-action-handler', {\n\t\t\t\taction: ev,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\troomActionHandler({ action, roomId }) {\n\t\t\tthis.$emit('room-action-handler', {\n\t\t\t\taction,\n\t\t\t\troomId\n\t\t\t})\n\t\t},\n\t\tmessageActionHandler(ev) {\n\t\t\tthis.$emit('message-action-handler', {\n\t\t\t\t...ev,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\tsendMessageReaction(messageReaction) {\n\t\t\tthis.$emit('send-message-reaction', {\n\t\t\t\t...messageReaction,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\ttypingMessage(message) {\n\t\t\tthis.$emit('typing-message', {\n\t\t\t\tmessage,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\ttextareaActionHandler(message) {\n\t\t\tthis.$emit('textarea-action-handler', {\n\t\t\t\tmessage,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n@import '../styles/index.scss';\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatWindow.vue?vue&type=template&id=4eca3f46&\"\nimport script from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"window-container\" :class=\"{ 'window-mobile': isDevice }\">\n\t\t<form @submit.prevent=\"createRoom\" v-if=\"addNewRoom\">\n\t\t\t<input type=\"text\" placeholder=\"Add username\" v-model=\"addRoomUsername\" />\n\t\t\t<button type=\"submit\" :disabled=\"disableForm || !addRoomUsername\">\n\t\t\t\tCreate Room\n\t\t\t</button>\n\t\t\t<button class=\"button-cancel\" @click=\"addNewRoom = false\">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</form>\n\n\t\t<form @submit.prevent=\"addRoomUser\" v-if=\"inviteRoomId\">\n\t\t\t<input type=\"text\" placeholder=\"Add username\" v-model=\"invitedUsername\" />\n\t\t\t<button type=\"submit\" :disabled=\"disableForm || !invitedUsername\">\n\t\t\t\tAdd User\n\t\t\t</button>\n\t\t\t<button class=\"button-cancel\" @click=\"inviteRoomId = null\">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</form>\n\n\t\t<form @submit.prevent=\"deleteRoomUser\" v-if=\"removeRoomId\">\n\t\t\t<select v-model=\"removeUserId\">\n\t\t\t\t<option default value=\"\">Select User</option>\n\t\t\t\t<option v-for=\"user in removeUsers\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t{{ user.username }}\n\t\t\t\t</option>\n\t\t\t</select>\n\t\t\t<button type=\"submit\" :disabled=\"disableForm || !removeUserId\">\n\t\t\t\tRemove User\n\t\t\t</button>\n\t\t\t<button class=\"button-cancel\" @click=\"removeRoomId = null\">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</form>\n\n\t\t<chat-window\n\t\t\t:height=\"screenHeight\"\n\t\t\t:theme=\"theme\"\n\t\t\t:styles=\"styles\"\n\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t:room-id=\"roomId\"\n\t\t\t:rooms=\"loadedRooms\"\n\t\t\t:loading-rooms=\"loadingRooms\"\n\t\t\t:messages=\"messages\"\n\t\t\t:messages-loaded=\"messagesLoaded\"\n\t\t\t:rooms-loaded=\"roomsLoaded\"\n\t\t\t:room-actions=\"roomActions\"\n\t\t\t:menu-actions=\"menuActions\"\n\t\t\t:room-message=\"roomMessage\"\n\t\t\t@fetch-more-rooms=\"fetchMoreRooms\"\n\t\t\t@fetch-messages=\"fetchMessages\"\n\t\t\t@send-message=\"sendMessage\"\n\t\t\t@edit-message=\"editMessage\"\n\t\t\t@delete-message=\"deleteMessage\"\n\t\t\t@open-file=\"openFile\"\n\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t@add-room=\"addRoom\"\n\t\t\t@room-action-handler=\"menuActionHandler\"\n\t\t\t@menu-action-handler=\"menuActionHandler\"\n\t\t\t@send-message-reaction=\"sendMessageReaction\"\n\t\t\t@typing-message=\"typingMessage\"\n\t\t\t@toggle-rooms-list=\"$emit('show-demo-options', $event.opened)\"\n\t\t>\n\t\t\t<!-- <template v-slot:room-header=\"{ room }\">\n\t\t\t\t{{ room.roomName }}\n\t\t\t</template> -->\n\t\t</chat-window>\n\t</div>\n</template>\n\n<script>\nimport {\n\tfirebase,\n\troomsRef,\n\tmessagesRef,\n\tusersRef,\n\tfilesRef,\n\tdeleteDbField\n} from '@/firestore'\nimport { parseTimestamp, isSameDay } from '@/utils/dates'\nimport ChatWindow from './../../src/lib/ChatWindow'\n// import ChatWindow, { Rooms } from 'vue-advanced-chat'\n// import ChatWindow from 'vue-advanced-chat'\n// import 'vue-advanced-chat/dist/vue-advanced-chat.css'\n// import ChatWindow from './../../dist/vue-advanced-chat.umd.min.js'\n\nexport default {\n\tcomponents: {\n\t\tChatWindow\n\t},\n\n\tprops: ['currentUserId', 'theme', 'isDevice'],\n\n\tdata() {\n\t\treturn {\n\t\t\troomsPerPage: 15,\n\t\t\trooms: [],\n\t\t\troomId: '',\n\t\t\tstartRooms: null,\n\t\t\tendRooms: null,\n\t\t\troomsLoaded: false,\n\t\t\tloadingRooms: true,\n\t\t\tallUsers: [],\n\t\t\tloadingLastMessageByRoom: 0,\n\t\t\troomsLoadedCount: false,\n\t\t\tselectedRoom: null,\n\t\t\tmessagesPerPage: 20,\n\t\t\tmessages: [],\n\t\t\tmessagesLoaded: false,\n\t\t\troomMessage: '',\n\t\t\tstartMessages: null,\n\t\t\tendMessages: null,\n\t\t\troomsListeners: [],\n\t\t\tlisteners: [],\n\t\t\ttypingMessageCache: '',\n\t\t\tdisableForm: false,\n\t\t\taddNewRoom: null,\n\t\t\taddRoomUsername: '',\n\t\t\tinviteRoomId: null,\n\t\t\tinvitedUsername: '',\n\t\t\tremoveRoomId: null,\n\t\t\tremoveUserId: '',\n\t\t\tremoveUsers: [],\n\t\t\troomActions: [\n\t\t\t\t{ name: 'inviteUser', title: 'Invite User' },\n\t\t\t\t{ name: 'removeUser', title: 'Remove User' },\n\t\t\t\t{ name: 'deleteRoom', title: 'Delete Room' }\n\t\t\t],\n\t\t\tmenuActions: [\n\t\t\t\t{ name: 'inviteUser', title: 'Invite User' },\n\t\t\t\t{ name: 'removeUser', title: 'Remove User' },\n\t\t\t\t{ name: 'deleteRoom', title: 'Delete Room' }\n\t\t\t],\n\t\t\tstyles: { container: { borderRadius: '4px' } }\n\t\t\t// ,dbRequestCount: 0\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.fetchRooms()\n\t\tthis.updateUserOnlineStatus()\n\t},\n\n\tdestroyed() {\n\t\tthis.resetRooms()\n\t},\n\n\tcomputed: {\n\t\tloadedRooms() {\n\t\t\treturn this.rooms.slice(0, this.roomsLoadedCount)\n\t\t},\n\t\tscreenHeight() {\n\t\t\treturn this.isDevice ? window.innerHeight + 'px' : 'calc(100vh - 80px)'\n\t\t}\n\t},\n\n\tmethods: {\n\t\tresetRooms() {\n\t\t\tthis.loadingRooms = true\n\t\t\tthis.loadingLastMessageByRoom = 0\n\t\t\tthis.roomsLoadedCount = 0\n\t\t\tthis.rooms = []\n\t\t\tthis.roomsLoaded = true\n\t\t\tthis.startRooms = null\n\t\t\tthis.endRooms = null\n\t\t\tthis.roomsListeners.forEach(listener => listener())\n\t\t\tthis.roomsListeners = []\n\t\t\tthis.resetMessages()\n\t\t},\n\n\t\tresetMessages() {\n\t\t\tthis.messages = []\n\t\t\tthis.messagesLoaded = false\n\t\t\tthis.startMessages = null\n\t\t\tthis.endMessages = null\n\t\t\tthis.listeners.forEach(listener => listener())\n\t\t\tthis.listeners = []\n\t\t},\n\n\t\tfetchRooms() {\n\t\t\tthis.resetRooms()\n\t\t\tthis.fetchMoreRooms()\n\t\t},\n\n\t\tasync fetchMoreRooms() {\n\t\t\tif (this.endRooms && !this.startRooms) return (this.roomsLoaded = true)\n\n\t\t\tlet query = roomsRef\n\t\t\t\t.where('users', 'array-contains', this.currentUserId)\n\t\t\t\t.orderBy('lastUpdated', 'desc')\n\t\t\t\t.limit(this.roomsPerPage)\n\n\t\t\tif (this.startRooms) query = query.startAfter(this.startRooms)\n\n\t\t\tconst rooms = await query.get()\n\t\t\t// this.incrementDbCounter('Fetch Rooms', rooms.size)\n\n\t\t\tthis.roomsLoaded = rooms.empty || rooms.size < this.roomsPerPage\n\n\t\t\tif (this.startRooms) this.endRooms = this.startRooms\n\t\t\tthis.startRooms = rooms.docs[rooms.docs.length - 1]\n\n\t\t\tconst roomUserIds = []\n\t\t\trooms.forEach(room => {\n\t\t\t\troom.data().users.forEach(userId => {\n\t\t\t\t\tconst foundUser = this.allUsers.find(user => user?._id === userId)\n\t\t\t\t\tif (!foundUser && roomUserIds.indexOf(userId) === -1) {\n\t\t\t\t\t\troomUserIds.push(userId)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\t// this.incrementDbCounter('Fetch Room Users', roomUserIds.length)\n\t\t\tconst rawUsers = []\n\t\t\troomUserIds.forEach(userId => {\n\t\t\t\tconst promise = usersRef\n\t\t\t\t\t.doc(userId)\n\t\t\t\t\t.get()\n\t\t\t\t\t.then(user => user.data())\n\n\t\t\t\trawUsers.push(promise)\n\t\t\t})\n\n\t\t\tthis.allUsers = [...this.allUsers, ...(await Promise.all(rawUsers))]\n\n\t\t\tconst roomList = {}\n\t\t\trooms.forEach(room => {\n\t\t\t\troomList[room.id] = { ...room.data(), users: [] }\n\n\t\t\t\troom.data().users.forEach(userId => {\n\t\t\t\t\tconst foundUser = this.allUsers.find(user => user?._id === userId)\n\t\t\t\t\tif (foundUser) roomList[room.id].users.push(foundUser)\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tconst formattedRooms = []\n\n\t\t\tObject.keys(roomList).forEach(key => {\n\t\t\t\tconst room = roomList[key]\n\n\t\t\t\tconst roomContacts = room.users.filter(\n\t\t\t\t\tuser => user._id !== this.currentUserId\n\t\t\t\t)\n\n\t\t\t\troom.roomName =\n\t\t\t\t\troomContacts.map(user => user.username).join(', ') || 'Myself'\n\n\t\t\t\tconst roomAvatar =\n\t\t\t\t\troomContacts.length === 1 && roomContacts[0].avatar\n\t\t\t\t\t\t? roomContacts[0].avatar\n\t\t\t\t\t\t: require('@/assets/logo.png')\n\n\t\t\t\tformattedRooms.push({\n\t\t\t\t\t...room,\n\t\t\t\t\troomId: key,\n\t\t\t\t\tavatar: roomAvatar,\n\t\t\t\t\tindex: room.lastUpdated.seconds,\n\t\t\t\t\tlastMessage: {\n\t\t\t\t\t\tcontent: 'Room created',\n\t\t\t\t\t\ttimestamp: this.formatTimestamp(\n\t\t\t\t\t\t\tnew Date(room.lastUpdated.seconds),\n\t\t\t\t\t\t\troom.lastUpdated\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tthis.rooms = this.rooms.concat(formattedRooms)\n\t\t\tformattedRooms.map(room => this.listenLastMessage(room))\n\n\t\t\tif (!this.rooms.length) {\n\t\t\t\tthis.loadingRooms = false\n\t\t\t\tthis.roomsLoadedCount = 0\n\t\t\t}\n\n\t\t\tthis.listenUsersOnlineStatus(formattedRooms)\n\t\t\tthis.listenRooms(query)\n\t\t\t// setTimeout(() => console.log('TOTAL', this.dbRequestCount), 2000)\n\t\t},\n\n\t\tlistenLastMessage(room) {\n\t\t\tconst listener = messagesRef(room.roomId)\n\t\t\t\t.orderBy('timestamp', 'desc')\n\t\t\t\t.limit(1)\n\t\t\t\t.onSnapshot(messages => {\n\t\t\t\t\t// this.incrementDbCounter('Listen Last Room Message', messages.size)\n\t\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\t\tconst lastMessage = this.formatLastMessage(message.data())\n\t\t\t\t\t\tconst roomIndex = this.rooms.findIndex(\n\t\t\t\t\t\t\tr => room.roomId === r.roomId\n\t\t\t\t\t\t)\n\t\t\t\t\t\tthis.rooms[roomIndex].lastMessage = lastMessage\n\t\t\t\t\t\tthis.rooms = [...this.rooms]\n\t\t\t\t\t})\n\t\t\t\t\tif (this.loadingLastMessageByRoom < this.rooms.length) {\n\t\t\t\t\t\tthis.loadingLastMessageByRoom++\n\n\t\t\t\t\t\tif (this.loadingLastMessageByRoom === this.rooms.length) {\n\t\t\t\t\t\t\tthis.loadingRooms = false\n\t\t\t\t\t\t\tthis.roomsLoadedCount = this.rooms.length\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\tthis.roomsListeners.push(listener)\n\t\t},\n\n\t\tformatLastMessage(message) {\n\t\t\tif (!message.timestamp) return\n\n\t\t\tlet content = message.content\n\t\t\tif (message.file)\n\t\t\t\tcontent = `${message.file.name}.${message.file.extension ||\n\t\t\t\t\tmessage.file.type}`\n\n\t\t\treturn {\n\t\t\t\t...message,\n\t\t\t\t...{\n\t\t\t\t\tcontent,\n\t\t\t\t\ttimestamp: this.formatTimestamp(\n\t\t\t\t\t\tnew Date(message.timestamp.seconds * 1000),\n\t\t\t\t\t\tmessage.timestamp\n\t\t\t\t\t),\n\t\t\t\t\tdistributed: true,\n\t\t\t\t\tseen: message.sender_id === this.currentUserId ? message.seen : null,\n\t\t\t\t\tnew:\n\t\t\t\t\t\tmessage.sender_id !== this.currentUserId &&\n\t\t\t\t\t\t(!message.seen || !message.seen[this.currentUserId])\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tformatTimestamp(date, timestamp) {\n\t\t\tconst timestampFormat = isSameDay(date, new Date()) ? 'HH:mm' : 'DD/MM/YY'\n\t\t\tconst result = parseTimestamp(timestamp, timestampFormat)\n\t\t\treturn timestampFormat === 'HH:mm' ? `Today, ${result}` : result\n\t\t},\n\n\t\tfetchMessages({ room, options = {} }) {\n\t\t\tthis.$emit('show-demo-options', false)\n\n\t\t\tif (options.reset) {\n\t\t\t\tthis.resetMessages()\n\t\t\t\tthis.roomId = room.roomId\n\t\t\t}\n\n\t\t\tif (this.endMessages && !this.startMessages)\n\t\t\t\treturn (this.messagesLoaded = true)\n\n\t\t\tlet ref = messagesRef(room.roomId)\n\n\t\t\tlet query = ref.orderBy('timestamp', 'desc').limit(this.messagesPerPage)\n\n\t\t\tif (this.startMessages) query = query.startAfter(this.startMessages)\n\n\t\t\tthis.selectedRoom = room.roomId\n\n\t\t\tquery.get().then(messages => {\n\t\t\t\t// this.incrementDbCounter('Fetch Room Messages', messages.size)\n\t\t\t\tif (this.selectedRoom !== room.roomId) return\n\n\t\t\t\tif (messages.empty) this.messagesLoaded = true\n\n\t\t\t\tif (this.startMessages) this.endMessages = this.startMessages\n\t\t\t\tthis.startMessages = messages.docs[messages.docs.length - 1]\n\n\t\t\t\tlet listenerQuery = ref.orderBy('timestamp')\n\n\t\t\t\tif (this.startMessages)\n\t\t\t\t\tlistenerQuery = listenerQuery.startAfter(this.startMessages)\n\t\t\t\tif (this.endMessages)\n\t\t\t\t\tlistenerQuery = listenerQuery.endAt(this.endMessages)\n\n\t\t\t\tif (options.reset) this.messages = []\n\n\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\t\tthis.messages.unshift(formattedMessage)\n\t\t\t\t})\n\n\t\t\t\tconst listener = listenerQuery.onSnapshot(snapshots => {\n\t\t\t\t\t// this.incrementDbCounter('Listen Room Messages', snapshots.size)\n\t\t\t\t\tthis.listenMessages(snapshots, room)\n\t\t\t\t})\n\t\t\t\tthis.listeners.push(listener)\n\t\t\t})\n\t\t},\n\n\t\tlistenMessages(messages, room) {\n\t\t\tmessages.forEach(message => {\n\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\tconst messageIndex = this.messages.findIndex(m => m._id === message.id)\n\n\t\t\t\tif (messageIndex === -1) {\n\t\t\t\t\tthis.messages = this.messages.concat([formattedMessage])\n\t\t\t\t} else {\n\t\t\t\t\tthis.$set(this.messages, messageIndex, formattedMessage)\n\t\t\t\t}\n\n\t\t\t\tthis.markMessagesSeen(room, message)\n\t\t\t})\n\t\t},\n\n\t\tmarkMessagesSeen(room, message) {\n\t\t\tif (\n\t\t\t\tmessage.data().sender_id !== this.currentUserId &&\n\t\t\t\t(!message.data().seen || !message.data().seen[this.currentUserId])\n\t\t\t) {\n\t\t\t\tmessagesRef(room.roomId)\n\t\t\t\t\t.doc(message.id)\n\t\t\t\t\t.update({\n\t\t\t\t\t\t[`seen.${this.currentUserId}`]: new Date()\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tformatMessage(room, message) {\n\t\t\tconst senderUser = room.users.find(\n\t\t\t\tuser => message.data().sender_id === user._id\n\t\t\t)\n\n\t\t\tconst { sender_id, timestamp } = message.data()\n\n\t\t\treturn {\n\t\t\t\t...message.data(),\n\t\t\t\t...{\n\t\t\t\t\tsenderId: sender_id,\n\t\t\t\t\t_id: message.id,\n\t\t\t\t\tseconds: timestamp.seconds,\n\t\t\t\t\ttimestamp: parseTimestamp(timestamp, 'HH:mm'),\n\t\t\t\t\tdate: parseTimestamp(timestamp, 'DD MMMM YYYY'),\n\t\t\t\t\tusername: senderUser ? senderUser.username : null,\n\t\t\t\t\t// avatar: senderUser ? senderUser.avatar : null,\n\t\t\t\t\tdistributed: true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tasync sendMessage({ content, roomId, file, replyMessage }) {\n\t\t\tconst message = {\n\t\t\t\tsender_id: this.currentUserId,\n\t\t\t\tcontent,\n\t\t\t\ttimestamp: new Date()\n\t\t\t}\n\n\t\t\tif (file) {\n\t\t\t\tmessage.file = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\textension: file.extension || file.type,\n\t\t\t\t\turl: file.localUrl\n\t\t\t\t}\n\t\t\t\tif (file.audio) {\n\t\t\t\t\tmessage.file.audio = true\n\t\t\t\t\tmessage.file.duration = file.duration\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (replyMessage) {\n\t\t\t\tmessage.replyMessage = {\n\t\t\t\t\t_id: replyMessage._id,\n\t\t\t\t\tcontent: replyMessage.content,\n\t\t\t\t\tsender_id: replyMessage.senderId\n\t\t\t\t}\n\n\t\t\t\tif (replyMessage.file) {\n\t\t\t\t\tmessage.replyMessage.file = replyMessage.file\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst { id } = await messagesRef(roomId).add(message)\n\n\t\t\tif (file) this.uploadFile({ file, messageId: id, roomId })\n\n\t\t\troomsRef.doc(roomId).update({ lastUpdated: new Date() })\n\t\t},\n\n\t\topenFile({ message }) {\n\t\t\twindow.open(message.file.url, '_blank')\n\t\t},\n\n\t\tasync openUserTag({ user }) {\n\t\t\tlet roomId\n\n\t\t\tthis.rooms.forEach(room => {\n\t\t\t\tif (room.users.length === 2) {\n\t\t\t\t\tconst userId1 = room.users[0]._id\n\t\t\t\t\tconst userId2 = room.users[1]._id\n\t\t\t\t\tif (\n\t\t\t\t\t\t(userId1 === user._id || userId1 === this.currentUserId) &&\n\t\t\t\t\t\t(userId2 === user._id || userId2 === this.currentUserId)\n\t\t\t\t\t) {\n\t\t\t\t\t\troomId = room.roomId\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (roomId) return (this.roomId = roomId)\n\n\t\t\tconst query1 = await roomsRef\n\t\t\t\t.where('users', '==', [this.currentUserId, user._id])\n\t\t\t\t.get()\n\n\t\t\tif (!query1.empty) {\n\t\t\t\treturn this.loadRoom(query1)\n\t\t\t}\n\n\t\t\tlet query2 = await roomsRef\n\t\t\t\t.where('users', '==', [user._id, this.currentUserId])\n\t\t\t\t.get()\n\n\t\t\tif (!query2.empty) {\n\t\t\t\treturn this.loadRoom(query2)\n\t\t\t}\n\n\t\t\tconst room = await roomsRef.add({\n\t\t\t\tusers: [user._id, this.currentUserId],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\n\t\t\tthis.roomId = room.id\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tasync loadRoom(query) {\n\t\t\tquery.forEach(async room => {\n\t\t\t\tif (this.loadingRooms) return\n\t\t\t\tawait roomsRef.doc(room.id).update({ lastUpdated: new Date() })\n\t\t\t\tthis.roomId = room.id\n\t\t\t\tthis.fetchRooms()\n\t\t\t})\n\t\t},\n\n\t\tasync editMessage({ messageId, newContent, roomId, file }) {\n\t\t\tconst newMessage = { edited: new Date() }\n\t\t\tnewMessage.content = newContent\n\n\t\t\tif (file) {\n\t\t\t\tnewMessage.file = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\textension: file.extension || file.type,\n\t\t\t\t\turl: file.url || file.localUrl\n\t\t\t\t}\n\t\t\t\tif (file.audio) {\n\t\t\t\t\tnewMessage.file.audio = true\n\t\t\t\t\tnewMessage.file.duration = file.duration\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewMessage.file = deleteDbField\n\t\t\t}\n\n\t\t\tawait messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update(newMessage)\n\n\t\t\tif (file?.blob) this.uploadFile({ file, messageId, roomId })\n\t\t},\n\n\t\tasync deleteMessage({ message, roomId }) {\n\t\t\tawait messagesRef(roomId)\n\t\t\t\t.doc(message._id)\n\t\t\t\t.update({ deleted: new Date() })\n\n\t\t\tconst { file } = message\n\n\t\t\tif (file) {\n\t\t\t\tconst deleteFileRef = filesRef\n\t\t\t\t\t.child(this.currentUserId)\n\t\t\t\t\t.child(message._id)\n\t\t\t\t\t.child(`${file.name}.${file.extension || file.type}`)\n\n\t\t\t\tawait deleteFileRef.delete()\n\t\t\t}\n\t\t},\n\n\t\tasync uploadFile({ file, messageId, roomId }) {\n\t\t\tlet type = file.extension || file.type\n\t\t\tif (type === 'svg' || type === 'pdf') {\n\t\t\t\ttype = file.type\n\t\t\t}\n\n\t\t\tconst uploadFileRef = filesRef\n\t\t\t\t.child(this.currentUserId)\n\t\t\t\t.child(messageId)\n\t\t\t\t.child(`${file.name}.${type}`)\n\n\t\t\tawait uploadFileRef.put(file.blob, { contentType: type })\n\t\t\tconst url = await uploadFileRef.getDownloadURL()\n\n\t\t\tawait messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update({\n\t\t\t\t\t['file.url']: url\n\t\t\t\t})\n\t\t},\n\n\t\tmenuActionHandler({ action, roomId }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'inviteUser':\n\t\t\t\t\treturn this.inviteUser(roomId)\n\t\t\t\tcase 'removeUser':\n\t\t\t\t\treturn this.removeUser(roomId)\n\t\t\t\tcase 'deleteRoom':\n\t\t\t\t\treturn this.deleteRoom(roomId)\n\t\t\t}\n\t\t},\n\n\t\tasync sendMessageReaction({ reaction, remove, messageId, roomId }) {\n\t\t\tconst dbAction = remove\n\t\t\t\t? firebase.firestore.FieldValue.arrayRemove(this.currentUserId)\n\t\t\t\t: firebase.firestore.FieldValue.arrayUnion(this.currentUserId)\n\n\t\t\tawait messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update({\n\t\t\t\t\t[`reactions.${reaction.name}`]: dbAction\n\t\t\t\t})\n\t\t},\n\n\t\ttypingMessage({ message, roomId }) {\n\t\t\tif (!roomId) return\n\n\t\t\tif (message?.length > 1) {\n\t\t\t\treturn (this.typingMessageCache = message)\n\t\t\t}\n\n\t\t\tif (message?.length === 1 && this.typingMessageCache) {\n\t\t\t\treturn (this.typingMessageCache = message)\n\t\t\t}\n\n\t\t\tthis.typingMessageCache = message\n\n\t\t\tconst dbAction = message\n\t\t\t\t? firebase.firestore.FieldValue.arrayUnion(this.currentUserId)\n\t\t\t\t: firebase.firestore.FieldValue.arrayRemove(this.currentUserId)\n\n\t\t\troomsRef.doc(roomId).update({\n\t\t\t\ttypingUsers: dbAction\n\t\t\t})\n\t\t},\n\n\t\tasync listenRooms(query) {\n\t\t\tconst listener = query.onSnapshot(rooms => {\n\t\t\t\t// this.incrementDbCounter('Listen Rooms Typing Users', rooms.size)\n\t\t\t\trooms.forEach(room => {\n\t\t\t\t\tconst foundRoom = this.rooms.find(r => r.roomId === room.id)\n\t\t\t\t\tif (foundRoom) {\n\t\t\t\t\t\tfoundRoom.typingUsers = room.data().typingUsers\n\t\t\t\t\t\tfoundRoom.index = room.data().lastUpdated.seconds\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.roomsListeners.push(listener)\n\t\t},\n\n\t\tupdateUserOnlineStatus() {\n\t\t\tconst userStatusRef = firebase\n\t\t\t\t.database()\n\t\t\t\t.ref('/status/' + this.currentUserId)\n\n\t\t\tconst isOfflineData = {\n\t\t\t\tstate: 'offline',\n\t\t\t\tlastChanged: firebase.database.ServerValue.TIMESTAMP\n\t\t\t}\n\n\t\t\tconst isOnlineData = {\n\t\t\t\tstate: 'online',\n\t\t\t\tlastChanged: firebase.database.ServerValue.TIMESTAMP\n\t\t\t}\n\n\t\t\tfirebase\n\t\t\t\t.database()\n\t\t\t\t.ref('.info/connected')\n\t\t\t\t.on('value', snapshot => {\n\t\t\t\t\tif (snapshot.val() == false) return\n\n\t\t\t\t\tuserStatusRef\n\t\t\t\t\t\t.onDisconnect()\n\t\t\t\t\t\t.set(isOfflineData)\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tuserStatusRef.set(isOnlineData)\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t},\n\n\t\tlistenUsersOnlineStatus(rooms) {\n\t\t\trooms.map(room => {\n\t\t\t\troom.users.map(user => {\n\t\t\t\t\tconst listener = firebase\n\t\t\t\t\t\t.database()\n\t\t\t\t\t\t.ref('/status/' + user._id)\n\t\t\t\t\t\t.on('value', snapshot => {\n\t\t\t\t\t\t\tif (!snapshot || !snapshot.val()) return\n\n\t\t\t\t\t\t\tconst lastChanged = this.formatTimestamp(\n\t\t\t\t\t\t\t\tnew Date(snapshot.val().lastChanged),\n\t\t\t\t\t\t\t\tnew Date(snapshot.val().lastChanged)\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tuser.status = { ...snapshot.val(), lastChanged }\n\n\t\t\t\t\t\t\tconst roomIndex = this.rooms.findIndex(\n\t\t\t\t\t\t\t\tr => room.roomId === r.roomId\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tthis.$set(this.rooms, roomIndex, room)\n\t\t\t\t\t\t})\n\t\t\t\t\tthis.roomsListeners.push(listener)\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\taddRoom() {\n\t\t\tthis.resetForms()\n\t\t\tthis.addNewRoom = true\n\t\t},\n\n\t\tasync createRoom() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await usersRef.add({ username: this.addRoomUsername })\n\t\t\tawait usersRef.doc(id).update({ _id: id })\n\t\t\tawait roomsRef.add({\n\t\t\t\tusers: [id, this.currentUserId],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\n\t\t\tthis.addNewRoom = false\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tinviteUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.inviteRoomId = roomId\n\t\t},\n\n\t\tasync addRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await usersRef.add({ username: this.invitedUsername })\n\t\t\tawait usersRef.doc(id).update({ _id: id })\n\n\t\t\tawait roomsRef\n\t\t\t\t.doc(this.inviteRoomId)\n\t\t\t\t.update({ users: firebase.firestore.FieldValue.arrayUnion(id) })\n\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tremoveUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.removeRoomId = roomId\n\t\t\tthis.removeUsers = this.rooms.find(room => room.roomId === roomId).users\n\t\t},\n\n\t\tasync deleteRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tawait roomsRef.doc(this.removeRoomId).update({\n\t\t\t\tusers: firebase.firestore.FieldValue.arrayRemove(this.removeUserId)\n\t\t\t})\n\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tasync deleteRoom(roomId) {\n\t\t\tconst room = this.rooms.find(r => r.roomId === roomId)\n\t\t\tif (\n\t\t\t\troom.users.find(user => user._id === 'SGmFnBZB4xxMv9V4CVlW') ||\n\t\t\t\troom.users.find(user => user._id === '6jMsIXUrBHBj7o2cRlau')\n\t\t\t) {\n\t\t\t\treturn alert('Nope, for demo purposes you cannot delete this room')\n\t\t\t}\n\n\t\t\tconst ref = messagesRef(roomId)\n\n\t\t\tref.get().then(res => {\n\t\t\t\tif (res.empty) return\n\t\t\t\tres.docs.map(doc => ref.doc(doc.id).delete())\n\t\t\t})\n\n\t\t\tawait roomsRef.doc(roomId).delete()\n\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tresetForms() {\n\t\t\tthis.disableForm = false\n\t\t\tthis.addNewRoom = null\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t}\n\n\t\t// ,incrementDbCounter(type, size) {\n\t\t// \tsize = size || 1\n\t\t// \tthis.dbRequestCount += size\n\t\t// \tconsole.log(type, size)\n\t\t// }\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.window-container {\n\twidth: 100%;\n}\n\n.window-mobile {\n\tform {\n\t\tpadding: 0 10px 10px;\n\t}\n}\n\nform {\n\tpadding-bottom: 20px;\n}\n\ninput {\n\tpadding: 5px;\n\twidth: 140px;\n\theight: 21px;\n\tborder-radius: 4px;\n\tborder: 1px solid #d2d6da;\n\toutline: none;\n\tfont-size: 14px;\n\tvertical-align: middle;\n\n\t&::placeholder {\n\t\tcolor: #9ca6af;\n\t}\n}\n\nbutton {\n\tbackground: #1976d2;\n\tcolor: #fff;\n\toutline: none;\n\tcursor: pointer;\n\tborder-radius: 4px;\n\tpadding: 8px 12px;\n\tmargin-left: 10px;\n\tborder: none;\n\tfont-size: 14px;\n\ttransition: 0.3s;\n\tvertical-align: middle;\n\n\t&:hover {\n\t\topacity: 0.8;\n\t}\n\n\t&:active {\n\t\topacity: 0.6;\n\t}\n\n\t&:disabled {\n\t\tcursor: initial;\n\t\tbackground: #c6c9cc;\n\t\topacity: 0.6;\n\t}\n}\n\n.button-cancel {\n\tcolor: #a8aeb3;\n\tbackground: none;\n\tmargin-left: 5px;\n}\n\nselect {\n\tvertical-align: middle;\n\theight: 33px;\n\twidth: 152px;\n\tfont-size: 13px;\n\tmargin: 0 !important;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatContainer.vue?vue&type=template&id=75377f18&scoped=true&\"\nimport script from \"./ChatContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatContainer.vue?vue&type=style&index=0&id=75377f18&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75377f18\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<div\n\t\t\tclass=\"app-container\"\n\t\t\t:class=\"{ 'app-mobile': isDevice, 'app-mobile-dark': theme === 'dark' }\"\n\t\t>\n\t\t\t<!-- <div>\n\t\t\t\t<button @click=\"resetData\">Clear Data</button>\n\t\t\t\t<button @click=\"addData\" :disabled=\"updatingData\">Add Data</button>\n\t\t\t</div> -->\n\t\t\t<span\n\t\t\t\tclass=\"user-logged\"\n\t\t\t\t:class=\"{ 'user-logged-dark': theme === 'dark' }\"\n\t\t\t\tv-if=\"showOptions\"\n\t\t\t>\n\t\t\t\tLogged as\n\t\t\t</span>\n\t\t\t<select v-model=\"currentUserId\" v-if=\"showOptions\">\n\t\t\t\t<option v-for=\"user in users\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t{{ user.username }}\n\t\t\t\t</option>\n\t\t\t</select>\n\n\t\t\t<div class=\"button-theme\" v-if=\"showOptions\">\n\t\t\t\t<button @click=\"theme = 'light'\" class=\"button-light\">Light</button>\n\t\t\t\t<button @click=\"theme = 'dark'\" class=\"button-dark\">Dark</button>\n\t\t\t\t<button class=\"button-github\">\n\t\t\t\t\t<a href=\"https://github.com/antoine92190/vue-advanced-chat\">\n\t\t\t\t\t\t<img src=\"@/assets/github.svg\" />\n\t\t\t\t\t</a>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<chat-container\n\t\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t\t:theme=\"theme\"\n\t\t\t\t:isDevice=\"isDevice\"\n\t\t\t\t@show-demo-options=\"showDemoOptions = $event\"\n\t\t\t\tv-if=\"showChat\"\n\t\t\t/>\n\n\t\t\t<!-- <div class=\"version-container\">\n\t\t\t\tv1.0.0\n\t\t\t</div> -->\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { roomsRef, usersRef } from '@/firestore'\nimport ChatContainer from './ChatContainer'\n\nexport default {\n\tcomponents: {\n\t\tChatContainer\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\ttheme: 'light',\n\t\t\tshowChat: true,\n\t\t\tusers: [\n\t\t\t\t{\n\t\t\t\t\t_id: '6R0MijpK6M4AIrwaaCY2',\n\t\t\t\t\tusername: 'Luke',\n\t\t\t\t\tavatar: 'https://66.media.tumblr.com/avatar_c6a8eae4303e_512.pnj'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: 'SGmFnBZB4xxMv9V4CVlW',\n\t\t\t\t\tusername: 'Leia',\n\t\t\t\t\tavatar: 'https://avatarfiles.alphacoders.com/184/thumb-184913.jpg'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: '6jMsIXUrBHBj7o2cRlau',\n\t\t\t\t\tusername: 'Yoda',\n\t\t\t\t\tavatar:\n\t\t\t\t\t\t'https://vignette.wikia.nocookie.net/teamavatarone/images/4/45/Yoda.jpg/revision/latest?cb=20130224160049'\n\t\t\t\t}\n\t\t\t],\n\t\t\tcurrentUserId: '6R0MijpK6M4AIrwaaCY2',\n\t\t\tisDevice: false,\n\t\t\tshowDemoOptions: true,\n\t\t\tupdatingData: false\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.isDevice = window.innerWidth < 500\n\t\twindow.addEventListener('resize', ev => {\n\t\t\tif (ev.isTrusted) this.isDevice = window.innerWidth < 500\n\t\t})\n\t},\n\n\twatch: {\n\t\tcurrentUserId() {\n\t\t\tthis.showChat = false\n\t\t\tsetTimeout(() => (this.showChat = true), 150)\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowOptions() {\n\t\t\treturn !this.isDevice || this.showDemoOptions\n\t\t}\n\t},\n\n\tmethods: {\n\t\tresetData() {\n\t\t\troomsRef.get().then(val => {\n\t\t\t\tval.forEach(async val => {\n\t\t\t\t\tconst ref = roomsRef.doc(val.id).collection('messages')\n\n\t\t\t\t\tawait ref.get().then(res => {\n\t\t\t\t\t\tif (res.empty) return\n\t\t\t\t\t\tres.docs.map(doc => ref.doc(doc.id).delete())\n\t\t\t\t\t})\n\n\t\t\t\t\troomsRef.doc(val.id).delete()\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tusersRef.get().then(val => {\n\t\t\t\tval.forEach(val => {\n\t\t\t\t\tusersRef.doc(val.id).delete()\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tasync addData() {\n\t\t\tthis.updatingData = true\n\n\t\t\tconst user1 = this.users[0]\n\t\t\tawait usersRef.doc(user1._id).set(user1)\n\n\t\t\tconst user2 = this.users[1]\n\t\t\tawait usersRef.doc(user2._id).set(user2)\n\n\t\t\tconst user3 = this.users[2]\n\t\t\tawait usersRef.doc(user3._id).set(user3)\n\n\t\t\tawait roomsRef.add({\n\t\t\t\tusers: [user1._id, user2._id],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\t\t\tawait roomsRef.add({\n\t\t\t\tusers: [user1._id, user3._id],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\t\t\tawait roomsRef.add({\n\t\t\t\tusers: [user2._id, user3._id],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\t\t\tawait roomsRef.add({\n\t\t\t\tusers: [user1._id, user2._id, user3._id],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\n\t\t\tthis.updatingData = false\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\nbody {\n\tbackground: #fafafa;\n\tmargin: 0;\n}\n\ninput {\n\t-webkit-appearance: none;\n}\n\n.app-container {\n\tfont-family: 'Quicksand', sans-serif;\n\tpadding: 20px 30px 30px;\n}\n\n.app-mobile {\n\tpadding: 0;\n\n\t&.app-mobile-dark {\n\t\tbackground: #131415;\n\t}\n\n\t.user-logged {\n\t\tmargin: 10px 5px 0 10px;\n\t}\n\n\tselect {\n\t\tmargin: 10px 0;\n\t}\n\n\t.button-theme {\n\t\tmargin: 10px 10px 0 0;\n\n\t\t.button-github {\n\t\t\theight: 23px;\n\n\t\t\timg {\n\t\t\t\theight: 23px;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.user-logged {\n\tfont-size: 12px;\n\tmargin-right: 5px;\n\tmargin-top: 10px;\n\n\t&.user-logged-dark {\n\t\tcolor: #fff;\n\t}\n}\n\nselect {\n\theight: 20px;\n\toutline: none;\n\tborder: 1px solid #e0e2e4;\n\tborder-radius: 4px;\n\tbackground: #fff;\n\tmargin-bottom: 20px;\n}\n\n.button-theme {\n\tfloat: right;\n\tdisplay: flex;\n\talign-items: center;\n\n\t.button-light {\n\t\tbackground: #fff;\n\t\tborder: 1px solid #46484e;\n\t\tcolor: #46484e;\n\t}\n\n\t.button-dark {\n\t\tbackground: #1c1d21;\n\t\tborder: 1px solid #1c1d21;\n\t}\n\n\tbutton {\n\t\tcolor: #fff;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t\tpadding: 6px 12px;\n\t\tmargin-left: 10px;\n\t\tborder: none;\n\t\tfont-size: 14px;\n\t\ttransition: 0.3s;\n\t\tvertical-align: middle;\n\n\t\t&.button-github {\n\t\t\theight: 30px;\n\t\t\tbackground: none;\n\t\t\tpadding: 0;\n\t\t\tmargin-left: 20px;\n\n\t\t\timg {\n\t\t\t\theight: 30px;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\topacity: 0.8;\n\t\t}\n\n\t\t&:active {\n\t\t\topacity: 0.6;\n\t\t}\n\n\t\t@media only screen and (max-width: 768px) {\n\t\t\tpadding: 3px 6px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t}\n}\n\n.version-container {\n\tpadding-top: 20px;\n\ttext-align: right;\n\tfont-size: 14px;\n\tcolor: grey;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3f7a0696&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n\trender: h => h(App)\n}).$mount('#app')\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export function detectMobile() {\n\tvar userAgent = getUserAgent()\n\n\tvar userAgentPart = userAgent.substr(0, 4)\n\n\treturn (\n\t\t/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\n\t\t\tuserAgent\n\t\t) ||\n\t\t/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(\n\t\t\tuserAgentPart\n\t\t)\n\t)\n}\n\nfunction getUserAgent() {\n\tvar userAgent =\n\t\tnavigator.userAgent || navigator.vendor || window.opera || null\n\n\tif (!userAgent) throw new Error('Failed to look for user agent information.')\n\n\treturn userAgent\n}\n\nexport function iOSDevice() {\n\treturn (\n\t\t['iPad', 'iPhone', 'iPod'].includes(navigator.platform) ||\n\t\t(navigator.userAgent.includes('Mac') && 'ontouchend' in document)\n\t)\n}\n","export function roomsValidation(obj) {\n\tconst roomsValidate = [\n\t\t{ key: 'roomId', type: ['string', 'number'] },\n\t\t{ key: 'roomName', type: ['string'] },\n\t\t{ key: 'users', type: ['array'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tlet validType = false\n\n\t\t\tif (prop.type[0] === 'array' && Array.isArray(obj[prop.key])) {\n\t\t\t\tvalidType = true\n\t\t\t} else if (prop.type.find(t => t === typeof obj[prop.key])) {\n\t\t\t\tvalidType = true\n\t\t\t}\n\n\t\t\treturn validType && checkObjectValid(obj, prop.key)\n\t\t})\n\t}\n\n\tif (!validate(obj, roomsValidate)) {\n\t\tthrow new Error(\n\t\t\t'Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]'\n\t\t)\n\t}\n}\n\nexport function partcipantsValidation(obj) {\n\tconst participantsValidate = [\n\t\t{ key: '_id', type: ['string', 'number'] },\n\t\t{ key: 'username', type: ['string'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tconst validType = prop.type.find(t => t === typeof obj[prop.key])\n\t\t\treturn validType && checkObjectValid(obj, prop.key)\n\t\t})\n\t}\n\n\tif (!validate(obj, participantsValidate)) {\n\t\tthrow new Error(\n\t\t\t'Participants object is not valid! Must contain _id[String, Number] and username[String]'\n\t\t)\n\t}\n}\n\nexport function messagesValidation(obj) {\n\tconst messagesValidate = [\n\t\t{ key: '_id', type: ['string', 'number'] },\n\t\t{ key: 'content', type: ['string', 'number'] },\n\t\t{ key: 'senderId', type: ['string', 'number'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tconst validType = prop.type.find(t => t === typeof obj[prop.key])\n\t\t\treturn validType && checkObjectValid(obj, prop.key)\n\t\t})\n\t}\n\n\tif (!validate(obj, messagesValidate)) {\n\t\tthrow new Error(\n\t\t\t'Messages object is not valid! Must contain _id[String, Number], content[String, Number] and senderId[String, Number]'\n\t\t)\n\t}\n}\n\nfunction checkObjectValid(obj, key) {\n\treturn (\n\t\tObject.prototype.hasOwnProperty.call(obj, key) &&\n\t\tobj[key] !== null &&\n\t\tobj[key] !== undefined\n\t)\n}\n","export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"","module.exports = \"data:image/png;base64,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\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=style&index=0&id=75377f18&lang=scss&scoped=true&\""],"sourceRoot":""}